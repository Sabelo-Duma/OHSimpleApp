/*! For license information please see main.f6e635ba.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:C.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+I(c,0):i,k(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),E(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",k(e))for(var l=0;l<e.length;l++){var u=i+I(s=e[l],l);c+=E(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=E(s=s.value,t,o,u=i+I(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],o=0;return E(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},M={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function k(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,O(x);else{var t=r(u);null!==t&&M(k,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var i=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!E());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&o(l),b(n)}else o(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&M(k,h.startTime-n),c=!1}return c}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,_=!1,S=null,T=-1,A=5,I=-1;function E(){return!(t.unstable_now()-I<A)}function P(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?C():(_=!1,S=null)}}else _=!1}if("function"===typeof w)C=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,C=function(){N.postMessage(null)}}else C=function(){y(P,0)};function O(e){S=e,_||(_=!0,C())}function M(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(g?(v(T),T=-1):g=!0,M(k,i-a))):(e.sortIndex=s,n(l,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},450:function(e,t,n){var r,o,i;o=[],void 0===(i="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):o(c.href)?r(e,t,n):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(o(e))r(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){i(s)})}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var i="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&c||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});a.saveAs=c.saveAs=c,e.exports=c})?r.apply(t,o):r)||(e.exports=i)},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var D,F=Object.assign;function j(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var c="\n"+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ie(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,_e=null;function Se(e){if(e=bo(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Te(e){Ce?_e?_e.push(e):_e=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=_e;if(_e=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ee(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ce||null!==_e)&&(Ee(),Ae())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Oe=!1}function Le(e,t,n,r,o,i,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var De=!1,Fe=null,je=!1,Be=null,Ue={onError:function(e){De=!0,Fe=e}};function ze(e,t,n,r,o,i,a,s,c){De=!1,Fe=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ke(o),e;if(a===r)return Ke(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Je=o.unstable_requestPaint,Xe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,$e=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ht(s):0!==(i&=a)&&(r=ht(i))}else 0!==(a=n&~o)?r=ht(a):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,Ct,_t,St,Tt=!1,At=[],It=null,Et=null,Pt=null,Rt=new Map,Nt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=wo(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==It&&jt(It)&&(It=null),null!==Et&&jt(Et)&&(Et=null),null!==Pt&&jt(Pt)&&(Pt=null),Rt.forEach(Bt),Nt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Et&&zt(Et,e),null!==Pt&&zt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var o=wt,i=Ht.transition;Ht.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=o,Ht.transition=i}}function Vt(e,t,n,r){var o=wt,i=Ht.transition;Ht.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=o,Ht.transition=i}}function Gt(e,t,n,r){if(Kt){var o=Yt(e,t,n,r);if(null===o)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return It=Dt(It,e,t,n,r,o),!0;case"dragenter":return Et=Dt(Et,e,t,n,r,o),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Dt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nt.set(i,Dt(Nt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var i=bo(o);if(null!==i&&kt(i),null===(i=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=wo(e=ke(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),hn=F({},ln,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(F({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return _n}var Tn=F({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(Tn),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Rn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Mn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(ko(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,ke(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Vr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Cr={},_r={};function Sr(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Cr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Sr("animationend"),Ar=Sr("animationiteration"),Ir=Sr("animationstart"),Er=Sr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),c(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Mr=Rr[Or];Nr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ar,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Er,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,c,l){if(ze.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Fe;De=!1,Fe=null,je||(je=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;Fr(o,s,l),i=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;Fr(o,s,l),i=c}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var o=Wt;break;case 4:o=Vt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=wo(s)))return;if(5===(c=a.tag)||6===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Re(function(){var r=i,o=ke(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=An;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=En;break;case Tr:case Ar:case Ir:c=yn;break;case Er:c=Pn;break;case"scroll":c=dn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ne(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!wo(l)&&!l[mo])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?wo(l):null)&&(l!==(h=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?s:ko(c),f=null==l?s:ko(l),(s=new u(m,p+"leave",c,n,o)).target=h,s.relatedTarget=f,m=null,wo(o)===r&&((u=new u(d,p+"enter",l,n,o)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==c&&Qr(a,s,c,u,!1),null!==l&&null!==h&&Qr(a,h,l,u,!0)}if("select"===(c=(s=r?ko(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Jn;else if(Kn(s))if(Xn)g=ar;else{g=or;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ko(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,o)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(v=en()):(Zt="value"in(Xt=o)?Xt.value:Xt.textContent,qn=!0)),0<(y=Vr(r,w)).length&&(w=new bn(w,e,null,n,o),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}jr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ne(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Ne(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(c=Ne(n,i))&&a.unshift(Wr(n,c,s)):o||null!=(c=Ne(n,i))&&a.push(Wr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function $r(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);qt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function wo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[po]||null}var Co=[],_o=-1;function So(e){return{current:e}}function To(e){0>_o||(e.current=Co[_o],Co[_o]=null,_o--)}function Ao(e,t){_o++,Co[_o]=e.current,e.current=t}var Io={},Eo=So(Io),Po=So(!1),Ro=Io;function No(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mo(){To(Po),To(Eo)}function Lo(e,t,n){if(Eo.current!==Io)throw Error(i(168));Ao(Eo,t),Ao(Po,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return F({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Ro=Eo.current,Ao(Eo,e),Ao(Po,Po.current),!0}function jo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,To(Po),To(Eo),Ao(Eo,e)):To(Po),Ao(Po,n)}var Bo=null,Uo=!1,zo=!1;function qo(e){null===Bo?Bo=[e]:Bo.push(e)}function Ho(){if(!zo&&null!==Bo){zo=!0;var e=0,t=wt;try{var n=Bo;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,Uo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),Ge($e,Ho),o}finally{wt=t,zo=!1}}return null}var Ko=[],Wo=0,Vo=null,Go=0,Qo=[],Yo=0,Jo=null,Xo=1,Zo="";function $o(e,t){Ko[Wo++]=Go,Ko[Wo++]=Vo,Vo=e,Go=t}function ei(e,t,n){Qo[Yo++]=Xo,Qo[Yo++]=Zo,Qo[Yo++]=Jo,Jo=e;var r=Xo;e=Zo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Xo=1<<32-at(t)+o|n<<o|r,Zo=i+e}else Xo=1<<i|n<<o|r,Zo=e}function ti(e){null!==e.return&&($o(e,1),ei(e,1,0))}function ni(e){for(;e===Vo;)Vo=Ko[--Wo],Ko[Wo]=null,Go=Ko[--Wo],Ko[Wo]=null;for(;e===Jo;)Jo=Qo[--Yo],Qo[Yo]=null,Zo=Qo[--Yo],Qo[Yo]=null,Xo=Qo[--Yo],Qo[Yo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Xo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ci(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return hi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=lo(t.nextSibling)}if(hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=lo(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=b.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===N&&wi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case x:return(t=jl(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?l(e,t,n,r):null;case x:return n.key===o?u(e,t,n,r):null;case N:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||L(n))return null!==o?null:h(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,s,c){for(var l=null,u=null,h=i,m=i=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(o,h,s[m],c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(o,h),i=a(y,i,m),null===u?l=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(o,h),ii&&$o(o,m),l;if(null===h){for(;m<s.length;m++)null!==(h=d(o,s[m],c))&&(i=a(h,i,m),null===u?l=h:u.sibling=h,u=h);return ii&&$o(o,m),l}for(h=r(o,h);m<s.length;m++)null!==(g=p(h,o,m,s[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(o,e)}),ii&&$o(o,m),l}function g(o,s,c,l){var u=L(c);if("function"!==typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var h=u=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(o,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(o,m),s=a(w,s,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(o,m),ii&&$o(o,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(o,v.value,l))&&(s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return ii&&$o(o,g),u}for(m=r(o,m);!v.done;g++,v=c.next())null!==(v=p(m,o,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(o,e)}),ii&&$o(o,g),u}return function e(r,i,a,c){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var l=a.key,u=i;null!==u;){if(u.key===l){if((l=a.type)===C){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&wi(l)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===C?((i=Ll(a.props.children,r.mode,c,a.key)).return=r,r=i):((c=Ml(a.type,a.key,a.props,null,r.mode,c)).ref=yi(r,i,a),c.return=r,r=c)}return s(r);case x:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=jl(a,r.mode,c)).return=r,r=i}return s(r);case N:return e(r,i,(u=a._init)(a._payload),c)}if(te(a))return m(r,i,a,c);if(L(a))return g(r,i,a,c);vi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fl(a,r.mode,c)).return=r,r=i),s(r)):n(r,i)}}var ki=bi(!0),xi=bi(!1),Ci=So(null),_i=null,Si=null,Ti=null;function Ai(){Ti=Si=_i=null}function Ii(e){var t=Ci.current;To(Ci),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){_i=e,Ti=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===_i)throw Error(i(308));Si=e,_i.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ni=null;function Oi(e){null===Ni?Ni=[e]:Ni.push(e)}function Mi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ji(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ic)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Li(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Li(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function qi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?i=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==i){var h=o.baseState;for(a=0,u=l=c=null,s=i;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Di=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===u&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dc|=a,e.lanes=a,e.memoizedState=h}}function Ki(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Wi={},Vi=So(Wi),Gi=So(Wi),Qi=So(Wi);function Yi(e){if(e===Wi)throw Error(i(174));return e}function Ji(e,t){switch(Ao(Qi,t),Ao(Gi,e),Ao(Vi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(Vi),Ao(Vi,t)}function Xi(){To(Vi),To(Gi),To(Qi)}function Zi(e){Yi(Qi.current);var t=Yi(Vi.current),n=ce(t,e.type);t!==n&&(Ao(Gi,e),Ao(Vi,n))}function $i(e){Gi.current===e&&(To(Vi),To(Gi))}var ea=So(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,aa=0,sa=null,ca=null,la=null,ua=!1,ha=!1,da=0,fa=0;function pa(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?$a:es,e=n(r,o),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(i(301));a+=1,la=ca=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(ha)}if(oa.current=Za,t=null!==ca&&null!==ca.next,aa=0,la=ca=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function wa(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ca,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var c=s=null,l=null,u=a;do{var h=u.lane;if((aa&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,s=r):l=l.next=d,sa.lanes|=h,Dc|=h}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Dc|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function _a(e,t){var n=sa,r=wa(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,ws=!0),r=r.queue,Da(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ra(9,Ta.bind(null,n,r,o,t),void 0,null),null===Ec)throw Error(i(349));0!==(30&aa)||Sa(n,t,o)}return o}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Ea(e)}function Aa(e,t,n){return n(function(){Ia(t)&&Ea(e)})}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ea(e){var t=Li(e,1);null!==t&&nl(t,e,1,-1)}function Pa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return wa().memoizedState}function Oa(e,t,n,r){var o=va();sa.flags|=e,o.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var o=wa();r=void 0===r?null:r;var i=void 0;if(null!==ca){var a=ca.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Ra(t,n,i,r))}sa.flags|=e,o.memoizedState=Ra(1|t,n,i,r)}function La(e,t){return Oa(8390656,8,e,t)}function Da(e,t){return Ma(2048,8,e,t)}function Fa(e,t){return Ma(4,2,e,t)}function ja(e,t){return Ma(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Ba.bind(null,t,e),n)}function za(){}function qa(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Dc|=n,e.baseState=!0),t)}function Wa(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{wt=n,ia.transition=r}}function Va(){return wa().memoizedState}function Ga(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ja(t,n);else if(null!==(n=Mi(e,t,n,r))){nl(n,e,r,el()),Xa(n,t,r)}}function Qa(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ja(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(o.next=o,Oi(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Mi(e,t,o,r))&&(nl(n,e,r,o=el()),Xa(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){ha=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Za={readContext:Ri,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:Ri,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ec)throw Error(i(349));0!==(30&aa)||Sa(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,La(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Ec.identifierPrefix;if(ii){var n=Zo;t=":"+t+"R"+(n=(Xo&~(1<<32-at(Xo)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ri,useCallback:qa,useContext:Ri,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:ja,useMemo:Ha,useReducer:ka,useRef:Na,useState:function(){return ka(ba)},useDebugValue:za,useDeferredValue:function(e){return Ka(wa(),ca.memoizedState,e)},useTransition:function(){return[ka(ba)[0],wa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:_a,useId:Va,unstable_isNewReconciler:!1},ts={readContext:Ri,useCallback:qa,useContext:Ri,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:ja,useMemo:Ha,useReducer:xa,useRef:Na,useState:function(){return xa(ba)},useDebugValue:za,useDeferredValue:function(e){var t=wa();return null===ca?t.memoizedState=e:Ka(t,ca.memoizedState,e)},useTransition:function(){return[xa(ba)[0],wa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:_a,useId:Va,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Bi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nl(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Bi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nl(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Bi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ui(e,o,r))&&(nl(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,i))}function as(e,t,n){var r=!1,o=Io,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(o=Oo(t)?Ro:Eo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?No(e,o):Io),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ri(i):(i=Oo(t)?Ro:Eo.current,o.context=No(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Hi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Bi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Wc=r),hs(0,t)},n}function ps(e,t,n){(n=Bi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Vc?Vc=new Set([this]):Vc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=b.ReactCurrentOwner,ws=!1;function bs(e,t,n,r){t.child=null===e?xi(t,null,n,r):ki(t,e.child,n,r)}function ks(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||ws?(ii&&n&&ti(t),t.flags|=1,bs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ks(e,t,o))}function xs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Nl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Cs(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ks(e,t,o)}return t.flags|=1,(e=Ol(i,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Ks(e,t,o);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,o)}function _s(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Oc,Nc),Nc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Oc,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Oc,Nc),Nc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Oc,Nc),Nc|=r;return bs(e,t,o,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,o){var i=Oo(n)?Ro:Eo.current;return i=No(t,i),Pi(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||ws?(ii&&r&&ti(t),t.flags|=1,bs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ks(e,t,o))}function As(e,t,n,r,o){if(Oo(n)){var i=!0;Fo(t)}else i=!1;if(Pi(t,o),null===t.stateNode)Hs(e,t),as(t,n,r),cs(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ri(l):l=No(t,l=Oo(n)?Ro:Eo.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,a,r,l),Di=!1;var d=t.memoizedState;a.state=d,Hi(t,r,a,o),c=t.memoizedState,s!==r||d!==c||Po.current||Di?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=Di||is(t,n,s,r,d,c,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ji(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,h=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ri(c):c=No(t,c=Oo(n)?Ro:Eo.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==c)&&ss(t,a,r,c),Di=!1,d=t.memoizedState,a.state=d,Hi(t,r,a,o);var p=t.memoizedState;s!==h||d!==p||Po.current||Di?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(l=Di||is(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,i,o)}function Is(e,t,n,r,o,i){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&jo(t,n,!1),Ks(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):bs(e,t,s,i),t.memoizedState=r.state,o&&jo(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),Ji(e,t.containerInfo)}function Ps(e,t,n,r,o){return pi(),mi(o),t.flags|=256,bs(e,t,n,r),t.child}var Rs,Ns,Os,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Dl(c,o,0,null),e=Ll(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):js(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Dl({mode:"visible",children:r.children},o,0,null),(a=Ll(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ki(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Bs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(r=Ec)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Li(e,o),nl(r,e,o,-1))}return ml(),Bs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Al.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Qo[Yo++]=Xo,Qo[Yo++]=Zo,Qo[Yo++]=Jo,Xo=e.id,Zo=e.overflow,Jo=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,a,n);if(s){s=o.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Ol(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ol(r,s):(s=Ll(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?Ds(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,o}return e=(s=e.child).sibling,o=Ol(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function js(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mi(r),ki(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function zs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function qs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zs(t,!0,n,null,i);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Oo(t.type)&&Mo(),Vs(t),null;case 3:return r=t.stateNode,Xi(),To(Po),To(Eo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(al(ai),ai=null))),Ns(e,t),Vs(t),null;case 5:$i(t);var o=Yi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Vs(t),null}if(e=Yi(Vi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[po]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)Br(Lr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var c in ve(n,a),o=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Br("scroll",r)}switch(n){case"input":V(r),$(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fo]=t,e[po]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)Br(Lr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":J(e,r),o=Y(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in ve(n,o),l=o)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&w(e,a,u,c))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Qi.current),Yi(Vi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Vs(t),null;case 13:if(To(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),pi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),a=!1}else null!==ai&&(al(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Mc&&(Mc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Xi(),Ns(e,t),null===e&&qr(t.stateNode.containerInfo),Vs(t),null;case 10:return Ii(t.type._context),Vs(t),null;case 19:if(To(ea),null===(a=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ws(a,!1);else{if(0!==Mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>qc&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!ii)return Vs(t),null}else 2*Xe()-a.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ao(ea,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nc)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qs(e,t){switch(ni(t),t.tag){case 1:return Oo(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),To(Po),To(Eo),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $i(t),null;case 13:if(To(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(ea),null;case 4:return Xi(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Os=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(Vi.current);var i,a=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),a=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Br("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){_l(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ec(t,n,i)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,hc=!1;function dc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Js||$s(n,t);case 6:var r=uc,o=hc;uc=null,dc(e,t,n),hc=o,null!==(uc=r)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),qt(e)):co(uc,n.stateNode));break;case 4:r=uc,o=hc,uc=n.stateNode.containerInfo,hc=!0,dc(e,t,n),uc=r,hc=o;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ec(n,t,a),o=o.next}while(o!==r)}dc(e,t,n);break;case 1:if(!Js&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_l(n,t,s)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,dc(e,t,n),Js=r):dc(e,t,n);break;default:dc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,hc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===uc)throw Error(i(160));fc(a,s,o),uc=null,hc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){_l(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){_l(e,e.return,g)}try{nc(5,e,e.return)}catch(g){_l(e,e.return,g)}}break;case 1:mc(t,e),yc(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(mc(t,e),yc(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(g){_l(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&X(o,a),we(c,s);var u=we(c,a);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];"style"===h?ge(o,d):"dangerouslySetInnerHTML"===h?he(o,d):"children"===h?de(o,d):w(o,h,d,u)}switch(c){case"input":Z(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(g){_l(e,e.return,g)}}break;case 6:if(mc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){_l(e,e.return,g)}}break;case 3:if(mc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){_l(e,e.return,g)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zc=Xe())),4&r&&pc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||h,mc(t,e),Js=u):mc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(d=Zs=h;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:$s(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_l(r,n,g)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){kc(d);continue}}null!==p?(p.return=f,Zs=p):kc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{o=d.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(g){_l(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){_l(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mc(t,e),yc(e),4&r&&pc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),lc(e,sc(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(i(161))}}catch(s){_l(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Zs=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var o=Zs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ys;if(!a){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=a,(Js=c)&&!l)for(Zs=o;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?xc(o):null!==c?(c.return=a,Zs=c):xc(o);for(;null!==i;)Zs=i,wc(i,t,n),i=i.sibling;Zs=o,Ys=s,Js=l}bc(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Zs=i):bc(e)}}function bc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ki(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ki(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(i(163))}Js||512&t.flags&&oc(t)}catch(f){_l(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function kc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){_l(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){_l(t,o,c)}}var i=t.return;try{oc(t)}catch(c){_l(t,i,c)}break;case 5:var a=t.return;try{oc(t)}catch(c){_l(t,a,c)}}}catch(c){_l(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cc,_c=Math.ceil,Sc=b.ReactCurrentDispatcher,Tc=b.ReactCurrentOwner,Ac=b.ReactCurrentBatchConfig,Ic=0,Ec=null,Pc=null,Rc=0,Nc=0,Oc=So(0),Mc=0,Lc=null,Dc=0,Fc=0,jc=0,Bc=null,Uc=null,zc=0,qc=1/0,Hc=null,Kc=!1,Wc=null,Vc=null,Gc=!1,Qc=null,Yc=0,Jc=0,Xc=null,Zc=-1,$c=0;function el(){return 0!==(6&Ic)?Xe():-1!==Zc?Zc:Zc=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ic)&&0!==Rc?Rc&-Rc:null!==gi.transition?(0===$c&&($c=mt()),$c):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nl(e,t,n,r){if(50<Jc)throw Jc=0,Xc=null,Error(i(185));yt(e,n,r),0!==(2&Ic)&&e===Ec||(e===Ec&&(0===(2&Ic)&&(Fc|=n),4===Mc&&sl(e,Rc)),rl(e,r),1===n&&0===Ic&&0===(1&t.mode)&&(qc=Xe()+500,Uo&&Ho()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,c=o[a];-1===c?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===Ec?Rc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Uo=!0,qo(e)}(cl.bind(null,e)):qo(cl.bind(null,e)),ao(function(){0===(6&Ic)&&Ho()}),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=El(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Zc=-1,$c=0,0!==(6&Ic))throw Error(i(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=dt(e,e===Ec?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var o=Ic;Ic|=2;var a=pl();for(Ec===e&&Rc===t||(Hc=null,qc=Xe()+500,dl(e,t));;)try{vl();break}catch(c){fl(e,c)}Ai(),Sc.current=a,Ic=o,null!==Pc?t=0:(Ec=null,Rc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t)throw n=Lc,dl(e,0),sl(e,r),rl(e,Xe()),n;if(6===t)sl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=il(e,a))),1===t))throw n=Lc,dl(e,0),sl(e,r),rl(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kl(e,Uc,Hc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zc+500-Xe())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(kl.bind(null,e,Uc,Hc),t);break}kl(e,Uc,Hc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_c(r/1960))-r)){e.timeoutHandle=ro(kl.bind(null,e,Uc,Hc),r);break}kl(e,Uc,Hc);break;default:throw Error(i(329))}}}return rl(e,Xe()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Uc,Uc=n,null!==t&&al(t)),e}function al(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function sl(e,t){for(t&=~jc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ic))throw Error(i(327));xl();var t=dt(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Lc,dl(e,0),sl(e,t),rl(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Uc,Hc),rl(e,Xe()),null}function ll(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(qc=Xe()+500,Uo&&Ho())}}function ul(e){null!==Qc&&0===Qc.tag&&0===(6&Ic)&&xl();var t=Ic;Ic|=1;var n=Ac.transition,r=wt;try{if(Ac.transition=null,wt=1,e)return e()}finally{wt=r,Ac.transition=n,0===(6&(Ic=t))&&Ho()}}function hl(){Nc=Oc.current,To(Oc)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mo();break;case 3:Xi(),To(Po),To(Eo),ra();break;case 5:$i(r);break;case 4:Xi();break;case 13:case 19:To(ea);break;case 10:Ii(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ec=e,Pc=e=Ol(e.current,null),Rc=Nc=t,Mc=0,Lc=null,jc=Fc=Dc=0,Uc=Bc=null,null!==Ni){for(t=0;t<Ni.length;t++)if(null!==(r=(n=Ni[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ni=null}return e}function fl(e,t){for(;;){var n=Pc;try{if(Ai(),oa.current=Za,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,la=ca=sa=null,ha=!1,da=0,Tc.current=null,null===n||null===n.return){Mc=1,Lc=t,Pc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,c,0,t),1&p.mode&&ms(a,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ms(a,u,t),ml();break e}l=Error(i(426))}else if(ii&&1&c.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,c,0,t),mi(ls(l,c));break e}}a=l=ls(l,c),4!==Mc&&(Mc=2),null===Bc?Bc=[a]:Bc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qi(a,fs(0,l,t));break e;case 1:c=l;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Vc||!Vc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,qi(a,ps(a,c,t));break e}}a=a.return}while(null!==a)}bl(n)}catch(b){t=b,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function pl(){var e=Sc.current;return Sc.current=Za,null===e?Za:e}function ml(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Ec||0===(268435455&Dc)&&0===(268435455&Fc)||sl(Ec,Rc)}function gl(e,t){var n=Ic;Ic|=2;var r=pl();for(Ec===e&&Rc===t||(Hc=null,dl(e,t));;)try{yl();break}catch(o){fl(e,o)}if(Ai(),Ic=n,Sc.current=r,null!==Pc)throw Error(i(261));return Ec=null,Rc=0,Mc}function yl(){for(;null!==Pc;)wl(Pc)}function vl(){for(;null!==Pc&&!Ye();)wl(Pc)}function wl(e){var t=Cc(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?bl(e):Pc=t,Tc.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Nc)))return void(Pc=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Mc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Mc&&(Mc=5)}function kl(e,t,n){var r=wt,o=Ac.transition;try{Ac.transition=null,wt=1,function(e,t,n,r){do{xl()}while(null!==Qc);if(0!==(6&Ic))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Ec&&(Pc=Ec=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,El(tt,function(){return xl(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ac.transition,Ac.transition=null;var s=wt;wt=1;var c=Ic;Ic|=4,Tc.current=null,function(e,t){if(eo=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(c=s+o),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===o&&(c=s),f===a&&++h===r&&(l=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(k){_l(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(to),Kt=!!eo,to=eo=null,e.current=n,vc(n,e,o),Je(),Ic=c,wt=s,Ac.transition=a}else e.current=n;if(Gc&&(Gc=!1,Qc=e,Yc=o),a=e.pendingLanes,0===a&&(Vc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Kc)throw Kc=!1,e=Wc,Wc=null,e;0!==(1&Yc)&&0!==e.tag&&xl(),a=e.pendingLanes,0!==(1&a)?e===Xc?Jc++:(Jc=0,Xc=e):Jc=0,Ho()}(e,t,n,r)}finally{Ac.transition=o,wt=r}return null}function xl(){if(null!==Qc){var e=bt(Yc),t=Ac.transition,n=wt;try{if(Ac.transition=null,wt=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Yc=0,0!==(6&Ic))throw Error(i(331));var o=Ic;for(Ic|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zs=u;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:nc(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zs=d;else for(;null!==Zs;){var f=(h=Zs).sibling,p=h.return;if(ic(h),h===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zs=v;break e}Zs=a.return}}var w=e.current;for(Zs=w;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=w;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(x){_l(c,c.return,x)}if(c===s){Zs=null;break e}var k=c.sibling;if(null!==k){k.return=c.return,Zs=k;break e}Zs=c.return}}if(Ic=o,Ho(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{wt=n,Ac.transition=t}}return!1}function Cl(e,t,n){e=Ui(e,t=fs(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function _l(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vc||!Vc.has(r))){t=Ui(t,e=ps(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ec===e&&(Rc&n)===n&&(4===Mc||3===Mc&&(130023424&Rc)===Rc&&500>Xe()-zc?dl(e,0):jc|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Li(e,t))&&(yt(e,t,n),rl(e,n))}function Al(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tl(e,n)}function El(e,t){return Ge(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Pl(e,t,n,r)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Nl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Ll(n.children,o,a,t);case _:s=8,o|=8;break;case S:return(e=Rl(12,n,t,2|o)).elementType=S,e.lanes=a,e;case E:return(e=Rl(13,n,t,o)).elementType=E,e.lanes=a,e;case P:return(e=Rl(19,n,t,o)).elementType=P,e.lanes=a,e;case O:return Dl(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case A:s=9;break e;case I:s=11;break e;case R:s=14;break e;case N:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ll(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,o,i,a,s,c){return e=new Bl(e,t,n,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function zl(e){if(!e)return Io;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Do(e,n,t)}return t}function ql(e,t,n,r,o,i,a,s,c){return(e=Ul(n,r,!0,e,0,i,0,s,c)).context=zl(null),n=e.current,(i=Bi(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function Hl(e,t,n,r){var o=t.current,i=el(),a=tl(o);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(o,t,a))&&(nl(e,o,a,i),zi(e,o,a)),a}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Cc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Es(t),pi();break;case 5:Zi(t);break;case 1:Oo(t.type)&&Fo(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(Ci,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ao(ea,1&ea.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ao(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var o=No(t,Eo.current);Pi(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(a=!0,Fo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fi(t),o.updater=os,t.stateNode=o,o._reactInternals=t,cs(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),bs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Nl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ts(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Es(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,ji(e,t),Hi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=Ps(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Ks(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Fs(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ao(Ci,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Bi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ei(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Ri(o)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),xs(e,t,r,o=ns(r.type,o),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Hs(e,t),t.tag=1,Oo(r)?(e=!0,Fo(t)):e=!1,Pi(t,n),as(t,r,o),cs(t,r,o,n),Is(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return _s(e,t,n)}throw Error(i(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Kl(a);s.call(e)}}Hl(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Kl(a);i.call(e)}}var a=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[mo]=a.current,qr(8===e.nodeType?e.parentNode:e),ul(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Kl(c);s.call(e)}}var c=Ul(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[mo]=c.current,qr(8===e.nodeType?e.parentNode:e),ul(function(){Hl(t,c,n,r)}),c}(n,t,e,o,r);return Kl(a)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hl(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul(function(){Hl(null,e,null,null)}),t[mo]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Xe()),0===(6&Ic)&&(qc=Xe()+500,Ho()))}break;case 13:ul(function(){var t=Li(e,1);if(null!==t){var n=el();nl(t,e,1,n)}}),Vl(e,1)}},xt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nl(t,e,134217728,el());Vl(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tl(e),n=Li(e,t);if(null!==n)nl(n,e,t,el());Vl(e,t)}},_t=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));G(r),Z(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ee=ul;var eu={usingClientEntryPoint:!1,Events:[bo,ko,xo,Te,Ae,ll]},tu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(i(299));var n=!1,r="",o=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,qr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(i(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,qr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(i(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(i(40));return!!e._reactRootContainer&&(ul(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return $l(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/",(()=>{"use strict";var e=n(43),t=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},l=200,u=400,h=400,d=499,f=500,p=599,m="GET",g="POST",y=[c.OPENID_SCOPE,c.PROFILE_SCOPE,c.OFFLINE_ACCESS_SCOPE],v=[...y,c.EMAIL_SCOPE],w="Content-Type",b="Content-Length",k="Retry-After",x="X-AnchorMailbox",C="x-ms-request-id",_="x-ms-httpver",S="active-account-filters",T="common",A="organizations",I="consumers",E="access_token",P="xms_cc",R="login",N="select_account",O="consent",M="none",L="no_session",D="code",F="id_token token refresh_token",j="query",B="fragment",U="query",z="authorization_code",q="refresh_token",H="MSSTS",K="ADFS",W="Generic",V="-",G=".",Q={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Y="appmetadata",J="1",X="authority-metadata",Z=86400,$="config",ee="cache",te="network",ne="hardcoded_values",re={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},oe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},ie=60,ae=3600,se="throttling",ce="retry-after, h429",le="invalid_grant",ue="client_mismatch",he="1",de="3",fe="4",pe="2",me="4",ge="5",ye="0",ve="1",we="2",be="3",ke="4",xe="pop",Ce="unexpected_error",_e="post_request_failed",Se={[Ce]:"Unexpected error in authentication.",[_e]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Te extends Error{constructor(e,t,n){super(t?"".concat(e,": ").concat(t):e),Object.setPrototypeOf(this,Te.prototype),this.errorCode=e||c.EMPTY_STRING,this.errorMessage=t||c.EMPTY_STRING,this.subError=n||c.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Ae(e,t){return new Te(e,t?"".concat(Se[e]," ").concat(t):Se[e])}const Ie="storage_not_supported",Ee="stubbed_public_client_application_called",Pe="in_mem_redirect_unavailable",Re={[Ie]:"Given storage configuration option was not supported.",[Ee]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Pe]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Ne extends Te{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Ne.prototype)}}function Oe(e){return new Ne(e,Re[e])}const Me={initialize:()=>Promise.reject(Oe(Ee)),acquireTokenPopup:()=>Promise.reject(Oe(Ee)),acquireTokenRedirect:()=>Promise.reject(Oe(Ee)),acquireTokenSilent:()=>Promise.reject(Oe(Ee)),acquireTokenByCode:()=>Promise.reject(Oe(Ee)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Oe(Ee)),loginPopup:()=>Promise.reject(Oe(Ee)),loginRedirect:()=>Promise.reject(Oe(Ee)),logout:()=>Promise.reject(Oe(Ee)),logoutRedirect:()=>Promise.reject(Oe(Ee)),logoutPopup:()=>Promise.reject(Oe(Ee)),ssoSilent:()=>Promise.reject(Oe(Ee)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Oe(Ee)},getLogger:()=>{throw Oe(Ee)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Oe(Ee)},hydrateCache:()=>Promise.reject(Oe(Ee)),clearCache:()=>Promise.reject(Oe(Ee))},Le="invalid_grant",De=483,Fe=600,je="msal",Be=30,Ue="msal.js.browser",ze="53ee284d-920a-4b59-9d30-a60315b26836",qe="ppnbnpeolgkicgegkbkbjmhlideopiji",He="MATS",Ke="MicrosoftEntra",We="DOM API",Ve="get-token-and-sign-out",Ge="PlatformAuthDOMHandler",Qe="PlatformAuthExtensionHandler",Ye="Handshake",Je="HandshakeResponse",Xe="GetToken",Ze="Response",$e="localStorage",et="sessionStorage",tt="memoryStorage",nt="GET",rt="POST",ot="signin",it="signout",at="request.origin",st="urlHash",ct="request.params",lt="code.verifier",ut="interaction.status",ht="request.native",dt="wrapper.sku",ft="wrapper.version",pt=861,mt=862,gt=863,yt=865,vt=866,wt=61,bt=961,kt=962;var xt;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(xt||(xt={}));const Ct="startup",_t="login",St="logout",Tt="acquireToken",At="ssoSilent",It="handleRedirect",Et="none",Pt={scopes:y},Rt="@azure/msal-react",Nt="msal.db",Ot="".concat(Nt,".keys"),Mt=0,Lt=1,Dt=2,Ft=3,jt=4,Bt=5,Ut=[Mt,Bt,jt];var zt;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(zt||(zt={}));class qt{constructor(e,t,n){this.level=zt.Info;const r=e||qt.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:zt.Info,this.correlationId=r.correlationId||c.EMPTY_STRING,this.packageName=t||c.EMPTY_STRING,this.packageVersion=n||c.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:zt.Info}}clone(e,t,n){return new qt({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=(new Date).toUTCString(),r="[".concat(n,"] : [").concat(t.correlationId||this.correlationId||"","]"),o="".concat(r," : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(zt[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:zt.Error,containsPii:!1,correlationId:t||c.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:zt.Error,containsPii:!0,correlationId:t||c.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:zt.Warning,containsPii:!1,correlationId:t||c.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:zt.Warning,containsPii:!0,correlationId:t||c.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:zt.Info,containsPii:!1,correlationId:t||c.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:zt.Info,containsPii:!0,correlationId:t||c.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:zt.Verbose,containsPii:!1,correlationId:t||c.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:zt.Verbose,containsPii:!0,correlationId:t||c.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:zt.Trace,containsPii:!1,correlationId:t||c.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:zt.Trace,containsPii:!0,correlationId:t||c.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Ht={instance:Me,inProgress:Et,accounts:[],logger:new qt({})},Kt=e.createContext(Ht),Wt=(Kt.Consumer,"msal:initializeStart"),Vt="msal:initializeEnd",Gt="msal:accountAdded",Qt="msal:accountRemoved",Yt="msal:activeAccountChanged",Jt="msal:loginStart",Xt="msal:loginSuccess",Zt="msal:loginFailure",$t="msal:acquireTokenStart",en="msal:acquireTokenSuccess",tn="msal:acquireTokenFailure",nn="msal:acquireTokenFromNetworkStart",rn="msal:ssoSilentStart",on="msal:ssoSilentSuccess",an="msal:ssoSilentFailure",sn="msal:acquireTokenByCodeStart",cn="msal:acquireTokenByCodeSuccess",ln="msal:acquireTokenByCodeFailure",un="msal:handleRedirectStart",hn="msal:handleRedirectEnd",dn="msal:popupOpened",fn="msal:logoutStart",pn="msal:logoutSuccess",mn="msal:logoutFailure",gn="msal:logoutEnd",yn="msal:restoreFromBFCache";class vn{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case Jt:return _t;case rn:return At;case $t:if(e.interactionType===xt.Redirect||e.interactionType===xt.Popup)return Tt;break;case un:return It;case fn:return St;case on:case an:if(t&&t!==At)break;return Et;case gn:if(t&&t!==St)break;return Et;case hn:if(t&&t!==It)break;return Et;case Xt:case Zt:case en:case tn:case yn:if(e.interactionType===xt.Redirect||e.interactionType===xt.Popup){if(t&&t!==_t&&t!==Tt)break;return Et}}return null}}function wn(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every(e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)})}const bn="3.0.19",kn="UNBLOCK_INPROGRESS",xn="EVENT",Cn=(e,t)=>{const{type:n,payload:r}=t;let o=e.inProgress;switch(n){case kn:e.inProgress===Ct&&(o=Et,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case xn:const t=r.message,i=vn.getInteractionStatusFromEvent(t,e.inProgress);i&&(r.logger.info("MsalProvider - ".concat(t.eventType," results in setting inProgress from ").concat(e.inProgress," to ").concat(i)),o=i);break;default:throw new Error("Unknown action type: ".concat(n))}if(o===Ct)return e;const i=r.instance.getAllAccounts();return o===e.inProgress||wn(i,e.accounts)?o!==e.inProgress?s(s({},e),{},{inProgress:o}):wn(i,e.accounts)?e:s(s({},e),{},{accounts:i}):s(s({},e),{},{inProgress:o,accounts:i})};function _n(t){let{instance:n,children:r}=t;(0,e.useEffect)(()=>{n.initializeWrapperLibrary(Rt,bn)},[n]);const o=(0,e.useMemo)(()=>n.getLogger().clone("@azure/msal-react",bn),[n]),[i,a]=(0,e.useReducer)(Cn,void 0,()=>({inProgress:Ct,accounts:[]}));(0,e.useEffect)(()=>{const e=n.addEventCallback(e=>{a({payload:{instance:n,logger:o,message:e},type:xn})});return o.verbose("MsalProvider - Registered event callback with id: ".concat(e)),n.initialize().then(()=>{n.handleRedirectPromise().catch(()=>{}).finally(()=>{a({payload:{instance:n,logger:o},type:kn})})}).catch(()=>{}),()=>{e&&(o.verbose("MsalProvider - Removing event callback ".concat(e)),n.removeEventCallback(e))}},[n,o]);const s={instance:n,inProgress:i.inProgress,accounts:i.accounts,logger:o};return e.createElement(Kt.Provider,{value:s},r)}const Sn=()=>(0,e.useContext)(Kt);function Tn(t){const{accounts:n,inProgress:r}=Sn(),o=(0,e.useMemo)(()=>r!==Ct&&function(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!function(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter(e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&(!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase()))[0]||null}(e,t):e.length>0}(n,t),[n,r,t]);return o}const An="AAD",In="OIDC",En="EAR",Pn="none",Rn="client_info_decoding_error",Nn="client_info_empty_error",On="token_parsing_error",Mn="null_or_empty_token",Ln="endpoints_resolution_error",Dn="network_error",Fn="openid_config_error",jn="hash_not_deserialized",Bn="invalid_state",Un="state_mismatch",zn="state_not_found",qn="nonce_mismatch",Hn="auth_time_not_found",Kn="max_age_transpired",Wn="multiple_matching_tokens",Vn="multiple_matching_accounts",Gn="multiple_matching_appMetadata",Qn="request_cannot_be_made",Yn="cannot_remove_empty_scope",Jn="cannot_append_scopeset",Xn="empty_input_scopeset",Zn="device_code_polling_cancelled",$n="device_code_expired",er="device_code_unknown_error",tr="no_account_in_silent_request",nr="invalid_cache_record",rr="invalid_cache_environment",or="no_account_found",ir="no_crypto_object",ar="unexpected_credential_type",sr="invalid_assertion",cr="invalid_client_credential",lr="token_refresh_required",ur="user_timeout_reached",hr="token_claims_cnf_required_for_signedjwt",dr="authorization_code_missing_from_server_response",fr="binding_key_not_removed",pr="end_session_endpoint_not_supported",mr="key_id_missing",gr="no_network_connectivity",yr="user_canceled",vr="missing_tenant_id_error",wr="method_not_implemented",br="nested_app_auth_bridge_disabled",kr={[Rn]:"The client info could not be parsed/decoded correctly",[Nn]:"The client info was empty",[On]:"Token cannot be parsed",[Mn]:"The token is null or empty",[Ln]:"Endpoints cannot be resolved",[Dn]:"Network request failed",[Fn]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[jn]:"The hash parameters could not be deserialized",[Bn]:"State was not the expected format",[Un]:"State mismatch error",[zn]:"State not found",[qn]:"Nonce mismatch error",[Hn]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Kn]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Wn]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Vn]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Gn]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Qn]:"Token request cannot be made without authorization code or refresh token.",[Yn]:"Cannot remove null or empty scope from ScopeSet",[Jn]:"Cannot append ScopeSet",[Xn]:"Empty input ScopeSet cannot be processed",[Zn]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[$n]:"Device code is expired.",[er]:"Device code stopped polling for unknown reasons.",[tr]:"Please pass an account object, silent flow is not supported without account information",[nr]:"Cache record object was null or undefined.",[rr]:"Invalid environment when attempting to create cache entry",[or]:"No account found in cache for given key.",[ir]:"No crypto object detected.",[ar]:"Unexpected credential type.",[sr]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[cr]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[lr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[ur]:"User defined timeout for device code polling reached",[hr]:"Cannot generate a POP jwt if the token_claims are not populated",[dr]:"Server response does not contain an authorization code to proceed",[fr]:"Could not remove the credential's binding key from storage.",[pr]:"The provided authority does not support logout",[mr]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[gr]:"No network connectivity. Check your internet connection.",[yr]:"User cancelled the flow.",[vr]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[wr]:"This method has not been implemented",[br]:"The nested app auth bridge is disabled"};class xr extends Te{constructor(e,t){super(e,t?"".concat(kr[e],": ").concat(t):kr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,xr.prototype)}}function Cr(e,t){return new xr(e,t)}const _r={createNewGuid:()=>{throw Cr(wr)},base64Decode:()=>{throw Cr(wr)},base64Encode:()=>{throw Cr(wr)},base64UrlEncode:()=>{throw Cr(wr)},encodeKid:()=>{throw Cr(wr)},async getPublicKeyThumbprint(){throw Cr(wr)},async removeTokenBindingKey(){throw Cr(wr)},async clearKeystore(){throw Cr(wr)},async signJwt(){throw Cr(wr)},async hashString(){throw Cr(wr)}},Sr="@azure/msal-common",Tr="15.12.0",Ar="redirect_uri_empty",Ir="claims_request_parsing_error",Er="authority_uri_insecure",Pr="url_parse_error",Rr="empty_url_error",Nr="empty_input_scopes_error",Or="invalid_claims",Mr="token_request_empty",Lr="logout_request_empty",Dr="invalid_code_challenge_method",Fr="pkce_params_missing",jr="invalid_cloud_discovery_metadata",Br="invalid_authority_metadata",Ur="untrusted_authority",zr="missing_ssh_jwk",qr="missing_ssh_kid",Hr="missing_nonce_authentication_header",Kr="invalid_authentication_header",Wr="cannot_set_OIDCOptions",Vr="cannot_allow_platform_broker",Gr="authority_mismatch",Qr="invalid_request_method_for_EAR",Yr="invalid_authorize_post_body_parameters",Jr={[Ar]:"A redirect URI is required for all calls, and none has been set.",[Ir]:"Could not parse the given claims request object.",[Er]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Pr]:"URL could not be parsed into appropriate segments.",[Rr]:"URL was empty or null.",[Nr]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Or]:"Given claims parameter must be a stringified JSON object.",[Mr]:"Token request was empty and not found in cache.",[Lr]:"The logout request was null or undefined.",[Dr]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Fr]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[jr]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Br]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ur]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[zr]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[qr]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Hr]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Kr]:"Invalid authentication header provided",[Wr]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Vr]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[Gr]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[Yr]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[Qr]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class Xr extends Te{constructor(e){super(e,Jr[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Xr.prototype)}}function Zr(e){return new Xr(e)}class $r{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach(e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class eo{constructor(e){const t=e?$r.trimArrayEntries([...e]):[],n=t?$r.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw Zr(Nr);this.scopes=new Set,n.forEach(e=>this.scopes.add(e))}static fromString(e){const t=(e||c.EMPTY_STRING).split(" ");return new eo(t)}static createSearchScopes(e){const t=e&&e.length>0?e:[...y],n=new eo(t);return n.containsOnlyOIDCScopes()?n.removeScope(c.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new eo(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e)))}containsOnlyOIDCScopes(){let e=0;return v.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(t){throw Cr(Jn)}}removeScope(e){if(!e)throw Cr(Yn);this.scopes.delete(e.trim())}removeOIDCScopes(){v.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Cr(Xn);const t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw Cr(Xn);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return c.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function to(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const no=["isHomeTenant"],ro=["isHomeTenant"];function oo(e,t){return!!e&&!!t&&e===t.split(".")[1]}function io(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s,preferred_username:c,upn:l,login_hint:u}=r,h=o||a||s||"";return{tenantId:h,localAccountId:t||n||"",name:i,username:c||l||"",loginHint:u,isHomeTenant:oo(h,e)}}return{tenantId:n,localAccountId:t,username:"",isHomeTenant:oo(n,e)}}function ao(e,t,n,r){let o=e;if(t){const{isHomeTenant:n}=t,r=to(t,no);o=s(s({},e),r)}if(n){const t=io(e.homeAccountId,e.localAccountId,e.tenantId,n),{isHomeTenant:i}=t,a=to(t,ro);return o=s(s(s({},o),a),{},{idTokenClaims:n,idToken:r}),o}return o}function so(e,t){const n=function(e){if(!e)throw Cr(Mn);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Cr(On);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw Cr(On)}}function co(e,t){if(0===t||Date.now()-3e5>e+t)throw Cr(Kn)}function lo(e){if(!e)return e;let t=e.toLowerCase();return $r.endsWith(t,"?")?t=t.slice(0,-1):$r.endsWith(t,"?/")&&(t=t.slice(0,-2)),$r.endsWith(t,"/")||(t+="/"),t}function uo(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function ho(e){if(!e||e.indexOf("=")<0)return null;try{const t=uo(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(t){throw Cr(jn)}return null}function fo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach((e,o)=>{!t&&n&&o in n?r.push("".concat(o,"=").concat(e)):r.push("".concat(o,"=").concat(encodeURIComponent(e)))}),r.join("&")}function po(e){if(!e)return e;const t=e.split("#")[0];try{const e=new URL(t);return lo(e.origin+e.pathname+e.search)}catch(n){return lo(t)}}class mo{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Zr(Rr);e.includes("#")||(this._urlString=mo.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return $r.endsWith(t,"?")?t=t.slice(0,-1):$r.endsWith(t,"?/")&&(t=t.slice(0,-2)),$r.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw Zr(Pr)}if(!e.HostNameAndPort||!e.PathSegments)throw Zr(Pr);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Zr(Er)}static appendQueryString(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}static removeHashFromUrl(e){return mo.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==T&&n[0]!==A||(n[0]=e),mo.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Zr(Pr);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter(e=>e&&e.length>0),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw Zr(Pr);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===c.FORWARD_SLASH){const n=new mo(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new mo(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!ho(e)}}const go={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},yo={metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},vo=new Set;function wo(e,t,n,r){if(null===r||void 0===r||r.trace("getAliasesFromMetadata called with source: ".concat(n)),e&&t){const o=bo(t,e);if(o)return null===r||void 0===r||r.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(n,", returning aliases")),o.aliases;null===r||void 0===r||r.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(n))}return null}function bo(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}yo.metadata.forEach(e=>{e.aliases.forEach(e=>{vo.add(e)})});const ko="cache_quota_exceeded",xo="cache_error_unknown",Co={[ko]:"Exceeded cache storage capacity.",[xo]:"Unexpected error occurred when using cache storage."};class _o extends Te{constructor(e,t){const n=t||(Co[e]?Co[e]:Co[xo]);super("".concat(e,": ").concat(n)),Object.setPrototypeOf(this,_o.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}function So(e){return e instanceof Error?"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota")?new _o(ko):new _o(e.name,e.message):new _o(xo)}class To{constructor(e,t,n,r,o){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(Sr,Tr),this.staticAuthorityOptions=o,this.performanceClient=r}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,t),t,e)}getAccountInfoFilteredBy(e,t){if(0===Object.keys(e).length||Object.values(e).every(e=>!e))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const n=this.getAllAccounts(e,t);if(n.length>1){return n.sort(e=>e.idTokenClaims?-1:1)[0]}return 1===n.length?n[0]:null}getBaseAccountInfo(e,t){const n=this.getAccountsFilteredBy(e,t);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,t,n){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t,null===n||void 0===n?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(e,t,n,r,o){let i,a=null;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;const s=this.getIdToken(e,r,t,n.tenantId);return s&&(i=so(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,o))?null:(a=ao(e,n,i,null===s||void 0===s?void 0:s.secret),a)}getTenantProfilesFromAccountEntity(e,t,n,r){const o=e.getAccountInfo();let i=o.tenantProfiles||new Map;const a=this.getTokenKeys();if(n){const e=i.get(n);if(!e)return[];i=new Map([[n,e]])}const s=[];return i.forEach(e=>{const n=this.getTenantedAccountInfoByFilter(o,a,e,t,r);n&&s.push(n)}),s}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw Cr(nr);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==(null===n||void 0===n?void 0:n.idToken)&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==(null===n||void 0===n?void 0:n.accessToken)&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==(null===n||void 0===n?void 0:n.refreshToken)&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(o){var r;throw null===(r=this.commonLogger)||void 0===r||r.error("CacheManager.saveCacheRecord: failed"),o instanceof Te?o:So(o)}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=eo.fromString(e.target);r.accessToken.forEach(e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const r=this.getAccessTokenCredential(e,t);if(r&&this.credentialMatchesFilter(r,n)){eo.fromString(r.target).intersectingScopeSets(o)&&this.removeAccessToken(e,t)}}),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e,t){const n=this.getAccountKeys(),r=[];return n.forEach(n=>{var o;const i=this.getAccount(n,t);if(!i)return;if(e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId))return;if(e.username&&!this.matchUsername(i.username,e.username))return;if(e.environment&&!this.matchEnvironment(i,e.environment))return;if(e.realm&&!this.matchRealm(i,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;const a={localAccountId:null===e||void 0===e?void 0:e.localAccountId,name:null===e||void 0===e?void 0:e.name},s=null===(o=i.tenantProfiles)||void 0===o?void 0:o.filter(e=>this.tenantProfileMatchesFilter(e,a));s&&0===s.length||r.push(i)}),r}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===Q.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===oe.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach(t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))}),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach(t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)}),n}removeAllAccounts(e){this.getAllAccounts({},e).forEach(t=>{this.removeAccount(t,e)})}removeAccount(e,t){this.removeAccountContext(e,t);this.getAccountKeys().filter(t=>t.includes(e.homeAccountId)&&t.includes(e.environment)).forEach(e=>{this.removeItem(e,t),this.performanceClient.incrementFields({accountsRemoved:1},t)})}removeAccountContext(e,t){const n=this.getTokenKeys(),r=t=>t.includes(e.homeAccountId)&&t.includes(e.environment);n.idToken.filter(r).forEach(e=>{this.removeIdToken(e,t)}),n.accessToken.filter(r).forEach(e=>{this.removeAccessToken(e,t)}),n.refreshToken.filter(r).forEach(e=>{this.removeRefreshToken(e,t)})}removeAccessToken(e,t){const n=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),this.performanceClient.incrementFields({accessTokensRemoved:1},t),!n||n.credentialType.toLowerCase()!==Q.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==oe.POP)return;const r=n.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{var e;this.commonLogger.error("Failed to remove token binding key ".concat(r),t),null===(e=this.performanceClient)||void 0===e||e.incrementFields({removeTokenBindingKeyFailure:1},t)})}removeAppMetadata(e){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t,e)}),!0}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Q.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(i,t,n),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let n=a;if(!r){const t=new Map;a.forEach((n,r)=>{n.realm===e.tenantId&&t.set(r,n)});const r=t.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),t.values().next().value;n=t}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),n.forEach((e,n)=>{this.removeIdToken(n,t)}),o&&t&&o.addFields({multiMatchedID:a.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t,n){const r=n&&n.idToken||this.getTokenKeys().idToken,o=new Map;return r.forEach(n=>{if(!this.idTokenKeyMatchesFilter(n,s({clientId:this.clientId},e)))return;const r=this.getIdTokenCredential(n,t);r&&this.credentialMatchesFilter(r,e)&&o.set(n,r)}),o}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,n,r){const o=t.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);const i=eo.createSearchScopes(t.scopes),a=t.authenticationScheme||oe.BEARER,s=a&&a.toLowerCase()!==oe.BEARER.toLowerCase()?Q.ACCESS_TOKEN_WITH_AUTH_SCHEME:Q.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:s,clientId:this.clientId,realm:r||e.tenantId,target:i,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},l=n&&n.accessToken||this.getTokenKeys().accessToken,u=[];l.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e,o);t&&this.credentialMatchesFilter(t,c)&&u.push(t)}});const h=u.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),u.forEach(e=>{this.removeAccessToken(this.generateCredentialKey(e),o)}),this.performanceClient.addFields({multiMatchedAT:u.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),u[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,t){const n=this.getTokenKeys(),r=[];return n.accessToken.forEach(n=>{if(!this.accessTokenKeyMatchesFilter(n,e,!0))return;const o=this.getAccessTokenCredential(n,t);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?J:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Q.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=r&&r.refreshToken||this.getTokenKeys().refreshToken,c=[];s.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e,n);t&&this.credentialMatchesFilter(t,a)&&c.push(t)}});const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&o&&n&&o.addFields({multiMatchedRT:l},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map(e=>n[e]),o=r.length;if(o<1)return null;if(o>1)throw Cr(Gn);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==J)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return!(t.toLowerCase()!==(null===(n=e.name)||void 0===n?void 0:n.toLowerCase()))}matchUsername(e,t){return!(!e||"string"!==typeof e||(null===t||void 0===t?void 0:t.toLowerCase())!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){var o;const i=new mo(r).getUrlComponents().HostNameAndPort;n=wo(i,null===(o=e.cloudDiscoveryMetadata)||void 0===o?void 0:o.metadata,$,t)||wo(i,yo.metadata,ne,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){var n;return!((null===(n=e.realm)||void 0===n?void 0:n.toLowerCase())!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==Q.ACCESS_TOKEN&&e.credentialType!==Q.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return eo.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(Y)}isAuthorityMetadata(e){return-1!==e.indexOf(X)}generateAuthorityMetadataCacheKey(e){return"".concat(X,"-").concat(this.clientId,"-").concat(e)}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Ao extends To{async setAccount(){throw Cr(wr)}getAccount(){throw Cr(wr)}async setIdTokenCredential(){throw Cr(wr)}getIdTokenCredential(){throw Cr(wr)}async setAccessTokenCredential(){throw Cr(wr)}getAccessTokenCredential(){throw Cr(wr)}async setRefreshTokenCredential(){throw Cr(wr)}getRefreshTokenCredential(){throw Cr(wr)}setAppMetadata(){throw Cr(wr)}getAppMetadata(){throw Cr(wr)}setServerTelemetry(){throw Cr(wr)}getServerTelemetry(){throw Cr(wr)}setAuthorityMetadata(){throw Cr(wr)}getAuthorityMetadata(){throw Cr(wr)}getAuthorityMetadataKeys(){throw Cr(wr)}setThrottlingCache(){throw Cr(wr)}getThrottlingCache(){throw Cr(wr)}removeItem(){throw Cr(wr)}getKeys(){throw Cr(wr)}getAccountKeys(){throw Cr(wr)}getTokenKeys(){throw Cr(wr)}generateCredentialKey(){throw Cr(wr)}generateAccountKey(){throw Cr(wr)}}const Io="acquireTokenByCode",Eo="acquireTokenByRefreshToken",Po="acquireTokenSilent",Ro="acquireTokenSilentAsync",No="acquireTokenPopup",Oo="acquireTokenPreRedirect",Mo="acquireTokenRedirect",Lo="cryptoOptsGetPublicKeyThumbprint",Do="cryptoOptsSignJwt",Fo="silentCacheClientAcquireToken",jo="silentIframeClientAcquireToken",Bo="awaitConcurrentIframe",Uo="silentRefreshClientAcquireToken",zo="ssoSilent",qo="standardInteractionClientGetDiscoveredAuthority",Ho="nativeInteractionClientAcquireToken",Ko="networkClientSendPostRequestAsync",Wo="refreshTokenClientExecutePostToTokenEndpoint",Vo="authorizationCodeClientExecutePostToTokenEndpoint",Go="refreshTokenClientExecuteTokenRequest",Qo="refreshTokenClientAcquireToken",Yo="refreshTokenClientAcquireTokenWithCachedRefreshToken",Jo="refreshTokenClientAcquireTokenByRefreshToken",Xo="refreshTokenClientCreateTokenRequestBody",Zo="acquireTokenFromCache",$o="silentFlowClientAcquireCachedToken",ei="silentFlowClientGenerateResultFromCacheRecord",ti="acquireTokenBySilentIframe",ni="initializeBaseRequest",ri="initializeSilentRequest",oi="initializeClientApplication",ii="initializeCache",ai="silentIframeClientTokenHelper",si="silentHandlerInitiateAuthRequest",ci="silentHandlerMonitorIframeForHash",li="silentHandlerLoadFrame",ui="silentHandlerLoadFrameSync",hi="standardInteractionClientCreateAuthCodeClient",di="standardInteractionClientGetClientConfiguration",fi="standardInteractionClientInitializeAuthorizationRequest",pi="getAuthCodeUrl",mi="getStandardParams",gi="handleCodeResponseFromServer",yi="handleCodeResponse",vi="handleResponseEar",wi="handleResponsePlatformBroker",bi="handleResponseCode",ki="updateTokenEndpointAuthority",xi="authClientAcquireToken",Ci="authClientExecuteTokenRequest",_i="authClientCreateTokenRequestBody",Si="popTokenGenerateCnf",Ti="popTokenGenerateKid",Ai="handleServerTokenResponse",Ii="deserializeResponse",Ei="authorityFactoryCreateDiscoveredInstance",Pi="authorityResolveEndpointsAsync",Ri="authorityGetCloudDiscoveryMetadataFromNetwork",Ni="authorityUpdateCloudDiscoveryMetadata",Oi="authorityGetEndpointMetadataFromNetwork",Mi="authorityUpdateEndpointMetadata",Li="authorityUpdateMetadataWithRegionalInformation",Di="regionDiscoveryDetectRegion",Fi="regionDiscoveryGetRegionFromIMDS",ji="regionDiscoveryGetCurrentVersion",Bi="acquireTokenByCodeAsync",Ui="handleRedirectPromise",zi="handleNativeRedirectPromise",qi="nativeMessageHandlerHandshake",Hi="removeHiddenIframe",Ki="clearTokensAndKeysWithClaims",Wi="cacheManagerGetRefreshToken",Vi="importExistingCache",Gi="setUserData",Qi="localStorageUpdated",Yi="generatePkceCodes",Ji="generateCodeVerifier",Xi="generateCodeChallengeFromVerifier",Zi="sha256Digest",$i="getRandomValues",ea="generateHKDF",ta="generateBaseKey",na="base64Decode",ra="urlEncodeArr",oa="encrypt",ia="decrypt",aa="generateEarKey",sa="decryptEarResponse",ca=(new Map([[Io,"ATByCode"],[Eo,"ATByRT"],[Po,"ATS"],[Ro,"ATSAsync"],[No,"ATPopup"],[Mo,"ATRedirect"],[Lo,"CryptoGetPKThumb"],[Do,"CryptoSignJwt"],[Fo,"SltCacheClientAT"],[jo,"SltIframeClientAT"],[Uo,"SltRClientAT"],[zo,"SsoSlt"],[qo,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[Ho,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[Ko,"NetClientSendPost"],[Wo,"RTClientExecPost"],[Vo,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Go,"RTClientExecTReq"],[Qo,"RTClientAT"],[Yo,"RTClientATWithCachedRT"],[Jo,"RTClientATByRT"],[Xo,"RTClientCreateTReqBody"],[Zo,"ATFromCache"],[$o,"SltFlowClientATCached"],[ei,"SltFlowClientGenResFromCache"],[ti,"ATBySltIframe"],[ni,"InitBaseReq"],[ri,"InitSltReq"],[oi,"InitClientApplication"],[ii,"InitCache"],[Vi,"importCache"],[Gi,"setUserData"],[Qi,"localStorageUpdated"],[ai,"SIClientTHelper"],[si,"SHandlerInitAuthReq"],[ci,"SltHandlerMonitorIframeForHash"],[li,"SHandlerLoadFrame"],[ui,"SHandlerLoadFrameSync"],[hi,"StdIntClientCreateAuthCodeClient"],[di,"StdIntClientGetClientConf"],[fi,"StdIntClientInitAuthReq"],[pi,"GetAuthCodeUrl"],[gi,"HandleCodeResFromServer"],[yi,"HandleCodeResp"],[vi,"HandleRespEar"],[bi,"HandleRespCode"],[wi,"HandleRespPlatBroker"],[ki,"UpdTEndpointAuth"],[xi,"AuthClientAT"],[Ci,"AuthClientExecTReq"],[_i,"AuthClientCreateTReqBody"],[Si,"PopTGenCnf"],[Ti,"PopTGenKid"],[Ai,"HandleServerTRes"],[Ii,"DeserializeRes"],[Ei,"AuthFactCreateDiscInst"],[Pi,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Ri,"AuthGetCDMetaFromNet"],[Ni,"AuthUpdCDMeta"],[Oi,"AuthUpdCDMetaFromNet"],[Mi,"AuthUpdEndpointMeta"],[Li,"AuthUpdMetaWithRegInfo"],[Di,"RegDiscDetectReg"],[Fi,"RegDiscGetRegFromIMDS"],[ji,"RegDiscGetCurrentVer"],[Bi,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[Ui,"HandleRedirectPromise"],[zi,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[qi,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[Hi,"RemoveHiddenIframe"],[Ki,"ClearTAndKeysWithClaims"],[Wi,"CacheManagerGetRT"],[Yi,"GenPkceCodes"],[Ji,"GenCodeVerifier"],[Xi,"GenCodeChallengeFromVerifier"],[Zi,"Sha256Digest"],[$i,"GetRandomValues"],[ea,"genHKDF"],[ta,"genBaseKey"],[na,"b64Decode"],[ra,"urlEncArr"],[oa,"encrypt"],[ia,"decrypt"],[aa,"genEarKey"],[sa,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount","oldAccountCount","oldAccessCount","oldIdCount","oldRefreshCount","currAccountCount","currAccessCount","currIdCount","currRefreshCount","expiredCacheRemovedCount","upgradedCacheCount"]);class la{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class ua{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ca,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new la}}startPerformanceMeasurement(){return new la}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const ha={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},da={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:zt.Info,correlationId:c.EMPTY_STRING},fa={claimsBasedCachingEnabled:!1},pa={async sendGetRequestAsync(){throw Cr(wr)},async sendPostRequestAsync(){throw Cr(wr)}},ma={sku:c.SKU,version:Tr,cpu:c.EMPTY_STRING,os:c.EMPTY_STRING},ga={clientSecret:c.EMPTY_STRING,clientAssertion:void 0},ya={azureCloudInstance:Pn,tenant:"".concat(c.DEFAULT_COMMON_TENANT)},va={application:{appName:"",appVersion:""}};function wa(e){return e.authOptions.authority.options.protocolMode===In}const ba={sendGetRequestAsync:()=>Promise.reject(Cr(wr)),sendPostRequestAsync:()=>Promise.reject(Cr(wr))},ka="pkce_not_created",xa="ear_jwk_empty",Ca="ear_jwe_empty",_a="crypto_nonexistent",Sa="empty_navigate_uri",Ta="hash_empty_error",Aa="no_state_in_hash",Ia="hash_does_not_contain_known_properties",Ea="unable_to_parse_state",Pa="state_interaction_type_mismatch",Ra="interaction_in_progress",Na="popup_window_error",Oa="empty_window_error",Ma="user_cancelled",La="monitor_popup_timeout",Da="monitor_window_timeout",Fa="redirect_in_iframe",ja="block_iframe_reload",Ba="block_nested_popups",Ua="iframe_closed_prematurely",za="silent_logout_unsupported",qa="no_account_error",Ha="silent_prompt_value_error",Ka="no_token_request_cache_error",Wa="unable_to_parse_token_request_cache_error",Va="auth_request_not_set_error",Ga="invalid_cache_type",Qa="non_browser_environment",Ya="database_not_open",Ja="no_network_connectivity",Xa="post_request_failed",Za="get_request_failed",$a="failed_to_parse_response",es="unable_to_load_token",ts="crypto_key_not_found",ns="auth_code_required",rs="auth_code_or_nativeAccountId_required",os="spa_code_and_nativeAccountId_present",is="database_unavailable",as="unable_to_acquire_token_from_native_platform",ss="native_handshake_timeout",cs="native_extension_not_installed",ls="native_connection_not_established",us="uninitialized_public_client_application",hs="native_prompt_not_supported",ds="invalid_base64_string",fs="invalid_pop_token_request",ps="failed_to_build_headers",ms="failed_to_parse_headers",gs="failed_to_decrypt_ear_response",ys="timed_out",vs="For more visit: aka.ms/msaljs/browser-errors",ws={[ka]:"The PKCE code challenge and verifier could not be generated.",[xa]:"No EAR encryption key provided. This is unexpected.",[Ca]:"Server response does not contain ear_jwe property. This is unexpected.",[_a]:"The crypto object or function is not available.",[Sa]:"Navigation URI is empty. Please check stack trace for more info.",[Ta]:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ".concat(vs),[Aa]:"Hash does not contain state. Please verify that the request originated from msal.",[Ia]:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ".concat(vs),[Ea]:"Unable to parse state. Please verify that the request originated from msal.",[Pa]:"Hash contains state but the interaction type does not match the caller.",[Ra]:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ".concat(vs),[Na]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Oa]:"window.open returned null or undefined window object.",[Ma]:"User cancelled the flow.",[La]:"Token acquisition in popup failed due to timeout.  ".concat(vs),[Da]:"Token acquisition in iframe failed due to timeout.  ".concat(vs),[Fa]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[ja]:"Request was blocked inside an iframe because MSAL detected an authentication response.  ".concat(vs),[Ba]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Ua]:"The iframe being monitored was closed prematurely.",[za]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[qa]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Ha]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Ka]:"No token request found in cache.",[Wa]:"The cached token request could not be parsed.",[Va]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Ga]:"Invalid cache type",[Qa]:"Login and token requests are not supported in non-browser environments.",[Ya]:"Database is not open!",[Ja]:"No network connectivity. Check your internet connection.",[Xa]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Za]:"Network request failed. Please check the network trace to determine root cause.",[$a]:"Failed to parse network response. Check network trace.",[es]:"Error loading token to cache.",[ts]:"Cryptographic Key or Keypair not found in browser storage.",[ns]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[rs]:"An authorization code or nativeAccountId must be provided to this flow.",[os]:"Request cannot contain both spa code and native account id.",[is]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[as]:"Unable to acquire token from native platform.  ".concat(vs),[ss]:"Timed out while attempting to establish connection to browser extension",[cs]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[ls]:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ".concat(vs),[us]:"You must call and await the initialize function before attempting to call any other MSAL API.  ".concat(vs),[hs]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[ds]:"Invalid base64 encoded string.",[fs]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[ps]:"Failed to build request headers object.",[ms]:"Failed to parse response headers",[gs]:"Failed to decrypt ear response",[ys]:"The request timed out."};class bs extends Te{constructor(e,t){super(e,ws[e],t),Object.setPrototypeOf(this,bs.prototype),this.name="BrowserAuthError"}}function ks(e,t){return new bs(e,t)}class xs{navigateInternal(e,t){return xs.defaultNavigateWindow(e,t)}navigateExternal(e,t){return xs.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e,n)=>{setTimeout(()=>{n(ks(ys,"failed_to_redirect"))},t.timeout)})}}class Cs extends Te{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Cs.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function _s(e,t,n,r){return e.errorMessage="".concat(e.errorMessage,", additionalErrorInfo: error.name:").concat(null===r||void 0===r?void 0:r.name,", error.message:").concat(null===r||void 0===r?void 0:r.message),new Cs(e,t,n)}class Ss{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=Ts(t);try{n=await fetch(e,{method:nt,headers:i})}catch(a){throw _s(ks(window.navigator.onLine?Za:Ja),void 0,void 0,a)}r=As(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(a){throw _s(ks($a),o,r,a)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Ts(t);let o,i=0,a={};try{o=await fetch(e,{method:rt,headers:r,body:n})}catch(s){throw _s(ks(window.navigator.onLine?Xa:Ja),void 0,void 0,s)}a=As(o.headers);try{return i=o.status,{headers:a,body:await o.json(),status:i}}catch(s){throw _s(ks($a),i,a,s)}}}function Ts(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach(e=>{let[n,r]=e;t.append(n,r)}),t}catch(t){throw _s(ks(ps),void 0,void 0,t)}}function As(e){try{const t={};return e.forEach((e,n)=>{t[n]=e}),t}catch(t){throw ks(ms)}}const Is="client_id",Es="redirect_uri",Ps="token_type",Rs="req_cnf",Ns="return_spa_code",Os="x-client-xtra-sku",Ms="brk_client_id",Ls="brk_redirect_uri",Ds="instance_aware";function Fs(e,t,n){if(!t)return;const r=e.get(Is);r&&e.has(Ms)&&(null===n||void 0===n||n.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Es)},t))}function js(e,t){e.set("response_type",t)}function Bs(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const o=n?[...t||[],...r]:t||[],i=new eo(o);e.set("scope",i.printScopes())}function Us(e,t){e.set(Is,t)}function zs(e,t){e.set(Es,t)}function qs(e,t){e.set("login_hint",t)}function Hs(e,t){e.set(x,"UPN:".concat(t))}function Ks(e,t){e.set(x,"Oid:".concat(t.uid,"@").concat(t.utid))}function Ws(e,t){e.set("sid",t)}function Vs(e,t,n){const r=ic(t,n);try{JSON.parse(r)}catch(o){throw Zr(Or)}e.set("claims",r)}function Gs(e,t){e.set("client-request-id",t)}function Qs(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function Ys(e,t){null!==t&&void 0!==t&&t.appName&&e.set("x-app-name",t.appName),null!==t&&void 0!==t&&t.appVersion&&e.set("x-app-ver",t.appVersion)}function Js(e,t){t&&e.set("state",t)}function Xs(e,t,n){if(!t||!n)throw Zr(Fr);e.set("code_challenge",t),e.set("code_challenge_method",n)}function Zs(e,t){e.set("client_secret",t)}function $s(e,t){t&&e.set("client_assertion",t)}function ec(e,t){t&&e.set("client_assertion_type",t)}function tc(e,t){e.set("grant_type",t)}function nc(e){e.set("client_info","1")}function rc(e){e.has(Ds)||e.set(Ds,"true")}function oc(e,t){Object.entries(t).forEach(t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)})}function ic(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw Zr(Or)}else n={};return t&&t.length>0&&(n.hasOwnProperty(E)||(n[E]={}),n[E][P]={values:t}),JSON.stringify(n)}function ac(e,t){t&&(e.set(Ps,oe.POP),e.set(Rs,t))}function sc(e,t){t&&(e.set(Ps,oe.SSH),e.set(Rs,t))}function cc(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function lc(e){e.set("x-ms-lib-capability",ce)}function uc(e,t,n){e.has(Ms)||e.set(Ms,t),e.has(Ls)||e.set(Ls,n)}function hc(e){return encodeURIComponent(fc(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function dc(e){return pc(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fc(e){return pc((new TextEncoder).encode(e))}function pc(e){const t=Array.from(e,e=>String.fromCodePoint(e)).join("");return btoa(t)}function mc(e){return(new TextDecoder).decode(gc(e))}function gc(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw ks(ds)}const n=atob(t);return Uint8Array.from(n,e=>e.codePointAt(0)||0)}const yc="AES-GCM",vc="HKDF",wc="SHA-256",bc=new Uint8Array([1,0,1]),kc="0123456789abcdef",xc=new Uint32Array(1),Cc="raw",_c="encrypt",Sc="decrypt",Tc={name:"RSASSA-PKCS1-v1_5",hash:wc,modulusLength:2048,publicExponent:bc};async function Ac(e,t,n){null===t||void 0===t||t.addQueueMeasurement(Zi,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(wc,r)}function Ic(e){return window.crypto.getRandomValues(e)}function Ec(){return window.crypto.getRandomValues(xc),xc[0]}function Pc(){const e=Date.now(),t=1024*Ec()+(1023&Ec()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=Ec();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=kc.charAt(n[s]>>>4),a+=kc.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function Rc(e){return window.crypto.subtle.exportKey("jwk",e)}async function Nc(){const e=await Mc(),t={alg:"dir",kty:"oct",k:dc(new Uint8Array(e))};return fc(JSON.stringify(t))}async function Oc(e,t){const n=t.split(".");if(5!==n.length)throw ks(gs,"jwe_length");const r=await async function(e){const t=mc(e),n=gc(JSON.parse(t).k);return window.crypto.subtle.importKey(Cc,n,yc,!1,[Sc])}(e).catch(()=>{throw ks(gs,"import_key")});try{const e=(new TextEncoder).encode(n[0]),t=gc(n[2]),o=gc(n[3]),i=gc(n[4]),a=8*i.byteLength,s=new Uint8Array(o.length+i.length);s.set(o),s.set(i,o.length);const c=await window.crypto.subtle.decrypt({name:yc,iv:t,tagLength:a,additionalData:e},r,s);return(new TextDecoder).decode(c)}catch(o){throw ks(gs,"decrypt")}}async function Mc(){const e=await window.crypto.subtle.generateKey({name:yc,length:256},!0,[_c,Sc]);return window.crypto.subtle.exportKey(Cc,e)}async function Lc(e){return window.crypto.subtle.importKey(Cc,e,vc,!1,["deriveKey"])}async function Dc(e,t,n){return window.crypto.subtle.deriveKey({name:vc,salt:t,hash:wc,info:(new TextEncoder).encode(n)},e,{name:yc,length:256},!1,[_c,Sc])}async function Fc(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await Dc(e,o,n),a=await window.crypto.subtle.encrypt({name:yc,iv:new Uint8Array(12)},i,r);return{data:dc(new Uint8Array(a)),nonce:dc(o)}}async function jc(e,t,n,r){const o=gc(r),i=await Dc(e,gc(t),n),a=await window.crypto.subtle.decrypt({name:yc,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(a)}async function Bc(e){const t=await Ac(e);return dc(new Uint8Array(t))}function Uc(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"","".concat(e.location.origin).concat(e.location.pathname).concat(e.location.search))}function zc(){return window.parent!==window}function qc(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Hc(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf("".concat(je,".")))throw ks(Ba)}function Kc(){if("undefined"===typeof window)throw ks(Qa)}function Wc(e){if(!e)throw ks(us)}function Vc(e){Kc(),function(){if(mo.hashContainsKnownProperties(window.location.hash)&&zc())throw ks(ja)}(),Hc(),Wc(e)}function Gc(e,t){if(Vc(e),function(e){if(zc()&&!e)throw ks(Fa)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===tt&&!t.cache.storeAuthStateInCookie)throw Oe(Pe)}function Qc(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch(e){}},1e4)}const Yc=1e4;const Jc="4.22.1",Xc="msal",Zc="browser",$c="".concat(Xc,".").concat(Zc,".log.level"),el="".concat(Xc,".").concat(Zc,".log.pii"),tl=("".concat(Xc,".").concat(Zc,".performance.enabled"),"".concat(Xc,".").concat(Zc,".platform.auth.dom")),nl="".concat(Xc,".version"),rl="account.keys",ol="token.keys";function il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e<1?"".concat(Xc,".").concat(rl):"".concat(Xc,".").concat(e,".").concat(rl)}function al(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t<1?"".concat(Xc,".").concat(ol,".").concat(e):"".concat(Xc,".").concat(t,".").concat(ol,".").concat(e)}class sl{static loggerCallback(e,t){switch(e){case zt.Error:return void console.error(t);case zt.Info:return void console.info(t);case zt.Verbose:return void console.debug(t);case zt.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){var t,n;let r;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:i}=e;const a={clientId:c.EMPTY_STRING,authority:"".concat(c.DEFAULT_AUTHORITY),knownAuthorities:[],cloudDiscoveryMetadata:c.EMPTY_STRING,authorityMetadata:c.EMPTY_STRING,redirectUri:"undefined"!==typeof window?qc():"",postLogoutRedirectUri:c.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:An,OIDCOptions:{serverResponseType:B,defaultScopes:[c.OPENID_SCOPE,c.PROFILE_SCOPE,c.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Pn,tenant:c.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},l={cacheLocation:et,cacheRetentionDays:5,temporaryCacheLocation:et,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==$e),claimsBasedCachingEnabled:!1},u={loggerCallback:()=>{},logLevel:zt.Info,piiLoggingEnabled:!1},h=s(s({},ha),{},{loggerOptions:u,networkClient:t?new Ss:ba,navigationClient:new xs,loadFrameTimeout:0,windowHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||Yc,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(null===o||void 0===o?void 0:o.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:Be}),d=s(s(s({},h),o),{},{loggerOptions:(null===o||void 0===o?void 0:o.loggerOptions)||u}),f={application:{appName:c.EMPTY_STRING,appVersion:c.EMPTY_STRING},client:new ua};(null===n||void 0===n?void 0:n.protocolMode)!==In&&null!==n&&void 0!==n&&n.OIDCOptions&&new qt(d.loggerOptions).warning(JSON.stringify(Zr(Wr)));if(null!==n&&void 0!==n&&n.protocolMode&&n.protocolMode===In&&null!==d&&void 0!==d&&d.allowPlatformBroker)throw Zr(Vr);return{auth:s(s(s({},a),n),{},{OIDCOptions:s(s({},a.OIDCOptions),null===n||void 0===n?void 0:n.OIDCOptions)}),cache:s(s({},l),r),system:d,telemetry:s(s({},f),i)}}(e,this.browserEnvironment);try{r=window[et]}catch(h){}const o=null===(t=r)||void 0===t?void 0:t.getItem($c),i=null===(n=r)||void 0===n||null===(n=n.getItem(el))||void 0===n?void 0:n.toLowerCase(),a="true"===i||"false"!==i&&void 0,l=s({},this.config.system.loggerOptions),u=o&&Object.keys(zt).includes(o)?zt[o]:void 0;u&&(l.loggerCallback=sl.loggerCallback,l.logLevel=u),void 0!==a&&(l.piiLoggingEnabled=a),this.logger=new qt(l,"@azure/msal-browser",Jc),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class cl extends sl{getModuleName(){return cl.MODULE_NAME}getId(){return cl.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}cl.MODULE_NAME="",cl.ID="StandardOperatingContext";const ll="missing_kid_error",ul="missing_alg_error",hl={[ll]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[ul]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class dl extends Te{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,dl.prototype)}}function fl(e){return new dl(e,hl[e])}class pl{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw fl(ll);if(!e.alg)throw fl(ul);const t=new pl({typ:e.typ||xe,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class ml{constructor(){this.dbName=Nt,this.version=1,this.tableName=Ot,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",e=>{e.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()}),n.addEventListener("error",()=>t(ks(is)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ks(Ya));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",e=>{const n=e;this.closeConnection(),t(n.target.result)}),r.addEventListener("error",e=>{this.closeConnection(),n(e)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ks(Ya));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",()=>{this.closeConnection(),n()}),o.addEventListener("error",e=>{this.closeConnection(),r(e)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ks(Ya));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",()=>{this.closeConnection(),t()}),r.addEventListener("error",e=>{this.closeConnection(),n(e)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(ks(Ya));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",t=>{const n=t;this.closeConnection(),e(n.target.result)}),n.addEventListener("error",e=>{this.closeConnection(),t(e)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,n)=>{if(!this.db)return n(ks(Ya));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",e=>{const n=e;this.closeConnection(),t(1===n.target.result)}),r.addEventListener("error",e=>{this.closeConnection(),n(e)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const n=window.indexedDB.deleteDatabase(Nt),r=setTimeout(()=>t(!1),200);n.addEventListener("success",()=>(clearTimeout(r),e(!0))),n.addEventListener("blocked",()=>(clearTimeout(r),e(!0))),n.addEventListener("error",()=>(clearTimeout(r),t(!1)))})}}class gl{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,n)=>{e.push(n)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class yl{constructor(e){this.inMemoryCache=new gl,this.indexedDBCache=new ml,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof bs&&e.errorCode===is))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class vl{constructor(e,t,n){this.logger=e,function(e){if(!window)throw ks(Qa);if(!window.crypto)throw ks(_a);if(!e&&!window.crypto.subtle)throw ks(_a,"crypto_subtle_undefined")}(null!==n&&void 0!==n&&n),this.cache=new yl(this.logger),this.performanceClient=t}createNewGuid(){return Pc()}base64Encode(e){return fc(e)}base64Decode(e){return mc(e)}base64UrlEncode(e){return hc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var t;const n=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(Lo,e.correlationId),r=await async function(e,t){return window.crypto.subtle.generateKey(Tc,e,t)}(vl.EXTRACTABLE,vl.POP_KEY_USAGES),o=await Rc(r.publicKey),i=wl({e:o.e,kty:o.kty,n:o.n}),a=await this.hashString(i),s=await Rc(r.privateKey),c=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Tc,t,n)}(s,!1,["sign"]);return await this.cache.setItem(a,{privateKey:c,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){await this.cache.removeItem(e);if(await this.cache.containsKey(e))throw Cr(fr)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error("Clearing keystore failed with error: ".concat(e.message)):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){var o;const i=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(Do,r),a=await this.cache.getItem(t);if(!a)throw ks(ts);const c=await Rc(a.publicKey),l=wl(c),u=hc(JSON.stringify({kid:t})),h=hc(pl.getShrHeaderString(s(s({},null===n||void 0===n?void 0:n.header),{},{alg:c.alg,kid:u})));e.cnf={jwk:JSON.parse(l)};const d=hc(JSON.stringify(e)),f="".concat(h,".").concat(d),p=(new TextEncoder).encode(f),m=await async function(e,t){return window.crypto.subtle.sign(Tc,e,t)}(a.privateKey,p),g=dc(new Uint8Array(m)),y="".concat(f,".").concat(g);return i&&i.end({success:!0}),y}async hashString(e){return Bc(e)}}function wl(e){return JSON.stringify(e,Object.keys(e).sort())}vl.POP_KEY_USAGES=["sign","verify"],vl.EXTRACTABLE=!0;const bl=0,kl=1,xl=2,Cl=3;const _l=(e,t,n,r,o)=>function(){n.trace("Executing function ".concat(t));const i=null===r||void 0===r?void 0:r.startMeasurement(t,o);if(o){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},o)}try{const r=e(...arguments);return null===i||void 0===i||i.end({success:!0}),n.trace("Returning result from ".concat(t)),r}catch(a){n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(a))}catch(a){n.trace("Unable to print error message.")}throw null===i||void 0===i||i.end({success:!1},a),a}},Sl=(e,t,n,r,o)=>function(){n.trace("Executing function ".concat(t));const i=null===r||void 0===r?void 0:r.startMeasurement(t,o);if(o){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},o)}return null===r||void 0===r||r.setPreQueueTime(t,o),e(...arguments).then(e=>(n.trace("Returning result from ".concat(t)),null===i||void 0===i||i.end({success:!0}),e)).catch(e=>{n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw null===i||void 0===i||i.end({success:!1},e),e})};class Tl{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Di,this.correlationId);let r=e;if(r)t.region_source=de;else{const e=Tl.IMDS_OPTIONS;try{const n=await Sl(this.getRegionFromIMDS.bind(this),Fi,this.logger,this.performanceClient,this.correlationId)(c.IMDS_VERSION,e);if(n.status===l&&(r=n.body,t.region_source=fe),n.status===h){const n=await Sl(this.getCurrentVersion.bind(this),ji,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=he,null;const o=await Sl(this.getRegionFromIMDS.bind(this),Fi,this.logger,this.performanceClient,this.correlationId)(n,e);o.status===l&&(r=o.body,t.region_source=fe)}}catch(o){return t.region_source=he,null}}return r||(t.region_source=he),r||null}async getRegionFromIMDS(e,t){var n;return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Fi,this.correlationId),this.networkInterface.sendGetRequestAsync("".concat(c.IMDS_ENDPOINT,"?api-version=").concat(e,"&format=text"),t,c.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ji,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync("".concat(c.IMDS_ENDPOINT,"?format=json"),e);return t.status===h&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(n){return null}}}function Al(){return Math.round((new Date).getTime()/1e3)}function Il(e){return e.getTime()/1e3}function El(e){return e?new Date(1e3*Number(e)):new Date}function Pl(e,t){const n=Number(e)||0;return Al()+t>n}function Rl(e,t){const n=Number(e)+24*t*60*60*1e3;return Date.now()>n}function Nl(e,t,n,r,o){return{credentialType:Q.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o,lastUpdatedAt:Date.now().toString()}}function Ol(e,t,n,r,o,i,a,s,c,l,u,h,d,f,p){var m,g;const y={homeAccountId:e,credentialType:Q.ACCESS_TOKEN,secret:n,cachedAt:Al().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||oe.BEARER,lastUpdatedAt:Date.now().toString()};if(h&&(y.userAssertionHash=h),l&&(y.refreshOn=l.toString()),f&&(y.requestedClaims=f,y.requestedClaimsHash=p),(null===(m=y.tokenType)||void 0===m?void 0:m.toLowerCase())!==oe.BEARER.toLowerCase())switch(y.credentialType=Q.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case oe.POP:const e=so(n,c);if(null===e||void 0===e||null===(g=e.cnf)||void 0===g||!g.kid)throw Cr(hr);y.keyId=e.cnf.kid;break;case oe.SSH:y.keyId=d}return y}function Ml(e,t,n,r,o,i,a){const s={credentialType:Q.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,lastUpdatedAt:Date.now().toString()};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Ll(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Dl(e){return!!e&&(Ll(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===Q.ACCESS_TOKEN||e.credentialType===Q.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function Fl(e){return!!e&&(Ll(e)&&e.credentialType===Q.REFRESH_TOKEN)}function jl(){return Al()+Z}function Bl(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Ul(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function zl(e){return e.expiresAt<=Al()}Tl.IMDS_OPTIONS={headers:{Metadata:"true"}};class ql{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new Tl(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(c.CIAM_AUTH_URL))return Cl;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case c.ADFS:return kl;case c.DSTS:return xl}return bl}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new mo(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Cr(Ln)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Cr(Ln)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Cr(Ln)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Cr(pr);return this.replacePath(this.metadata.end_session_endpoint)}throw Cr(Ln)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Cr(Ln)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Cr(Ln)}canReplaceTenant(e){return 1===e.PathSegments.length&&!ql.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===bl&&this.protocolMode!==In}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new mo(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new mo(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose("Replacing tenant domain name ".concat(i," with id ").concat(e)),i=e)}e!==i&&(t=t.replace("/".concat(i,"/"),"/".concat(e,"/")))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===kl||this.protocolMode===In&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var e,t;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(Pi,this.correlationId);const n=this.getCurrentMetadataEntity(),r=await Sl(this.updateCloudDiscoveryMetadata.bind(this),Ni,this.logger,this.performanceClient,this.correlationId)(n);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,n.preferred_network);const o=await Sl(this.updateEndpointMetadata.bind(this),Mi,this.logger,this.performanceClient,this.correlationId)(n);this.updateCachedMetadata(n,r,{source:o}),null===(t=this.performanceClient)||void 0===t||t.addFields({cloudDiscoverySource:r,authorityEndpointSource:o},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:jl(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==ee&&(null===n||void 0===n?void 0:n.source)!==ee&&(e.expiresAt=jl(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Mi,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){var r;if(n.source===ne)if(null!==(r=this.authorityOptions.azureRegionConfiguration)&&void 0!==r&&r.azureRegion&&n.metadata){Bl(e,await Sl(this.updateMetadataWithRegionalInformation.bind(this),Li,this.logger,this.performanceClient,this.correlationId)(n.metadata),!1),e.canonical_authority=this.canonicalAuthority}return n.source}let o=await Sl(this.getEndpointMetadataFromNetwork.bind(this),Oi,this.logger,this.performanceClient,this.correlationId)();var i;if(o)return null!==(i=this.authorityOptions.azureRegionConfiguration)&&void 0!==i&&i.azureRegion&&(o=await Sl(this.updateMetadataWithRegionalInformation.bind(this),Li,this.logger,this.performanceClient,this.correlationId)(o)),Bl(e,o,!0),te;throw Cr(Fn,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Bl(e,t,!1),{source:$};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Bl(e,t,!1),{source:ne,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=zl(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ee}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new mo(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Zr(Br)}return null}async getEndpointMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(Oi,this.correlationId);const t={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(n));try{const e=await this.networkInterface.sendGetRequestAsync(n,t),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(e.body);return r?e.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(r)),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in go?go[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Li,this.correlationId);const r=null===(n=this.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.azureRegion;if(r){var o;if(r!==c.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=pe,this.regionDiscoveryMetadata.region_used=r,ql.replaceWithRegionalInformation(e,r);const t=await Sl(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Di,this.logger,this.performanceClient,this.correlationId)(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(t)return this.regionDiscoveryMetadata.region_outcome=me,this.regionDiscoveryMetadata.region_used=t,ql.replaceWithRegionalInformation(e,t);this.regionDiscoveryMetadata.region_outcome=ge}return e}async updateCloudDiscoveryMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ni,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await Sl(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Ri,this.logger,this.performanceClient,this.correlationId)();if(r)return Ul(e,r,!0),te;throw Zr(Ur)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||c.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||c.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||c.NOT_APPLICABLE));const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Ul(e,t,!1),$;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,bo(yo.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Ul(e,t,!1),ne;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=zl(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),ee):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Cl)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),ql.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=bo(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Zr(jr)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),ql.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(Ri,this.correlationId);const t="".concat(c.AAD_INSTANCE_DISCOVERY_ENDPT).concat(this.canonicalAuthority,"oauth2/v2.0/authorize"),n={};let r=null;try{const e=await this.networkInterface.sendGetRequestAsync(t,n);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(e.body))o=e.body,i=o.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: ".concat(o.tenant_discovery_endpoint));else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(e.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(e.status)),o=e.body,o.error===c.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(o.error)),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(o.error_description)),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=bo(i,this.hostnameAndPort)}catch(o){if(o instanceof Te)this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(o.errorCode,"\nError Description: ").concat(o.errorMessage));else{const e=o;this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(e.name,"\nError Description: ").concat(e.message))}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=ql.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&mo.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Pn){const e=t.tenant?t.tenant:c.DEFAULT_COMMON_TENANT;n="".concat(t.azureCloudInstance,"/").concat(e,"/")}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return c.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Cr(Ln)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return vo.has(e)}static isPublicCloudAuthority(e){return c.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new mo(e);r.validateAsUri();const o=r.getUrlComponents();let i="".concat(t,".").concat(o.HostNameAndPort);this.isPublicCloudAuthority(o.HostNameAndPort)&&(i="".concat(t,".").concat(c.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));const a=mo.constructAuthorityUriFromObject(s(s({},r.getUrlComponents()),{},{HostNameAndPort:i})).urlString;return n?"".concat(a,"?").concat(n):a}static replaceWithRegionalInformation(e,t){const n=s({},e);return n.authorization_endpoint=ql.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=ql.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=ql.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new mo(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(c.CIAM_AUTH_URL)){const e=n.HostNameAndPort.split(".")[0];t="".concat(t).concat(e).concat(c.AAD_TENANT_DOMAIN_SUFFIX)}return t}}function Hl(e){return e.endsWith(c.FORWARD_SLASH)?e:"".concat(e).concat(c.FORWARD_SLASH)}ql.reservedTenantDomains=new Set(["{tenant}","{tenantid}",T,I,A]);const Kl="no_tokens_found",Wl="native_account_unavailable",Vl="refresh_token_expired",Gl="ux_not_allowed",Ql="bad_token",Yl=["interaction_required","consent_required","login_required",Ql,Gl],Jl=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Xl={[Kl]:"No refresh token found in the cache. Please sign-in.",[Wl]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Vl]:"Refresh token has expired.",[Ql]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[Gl]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Zl extends Te{constructor(e,t,n,r,o,i,a,s){super(e,t,n),Object.setPrototypeOf(this,Zl.prototype),this.timestamp=r||c.EMPTY_STRING,this.traceId=o||c.EMPTY_STRING,this.correlationId=i||c.EMPTY_STRING,this.claims=a||c.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function $l(e,t,n){const r=!!e&&Yl.indexOf(e)>-1,o=!!n&&Jl.indexOf(n)>-1,i=!!t&&Yl.some(e=>t.indexOf(e)>-1);return r||i||o}function eu(e){return new Zl(e,Xl[e])}function tu(e,t){if(!e)throw Cr(Nn);try{const n=t(e);return JSON.parse(n)}catch(n){throw Cr(Rn)}}function nu(e){if(!e)throw Cr(Rn);const t=e.split(G,2);return{uid:t[0],utid:t.length<2?c.EMPTY_STRING:t[1]}}function ru(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class ou{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,t,n){var r,o,i,a,s,c,l,u,h;const d=new ou;let f;t.authorityType===kl?d.authorityType=K:t.protocolMode===In?d.authorityType=W:d.authorityType=H,e.clientInfo&&n&&(f=tu(e.clientInfo,n)),d.clientInfo=e.clientInfo,d.homeAccountId=e.homeAccountId,d.nativeAccountId=e.nativeAccountId;const p=e.environment||t&&t.getPreferredCache();if(!p)throw Cr(rr);d.environment=p,d.realm=(null===(r=f)||void 0===r?void 0:r.utid)||ru(e.idTokenClaims)||"",d.localAccountId=(null===(o=f)||void 0===o?void 0:o.uid)||(null===(i=e.idTokenClaims)||void 0===i?void 0:i.oid)||(null===(a=e.idTokenClaims)||void 0===a?void 0:a.sub)||"";const m=(null===(s=e.idTokenClaims)||void 0===s?void 0:s.preferred_username)||(null===(c=e.idTokenClaims)||void 0===c?void 0:c.upn),g=null!==(l=e.idTokenClaims)&&void 0!==l&&l.emails?e.idTokenClaims.emails[0]:null;if(d.username=m||g||"",d.loginHint=null===(u=e.idTokenClaims)||void 0===u?void 0:u.login_hint,d.name=(null===(h=e.idTokenClaims)||void 0===h?void 0:h.name)||"",d.cloudGraphHostName=e.cloudGraphHostName,d.msGraphHost=e.msGraphHost,e.tenantProfiles)d.tenantProfiles=e.tenantProfiles;else{const t=io(e.homeAccountId,d.localAccountId,d.realm,e.idTokenClaims);d.tenantProfiles=[t]}return d}static createFromAccountInfo(e,t,n){var r;const o=new ou;return o.authorityType=e.authorityType||W,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.loginHint=e.loginHint,o.cloudGraphHostName=t,o.msGraphHost=n,o.tenantProfiles=Array.from((null===(r=e.tenantProfiles)||void 0===r?void 0:r.values())||[]),o}static generateHomeAccountId(e,t,n,r,o){if(t!==kl&&t!==xl){if(e)try{const t=tu(e,r.base64Decode);if(t.uid&&t.utid)return"".concat(t.uid,".").concat(t.utid)}catch(i){}n.warning("No client info in response")}return(null===o||void 0===o?void 0:o.sub)||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.loginHint===t.loginHint&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function iu(e,t,n){var r;return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||(null===(r=t.tokenBodyParameters)||void 0===r?void 0:r.clientId)}}const au=864e5,su="Lax",cu="None";class lu{initialize(){return Promise.resolve()}getItem(e){const t="".concat(encodeURIComponent(e)),n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),a=i.join("=");if(o===t)return a}return""}getUserData(){throw Cr(wr)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:su,i="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";path=/;SameSite=").concat(o,";");if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*au);return n.toUTCString()}(n);i+="expires=".concat(e,";")}(r||o===cu)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(Cr(wr))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])}),t}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function uu(e,t){const n=e.getItem(il(t));return n?JSON.parse(n):[]}function hu(e,t,n){const r=t.getItem(al(e,n));if(r){const e=JSON.parse(r);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}function du(e){return e.hasOwnProperty("id")&&e.hasOwnProperty("nonce")&&e.hasOwnProperty("data")}const fu="msal.cache.encryption";class pu{constructor(e,t,n){if(!window.localStorage)throw Oe(Ie);this.memoryStorage=new gl,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new lu,n=t.getItem(fu);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(o){}if(r.key&&r.id){const t=_l(gc,na,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Sl(Lc,ea,this.logger,this.performanceClient,e)(t)}}else{const n=Pc(),r=await Sl(Mc,ta,this.logger,this.performanceClient,e)(),o=_l(dc,ra,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Sl(Lc,ea,this.logger,this.performanceClient,e)(r)};const i={id:n,key:o};t.setItem(fu,JSON.stringify(i),0,!0,cu)}await Sl(this.importExistingCache.bind(this),Vi,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw ks(us);return this.memoryStorage.getItem(e)}async decryptData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw ks(us);if(t.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null;const r=await Sl(jc,ia,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t.nonce,this.getContext(e),t.data);if(!r)return null;try{return JSON.parse(r)}catch(o){return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},n),null}}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n,r){if(!this.initialized||!this.encryptionCookie)throw ks(us);const{data:o,nonce:i}=await Sl(Fc,oa,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:i,data:o,lastUpdatedAt:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();uu(this).forEach(e=>this.removeItem(e));const e=hu(this.clientId,this);e.idToken.forEach(e=>this.removeItem(e)),e.accessToken.forEach(e=>this.removeItem(e)),e.refreshToken.forEach(e=>this.removeItem(e)),this.getKeys().forEach(e=>{(e.startsWith(Xc)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)})}async importExistingCache(e){if(!this.encryptionCookie)return;let t=uu(this);t=await this.importArray(t,e),t.length?this.setItem(il(),JSON.stringify(t)):this.removeItem(il());const n=hu(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),n.idToken.length||n.accessToken.length||n.refreshToken.length?this.setItem(al(this.clientId),JSON.stringify(n)):this.removeItem(al(this.clientId))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(o){return null}return du(r)?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Sl(jc,ia,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),r)}async importArray(e,t){const n=[],r=[];return e.forEach(e=>{const o=this.getItemFromEncryptedCache(e,t).then(t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)});r.push(o)}),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(Qi);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace("Ignoring broadcast event from clientId: ".concat(o)),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class mu{constructor(){if(!window.sessionStorage)throw Oe(Ie)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}function gu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yu extends To{constructor(e,t,n,r,o,i,a){super(e,n,r,o,a),this.cacheConfig=t,this.logger=r,this.internalStorage=new gl,this.browserStorage=vu(e,t.cacheLocation,r,o),this.temporaryCacheStorage=vu(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new lu,this.eventHandler=i}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const t=uu(this.browserStorage,0),n=hu(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:t.length,oldAccessCount:n.accessToken.length,oldIdCount:n.idToken.length,oldRefreshCount:n.refreshToken.length},e);const r=uu(this.browserStorage,1),o=hu(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:r.length,currAccessCount:o.accessToken.length,currIdCount:o.idToken.length,currRefreshCount:o.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(1,t,r,e),this.updateV0ToCurrent(1,n.idToken,o.idToken,e),this.updateV0ToCurrent(1,n.accessToken,o.accessToken,e),this.updateV0ToCurrent(1,n.refreshToken,o.refreshToken,e)]),t.length>0?this.browserStorage.setItem(il(0),JSON.stringify(t)):this.browserStorage.removeItem(il(0)),r.length>0?this.browserStorage.setItem(il(1),JSON.stringify(r)):this.browserStorage.removeItem(il(1)),this.setTokenKeys(n,e,0),this.setTokenKeys(o,e,1)}async updateV0ToCurrent(e,t,n,r){const o=[];for(const i of[...t]){const a=this.browserStorage.getItem(i),s=this.validateAndParseJson(a||"");if(!s){gu(t,i);continue}s.lastUpdatedAt||(s.lastUpdatedAt=Date.now().toString(),this.setItem(i,JSON.stringify(s),r));const c=du(s)?await this.browserStorage.decryptData(i,s,r):s;let l;if(c&&(Dl(c)||Fl(c))&&(l=c.expiresOn),!c||Rl(s.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||l&&Pl(l,300))this.browserStorage.removeItem(i),gu(t,i),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},r);else if(this.cacheConfig.cacheLocation!==$e||du(s)){const t="".concat(Xc,".").concat(e).concat("-").concat(i),a=this.browserStorage.getItem(t);if(!a){o.push(this.setUserData(t,JSON.stringify(c),r,s.lastUpdatedAt).then(()=>{n.push(t),this.performanceClient.incrementFields({upgradedCacheCount:1},r)}));continue}{const e=this.validateAndParseJson(a);if(Number(s.lastUpdatedAt)>Number(e.lastUpdatedAt)){o.push(this.setUserData(t,JSON.stringify(c),r,s.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},r)}));continue}}}}return Promise.all(o)}trackVersionChanges(e){const t=this.browserStorage.getItem(nl);t&&(this.logger.info("MSAL.js was last initialized by version: ".concat(t)),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==Jc&&this.setItem(nl,Jc,e)}validateAndParseJson(e){if(!e)return null;try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}setItem(e,t,n){let r=0,o=[];for(let a=0;a<=20;a++)try{this.browserStorage.setItem(e,t),a>0&&(a<=r?this.removeAccessTokenKeys(o.slice(0,a),n,0):(this.removeAccessTokenKeys(o.slice(0,r),n,0),this.removeAccessTokenKeys(o.slice(r,a),n)));break}catch(i){const s=So(i);if(!(s.errorCode===ko&&a<20))throw s;if(!o.length){const n=e===al(this.clientId,0)?JSON.parse(t).accessToken:this.getTokenKeys(0).accessToken,i=e===al(this.clientId)?JSON.parse(t).accessToken:this.getTokenKeys().accessToken;o=[...n,...i],r=n.length}if(o.length<=a)throw s;this.removeAccessToken(o[a],n,!1)}}async setUserData(e,t,n,r){let o=0,i=[];for(let s=0;s<=20;s++)try{await Sl(this.browserStorage.setUserData.bind(this.browserStorage),Gi,this.logger,this.performanceClient)(e,t,n,r),s>0&&(s<=o?this.removeAccessTokenKeys(i.slice(0,s),n,0):(this.removeAccessTokenKeys(i.slice(0,o),n,0),this.removeAccessTokenKeys(i.slice(o,s),n)));break}catch(a){const e=So(a);if(!(e.errorCode===ko&&s<20))throw e;if(!i.length){const e=this.getTokenKeys(0).accessToken,t=this.getTokenKeys().accessToken;i=[...e,...t],o=e.length}if(i.length<=s)throw e;this.removeAccessToken(i[s],n,!1)}}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.browserStorage.getUserData(e);if(!n)return this.removeAccountKeyFromMap(e,t),null;const r=this.validateAndParseJson(n);return r&&ou.isAccountEntity(r)?To.toObject(new ou,r):null}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=this.generateAccountKey(e.getAccountInfo()),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(n,JSON.stringify(e),t,r);const o=this.addAccountKeyToMap(n,t);this.cacheConfig.cacheLocation===$e&&o&&this.eventHandler.emitEvent(Gt,void 0,e.getAccountInfo())}getAccountKeys(){return uu(this.browserStorage)}addAccountKeyToMap(e,t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: ".concat(e));const n=this.getAccountKeys();return-1===n.indexOf(e)?(n.push(e),this.setItem(il(),JSON.stringify(n),t),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: ".concat(e));const n=this.getAccountKeys(),r=n.indexOf(e);if(r>-1){if(n.splice(r,1),0===n.length)return void this.removeItem(il());this.setItem(il(),JSON.stringify(n),t),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,t){const n=this.getActiveAccount(t);(null===n||void 0===n?void 0:n.homeAccountId)===e.homeAccountId&&(null===n||void 0===n?void 0:n.environment)===e.environment&&this.setActiveAccount(null,t),super.removeAccount(e,t),this.removeAccountKeyFromMap(this.generateAccountKey(e),t),this.browserStorage.getKeys().forEach(t=>{t.includes(e.homeAccountId)&&t.includes(e.environment)&&this.browserStorage.removeItem(t)}),this.cacheConfig.cacheLocation===$e&&this.eventHandler.emitEvent(Qt,void 0,e)}removeIdToken(e,t){super.removeIdToken(e,t);const n=this.getTokenKeys(),r=n.idToken.indexOf(e);r>-1&&(this.logger.info("idToken removed from tokenKeys map"),n.idToken.splice(r,1),this.setTokenKeys(n,t))}removeAccessToken(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super.removeAccessToken(e,t),n&&this.removeAccessTokenKeys([e],t)}removeAccessTokenKeys(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys(n);let o=0;if(e.forEach(e=>{const t=r.accessToken.indexOf(e);t>-1&&(r.accessToken.splice(t,1),o++)}),o>0)return this.logger.info("removed ".concat(o," accessToken keys from tokenKeys map")),void this.setTokenKeys(r,t,n)}removeRefreshToken(e,t){super.removeRefreshToken(e,t);const n=this.getTokenKeys(),r=n.refreshToken.indexOf(e);r>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),n.refreshToken.splice(r,1),this.setTokenKeys(n,t))}getTokenKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return hu(this.clientId,this.browserStorage,e)}setTokenKeys(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;0!==e.idToken.length||0!==e.accessToken.length||0!==e.refreshToken.length?this.setItem(al(this.clientId,n),JSON.stringify(e),t):this.removeItem(al(this.clientId,n))}getIdTokenCredential(e,t){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,t),null;const r=this.validateAndParseJson(n);return r&&(o=r)&&Ll(o)&&o.hasOwnProperty("realm")&&o.credentialType===Q.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null);var o}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(n,JSON.stringify(e),t,r);const o=this.getTokenKeys();-1===o.idToken.indexOf(n)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),o.idToken.push(n),this.setTokenKeys(o,t))}getAccessTokenCredential(e,t){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],t),null;const r=this.validateAndParseJson(n);return r&&Dl(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(n,JSON.stringify(e),t,r);const o=this.getTokenKeys(),i=o.accessToken.indexOf(n);-1!==i&&o.accessToken.splice(i,1),this.logger.trace("access token ".concat(-1===i?"added to":"updated in"," map")),o.accessToken.push(n),this.setTokenKeys(o,t)}getRefreshTokenCredential(e,t){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,t),null;const r=this.validateAndParseJson(n);return r&&Fl(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(n,JSON.stringify(e),t,r);const o=this.getTokenKeys();-1===o.refreshToken.indexOf(n)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),o.refreshToken.push(n),this.setTokenKeys(o,t))}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(Y)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e,t){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=function(e){let{environment:t,clientId:n}=e;return[Y,t,n].join(V).toLowerCase()}(e);this.setItem(n,JSON.stringify(e),t)}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(re.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t),n)}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(X)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(e=>this.isAuthorityMetadata(e))}setWrapperMetadata(e,t){this.internalStorage.setItem(dt,e),this.internalStorage.setItem(ft,t)}getWrapperMetadata(){return[this.internalStorage.getItem(dt)||c.EMPTY_STRING,this.internalStorage.getItem(ft)||c.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(e){const t=this.generateCacheKey(S),n=this.browserStorage.getItem(t);if(!n)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(n);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,t){const n=this.generateCacheKey(S);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Al().toString()};this.setItem(n,JSON.stringify(r),t)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n);this.eventHandler.emitEvent(Yt)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(se));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t),n)}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===$e){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(e=>{-1===e.indexOf(Xc)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{-1===e.indexOf(Xc)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(Ki,e);const t=this.getTokenKeys();let n=0;t.accessToken.forEach(t=>{const r=this.getAccessTokenCredential(t,e);null!==r&&void 0!==r&&r.requestedClaimsHash&&t.includes(r.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(t,e),n++)}),n>0&&this.logger.warning("".concat(n," access tokens with claims in the cache keys have been removed from the cache."))}generateCacheKey(e){return $r.startsWith(e,Xc)?e:"".concat(Xc,".").concat(this.clientId,".").concat(e)}generateCredentialKey(e){const t=e.credentialType===Q.REFRESH_TOKEN&&e.familyId||e.clientId,n=e.tokenType&&e.tokenType.toLowerCase()!==oe.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return["".concat(Xc,".").concat(1),e.homeAccountId,e.environment,e.credentialType,t,e.realm||"",e.target||"",e.requestedClaimsHash||"",n].join("-").toLowerCase()}generateAccountKey(e){const t=e.homeAccountId.split(".")[1];return["".concat(Xc,".").concat(1),e.homeAccountId,e.environment,t||e.tenantId||""].join("-").toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(ct)),this.removeTemporaryItem(this.generateCacheKey(lt)),this.removeTemporaryItem(this.generateCacheKey(at)),this.removeTemporaryItem(this.generateCacheKey(st)),this.removeTemporaryItem(this.generateCacheKey(ht)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=fc(JSON.stringify(e));if(this.setTemporaryCache(ct,n,!0),t){const e=fc(t);this.setTemporaryCache(lt,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(ct,!0);if(!e)throw ks(Ka);const t=this.getTemporaryCache(lt,!0);let n,r="";try{n=JSON.parse(mc(e)),t&&(r=mc(t))}catch(o){throw this.logger.errorPii("Attempted to parse: ".concat(e)),this.logger.error("Parsing cached token request threw with error: ".concat(o)),ks(Wa)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ht,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var t;const n=null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e="".concat(Xc,".").concat(ut),t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(n){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Uc(window),null}}setInteractionInProgress(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot;const r="".concat(Xc,".").concat(ut);if(e){if(this.getInteractionInProgress())throw ks(Ra);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else e||(null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId)!==this.clientId||this.removeTemporaryItem(r)}async hydrateCache(e,t){var n,r,o;const i=Nl(null===(n=e.account)||void 0===n?void 0:n.homeAccountId,null===(r=e.account)||void 0===r?void 0:r.environment,e.idToken,this.clientId,e.tenantId);let a;t.claims&&(a=await this.cryptoImpl.hashString(t.claims));const s={idToken:i,accessToken:Ol(null===(o=e.account)||void 0===o?void 0:o.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Il(e.expiresOn):0,e.extExpiresOn?Il(e.extExpiresOn):0,mc,void 0,e.tokenType,void 0,t.sshKid,t.claims,a)};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof _o&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function vu(e,t,n,r){try{switch(t){case $e:return new pu(e,n,r);case et:return new mu}}catch(o){n.error(o)}return new gl}class wu{constructor(e){this.eventCallbacks=new Map,this.logger=e||new qt({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||Pc();return this.eventCallbacks.has(r)?(this.logger.error("Event callback with id: ".concat(r," is already registered. Please provide a unique id or remove the existing callback and try again.")),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose("Event callback registered with id: ".concat(r)),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback ".concat(e," removed."))}emitEvent(e,t,n,r){var o;const i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case Gt:case Qt:case Yt:null===(o=this.broadcastChannel)||void 0===o||o.postMessage(i);break;default:this.invokeCallbacks(i)}}invokeCallbacks(e){this.eventCallbacks.forEach((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose("Emitting event to callback ".concat(n,": ").concat(e.eventType)),r.apply(null,[e]))})}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}const bu="home_account_id",ku="UPN";async function xu(e,t,n,r,o,i,a){null===a||void 0===a||a.addQueueMeasurement(Ei,i);const s=ql.transformCIAMAuthority(Hl(e)),c=new ql(s,t,n,r,o,i,a);try{return await Sl(c.resolveEndpointsAsync.bind(c),Pi,o,a,i)(),c}catch(l){throw Cr(Ln)}}class Cu extends Te{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Cu.prototype)}}class _u{static generateThrottlingStorageKey(e){return"".concat(se,".").concat(JSON.stringify(e))}static preProcess(e,t,n){const r=_u.generateThrottlingStorageKey(t),o=e.getThrottlingCache(r);if(o){var i;if(o.throttleTime<Date.now())return void e.removeItem(r,n);throw new Cu((null===(i=o.errorCodes)||void 0===i?void 0:i.join(" "))||c.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,t,n,r){if(_u.checkResponseStatus(n)||_u.checkResponseForRetryAfter(n)){const o={throttleTime:_u.calculateThrottleTime(parseInt(n.headers[k])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(_u.generateThrottlingStorageKey(t),o,r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(k)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||ie),n+ae))}static removeThrottle(e,t,n,r){const o=iu(t,n,r),i=this.generateThrottlingStorageKey(o);e.removeItem(i,n.correlationId)}}class Su{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:a,cryptoInterface:c,clientCredentials:l,libraryInfo:u,telemetry:h,serverTelemetryManager:d,persistencePlugin:f,serializableCache:p}=e;const m=s(s({},da),r);return{authOptions:(g=t,s({clientCapabilities:[],azureCloudOptions:ya,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},g)),systemOptions:s(s({},ha),n),loggerOptions:m,cacheOptions:s(s({},fa),o),storageInterface:i||new Ao(t.clientId,_r,new qt(m),new ua),networkInterface:a||pa,cryptoInterface:c||_r,clientCredentials:l||ga,libraryInfo:s(s({},ma),u),telemetry:s(s({},va),h),serverTelemetryManager:d||null,persistencePlugin:f||null,serializableCache:p||null};var g}(e),this.logger=new qt(this.config.loggerOptions,Sr,Tr),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[w]=c.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case bu:try{const n=nu(e.credential);t[x]="Oid:".concat(n.uid,"@").concat(n.utid)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case ku:t[x]="UPN: ".concat(e.credential)}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){var a;i&&(null===(a=this.performanceClient)||void 0===a||a.addQueueMeasurement(i,o));const s=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let o;_u.preProcess(this.cacheManager,e,r);try{var i,a;o=await Sl(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Ko,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};null===(i=this.performanceClient)||void 0===i||i.addFields({refreshTokenSize:(null===(a=o.body.refresh_token)||void 0===a?void 0:a.length)||0,httpVerToken:e[_]||"",requestId:e[C]||""},r)}catch(c){if(c instanceof Cs){const e=c.responseHeaders;var s;if(e)null===(s=this.performanceClient)||void 0===s||s.addFields({httpVerToken:e[_]||"",requestId:e[C]||"",contentTypeHeader:e[w]||void 0,contentLengthHeader:e[b]||void 0,httpStatus:c.httpStatus},r);throw c.error}throw c instanceof Te?c:Cr(Dn)}return _u.postProcess(this.cacheManager,e,o,r),o}async updateAuthority(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(ki,t);const r="https://".concat(e,"/").concat(this.authority.tenant,"/"),o=await xu(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&uc(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&oc(t,e.tokenQueryParameters),Gs(t,e.correlationId),Fs(t,e.correlationId,this.performanceClient),fo(t)}}class Tu{static setRequestState(e,t,n){const r=Tu.generateLibraryState(e,n);return t?"".concat(r).concat(c.RESOURCE_DELIM).concat(t):r}static generateLibraryState(e,t){if(!e)throw Cr(ir);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw Cr(ir);if(!t)throw Cr(Bn);try{const n=t.split(c.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(c.RESOURCE_DELIM):c.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:o||c.EMPTY_STRING,libraryState:a}}catch(n){throw Cr(Bn)}}}const Au="sw";class Iu{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Si,e.correlationId);const r=await Sl(this.generateKid.bind(this),Si,t,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}}async generateKid(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ti,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Au}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:c,shrOptions:l}=n,u=i?new mo(i):void 0,h=null===u||void 0===u?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt(s({at:e,ts:Al(),m:null===o||void 0===o?void 0:o.toUpperCase(),u:null===h||void 0===h?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:null===h||void 0===h?void 0:h.AbsolutePath,q:null!==h&&void 0!==h&&h.QueryString?[[],h.QueryString]:void 0,client_claims:a||void 0},r),t,l,n.correlationId)}}class Eu{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class Pu{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){var n;const r="Error(s): ".concat(e.error_codes||c.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||c.NOT_AVAILABLE," - Description: ").concat(e.error_description||c.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||c.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||c.NOT_AVAILABLE),o=null!==(n=e.error_codes)&&void 0!==n&&n.length?e.error_codes[0]:void 0,i=new Cu(e.error,r,e.suberror,o,e.status);if(t&&e.status&&e.status>=f&&e.status<=p)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(i));if(t&&e.status&&e.status>=u&&e.status<=d)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(i));if($l(e.error,e.error_description,e.suberror))throw new Zl(e.error,e.error_description,e.suberror,e.timestamp||c.EMPTY_STRING,e.trace_id||c.EMPTY_STRING,e.correlation_id||c.EMPTY_STRING,e.claims||c.EMPTY_STRING,o);throw i}}async handleServerTokenResponse(e,t,n,r,o,i,a,s,l){var u;let h,d;if(null===(u=this.performanceClient)||void 0===u||u.addQueueMeasurement(Ai,e.correlation_id),e.id_token){if(h=so(e.id_token||c.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&h.nonce!==o.nonce)throw Cr(qn);if(r.maxAge||0===r.maxAge){const e=h.auth_time;if(!e)throw Cr(Hn);co(e,r.maxAge)}}this.homeAccountIdentifier=ou.generateHomeAccountId(e.client_info||c.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,h),o&&o.state&&(d=Tu.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const f=this.generateCacheRecord(e,t,n,r,h,i,o);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new Eu(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!s&&f.account){const e=this.cacheStorage.generateAccountKey(f.account.getAccountInfo());if(!this.cacheStorage.getAccount(e,r.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Pu.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,h,d,void 0,l)}await this.cacheStorage.saveCacheRecord(f,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return Pu.generateAuthenticationResult(this.cryptoObj,t,f,!1,r,h,d,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw Cr(rr);const c=ru(o);let l,u;e.id_token&&o&&(l=Nl(this.homeAccountIdentifier,s,e.id_token,this.clientId,c||""),u=Ru(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,o,e.client_info,s,c,a,void 0,this.logger));let h=null;if(e.access_token){const o=e.scope?eo.fromString(e.scope):new eo(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=n+a,f=d+l,p=u&&u>0?n+u:void 0;h=Ol(this.homeAccountIdentifier,s,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),d,f,this.cryptoObj.base64Decode,p,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let d=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}d=Ml(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:l,accessToken:h,refreshToken:d,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,o,i,a,s,l){var u,h,d,f,p;let m,g,y=c.EMPTY_STRING,v=[],w=null,b=c.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==oe.POP||o.popKid)y=n.accessToken.secret;else{const t=new Iu(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw Cr(mr);y=await t.signPopToken(r,i,o)}v=eo.fromString(n.accessToken.target).asArray(),w=El(n.accessToken.expiresOn),m=El(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(g=El(n.accessToken.refreshOn))}n.appMetadata&&(b=n.appMetadata.familyId===J?J:"");const k=(null===i||void 0===i?void 0:i.oid)||(null===i||void 0===i?void 0:i.sub)||"",x=(null===i||void 0===i?void 0:i.tid)||"";null!==s&&void 0!==s&&s.spa_accountid&&n.account&&(n.account.nativeAccountId=null===s||void 0===s?void 0:s.spa_accountid);const C=n.account?ao(n.account.getAccountInfo(),void 0,i,null===(u=n.idToken)||void 0===u?void 0:u.secret):null;return{authority:t.canonicalAuthority,uniqueId:k,tenantId:x,scopes:v,account:C,idToken:(null===n||void 0===n||null===(h=n.idToken)||void 0===h?void 0:h.secret)||"",idTokenClaims:i||{},accessToken:y,fromCache:r,expiresOn:w,extExpiresOn:m,refreshOn:g,correlationId:o.correlationId,requestId:l||c.EMPTY_STRING,familyId:b,tokenType:(null===(d=n.accessToken)||void 0===d?void 0:d.tokenType)||c.EMPTY_STRING,state:a?a.userRequestState:c.EMPTY_STRING,cloudGraphHostName:(null===(f=n.account)||void 0===f?void 0:f.cloudGraphHostName)||c.EMPTY_STRING,msGraphHost:(null===(p=n.account)||void 0===p?void 0:p.msGraphHost)||c.EMPTY_STRING,code:null===s||void 0===s?void 0:s.spa_code,fromNativeBroker:!1}}}function Ru(e,t,n,r,o,i,a,s,c,l,u,h){null===h||void 0===h||h.verbose("setCachedAccount called");const d=e.getAccountKeys().find(e=>e.startsWith(n));let f=null;d&&(f=e.getAccount(d,o));const p=f||ou.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:a,environment:s,cloudGraphHostName:null===l||void 0===l?void 0:l.cloud_graph_host_name,msGraphHost:null===l||void 0===l?void 0:l.msgraph_host,nativeAccountId:u},t,r),m=p.tenantProfiles||[],g=c||p.realm;if(g&&!m.find(e=>e.tenantId===g)){const e=io(n,p.localAccountId,g,i);m.push(e)}return p.tenantProfiles=m,p}async function Nu(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class Ou extends Su{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=null===(n=this.config.authOptions.authority.options.OIDCOptions)||void 0===n?void 0:n.defaultScopes}async acquireToken(e,t){var n,r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(xi,e.correlationId),!e.code)throw Cr(Qn);const o=Al(),i=await Sl(this.executeTokenRequest.bind(this),Ci,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=null===(r=i.headers)||void 0===r?void 0:r[C],s=new Pu(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),Sl(s.handleServerTokenResponse.bind(s),Ai,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,o,e,t,void 0,void 0,void 0,a)}getLogoutUri(e){if(!e)throw Zr(Lr);const t=this.createLogoutUrlQueryString(e);return mo.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Ci,t.correlationId);const r=this.createTokenQueryParameters(t),o=mo.appendQueryString(e.tokenEndpoint,r),i=await Sl(this.createTokenRequestBody.bind(this),_i,this.logger,this.performanceClient,t.correlationId)(t);let a;if(t.clientInfo)try{const e=tu(t.clientInfo,this.cryptoUtils.base64Decode);a={credential:"".concat(e.uid).concat(G).concat(e.utid),type:bu}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}const s=this.createTokenRequestHeaders(a||t.ccsCredential),c=iu(this.config.authOptions.clientId,t);return Sl(this.executePostToTokenEndpoint.bind(this),Vo,this.logger,this.performanceClient,t.correlationId)(o,i,s,c,t.correlationId,Vo)}async createTokenRequestBody(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(_i,e.correlationId);const r=new Map;if(Us(r,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Is])||this.config.authOptions.clientId),this.includeRedirectUri)zs(r,e.redirectUri);else if(!e.redirectUri)throw Zr(Ar);if(Bs(r,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(r,e.code),Qs(r,this.config.libraryInfo),Ys(r,this.config.telemetry.application),lc(r),this.serverTelemetryManager&&!wa(this.config)&&cc(r,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&Zs(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;$s(r,await Nu(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),ec(r,t.assertionType)}if(tc(r,z),nc(r),e.authenticationScheme===oe.POP){const t=new Iu(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Sl(t.generateCnf.bind(t),Si,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}ac(r,n)}else if(e.authenticationScheme===oe.SSH){if(!e.sshJwk)throw Zr(zr);sc(r,e.sshJwk)}let o;if((!$r.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Vs(r,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=tu(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:"".concat(t.uid).concat(G).concat(t.utid),type:bu}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case bu:try{Ks(r,nu(o.credential))}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case ku:Hs(r,o.credential)}return e.embeddedClientId&&uc(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&oc(r,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Ns]||oc(r,{[Ns]:"1"}),Fs(r,e.correlationId,this.performanceClient),fo(r)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&Gs(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&Js(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&oc(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&rc(t),fo(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function Mu(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(null!==t&&void 0!==t&&t.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},()=>"|");return a.forEach((e,t)=>{var n,r;2===e.length&&null!==(n=e[0])&&void 0!==n&&n.length&&null!==(r=e[1])&&void 0!==r&&r.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})}),s.join(",")}class Lu{constructor(e,t){this.cacheOutcome=ye,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||c.EMPTY_STRING,this.wrapperVer=e.wrapperVer||c.EMPTY_STRING,this.telemetryCacheKey=re.CACHE_KEY+V+e.clientId}generateCurrentRequestHeaderValue(){const e="".concat(this.apiId).concat(re.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();null!==n&&void 0!==n&&n.length&&t.push("broker_error=".concat(n));const r=t.join(re.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(re.VALUE_SEPARATOR);return[re.SCHEMA_VERSION,o,r].join(re.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Lu.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(re.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(re.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?re.OVERFLOW_TRUE:re.OVERFLOW_FALSE].join(re.VALUE_SEPARATOR);return[re.SCHEMA_VERSION,e.cacheHits,n,r,i].join(re.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=re.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Te?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(re.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=Lu.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||c.EMPTY_STRING,i=e.failedRequests[2*t+1]||c.EMPTY_STRING,a=e.errors[t]||c.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+a.length+3,!(r<re.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||c.EMPTY_STRING),e.push(this.regionSource||c.EMPTY_STRING),e.push(this.regionOutcome||c.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return Mu(e)}}class Du{constructor(e,t,n,r,o,i,a,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.platformAuthProvider=s,this.correlationId=c||Pc(),this.logger=r.clone(Ue,Jc,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e,t){if(t)try{this.browserStorage.removeAccount(t,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(n){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch(r){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return mo.getAbsoluteUrl(t,qc())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Lu(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(qo,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=null!==n&&void 0!==n&&n.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(mo.getDomainFromUrl(o),t.environment):o,s=ql.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Sl(xu,Ei,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw Zr(Gr);return c}}async function Fu(e,t,n,r){n.addQueueMeasurement(ni,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a=s(s({},e),{},{correlationId:e.correlationId,authority:o,scopes:i});if(a.authenticationScheme){if(a.authenticationScheme===oe.SSH){if(!e.sshJwk)throw Zr(zr);if(!e.sshKid)throw Zr(qr)}r.verbose('Authentication Scheme set to "'.concat(a.authenticationScheme,'" as configured in Auth request'))}else a.authenticationScheme=oe.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!$r.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await Bc(e.claims)),a}async function ju(e,t,n,r,o){r.addQueueMeasurement(ri,e.correlationId);const i=await Sl(Fu,ni,o,r,e.correlationId)(e,n,r,o);return s(s(s({},e),i),{},{account:t,forceRefresh:e.forceRefresh||!1})}function Bu(e,t){let n;const r=e.httpMethod;if(t===En){if(n=r||g,n!==g)throw Zr(Qr)}else n=r||m;if(e.authorizePostBodyParameters&&n!==g)throw Zr(Yr);return n}class Uu extends Du{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",null===e||void 0===e?void 0:e.correlationId);const t=s({correlationId:this.correlationId||Pc()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=mo.getAbsoluteUrl(e.postLogoutRedirectUri,qc())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=mo.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,qc())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=mo.getAbsoluteUrl(qc(),qc())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(hi,this.correlationId);const t=await Sl(this.getClientConfiguration.bind(this),di,this.logger,this.performanceClient,this.correlationId)(e);return new Ou(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(di,this.correlationId);const a=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Ue,version:Jc,cpu:c.EMPTY_STRING,os:c.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(fi,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Tu.setRequestState(this.browserCrypto,e&&e.state||c.EMPTY_STRING,r),i=await Sl(Fu,ni,this.logger,this.performanceClient,this.correlationId)(s(s({},e),{},{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),a=s(s({},i),{},{redirectUri:n,state:o,nonce:e.nonce||Pc(),responseMode:this.config.auth.OIDCOptions.serverResponseType}),l=s(s({},a),{},{httpMethod:Bu(a,this.config.auth.protocolMode)});if(e.loginHint||e.sid)return l;const u=e.account||this.browserStorage.getActiveAccount(this.correlationId);return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: ".concat(u.homeAccountId),this.correlationId),l.account=u),l}}function zu(e,t,n){const r=ho(e);if(!r)throw uo(e)?(n.error("A ".concat(t," is present in the iframe but it does not contain known properties. It's likely that the ").concat(t," has been replaced by code running on the redirectUri page.")),n.errorPii("The ".concat(t," detected is: ").concat(e)),ks(Ia)):(n.error("The request has returned to the redirectUri but a ".concat(t," is not present. It's likely that the ").concat(t," has been removed or the page has been redirected by code running on the redirectUri page.")),ks(Ta));return r}function qu(e,t,n){if(!e.state)throw ks(Aa);const r=function(e,t){if(!t)return null;try{return Tu.parseRequestState(e,t).libraryState.meta}catch(n){throw Cr(Bn)}}(t,e.state);if(!r)throw ks(Ea);if(r.interactionType!==n)throw ks(Pa)}function Hu(e,t,n,r){var o,i;const a=t.correlationId,s=new Map;Us(s,t.embeddedClientId||(null===(o=t.extraQueryParameters)||void 0===o?void 0:o[Is])||e.clientId);if(Bs(s,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,null===(i=e.authority.options.OIDCOptions)||void 0===i?void 0:i.defaultScopes),zs(s,t.redirectUri),Gs(s,a),function(e,t){e.set("response_mode",t||U)}(s,t.responseMode),nc(s),t.prompt&&(!function(e,t){e.set("prompt",t)}(s,t.prompt),null===r||void 0===r||r.addFields({prompt:t.prompt},a)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(s,t.domainHint),null===r||void 0===r||r.addFields({domainHintFromRequest:!0},a)),t.prompt!==N)if(t.sid&&t.prompt===M)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Ws(s,t.sid),null===r||void 0===r||r.addFields({sidFromRequest:!0},a);else if(t.account){const e=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null}(t.account);let o=function(e){var t;return e.loginHint||(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null}(t.account);if(o&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),o=null),o){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),qs(s,o),null===r||void 0===r||r.addFields({loginHintFromClaim:!0},a);try{Ks(s,nu(t.account.homeAccountId))}catch(c){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===M){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Ws(s,e),null===r||void 0===r||r.addFields({sidFromClaim:!0},a);try{Ks(s,nu(t.account.homeAccountId))}catch(c){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),qs(s,t.loginHint),Hs(s,t.loginHint),null===r||void 0===r||r.addFields({loginHintFromRequest:!0},a);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),qs(s,t.account.username),null===r||void 0===r||r.addFields({loginHintFromUpn:!0},a);try{Ks(s,nu(t.account.homeAccountId))}catch(c){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),qs(s,t.loginHint),Hs(s,t.loginHint),null===r||void 0===r||r.addFields({loginHintFromRequest:!0},a));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&function(e,t){e.set("nonce",t)}(s,t.nonce),t.state&&Js(s,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&Vs(s,t.claims,e.clientCapabilities),t.embeddedClientId&&uc(s,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(Ds)||rc(s),s}function Ku(e,t,n,r){const o=fo(t,n,r);return mo.appendQueryString(e.authorizationEndpoint,o)}function Wu(e,t){if(!e.state||!t)throw e.state?Cr(zn,"Cached State"):Cr(zn,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw Cr(Bn,e.state)}try{r=decodeURIComponent(t)}catch(o){throw Cr(Bn,e.state)}if(n!==r)throw Cr(Un);if(e.error||e.error_description||e.suberror){const t=function(e){var t,n;const r="code=",o=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf(r);return o&&o>=0?null===(n=e.error_uri)||void 0===n?void 0:n.substring(o+r.length):void 0}(e);if($l(e.error,e.error_description,e.suberror))throw new Zl(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Cu(e.error||"",e.error_description,e.suberror,t)}}class Vu{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(yi,t.correlationId);try{n=function(e,t){if(Wu(e,t),!e.code)throw Cr(dr);return e}(e,t.state)}catch(r){throw r instanceof Cu&&r.subError===Ma?ks(Ma):r}return Sl(this.handleCodeResponseFromServer.bind(this),gi,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(gi,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Sl(this.authModule.updateAuthority.bind(this.authModule),ki,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Sl(this.authModule.acquireToken.bind(this.authModule),xi,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:bu}:e.loginHint?{credential:e.loginHint,type:ku}:null}}const Gu="user_switch",Qu={[Gu]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Yu extends Te{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Yu.prototype),this.name="NativeAuthError",this.ext=n}}function Ju(e){return!(!e.ext||!e.ext.status||"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function Xu(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return eu(Wl);case"USER_INTERACTION_REQUIRED":return new Zl(e,t);case"USER_CANCEL":return ks(Ma);case"NO_NETWORK":return ks(Ja);case"UX_NOT_ALLOWED":return eu(Gl)}return new Yu(e,Qu[e]||t,n)}class Zu extends Su{constructor(e,t){super(e,t)}async acquireCachedToken(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement($o,e.correlationId);let n=ye;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!$r.isEmptyObj(e.claims))throw this.setCacheOutcome(ve,e.correlationId),Cr(lr);if(!e.account)throw Cr(tr);const r=e.account.tenantId||function(e){var t;const n=null===(t=new mo(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(n){case T:case A:case I:return;default:return n}}(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,r);if(!i)throw this.setCacheOutcome(we,e.correlationId),Cr(lr);if(a=i.cachedAt,Number(a)>Al()||Pl(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(be,e.correlationId),Cr(lr);var a;i.refreshOn&&Pl(i.refreshOn,0)&&(n=ke);const s=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,o,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Sl(this.generateResultFromCacheRecord.bind(this),ei,this.logger,this.performanceClient,e.correlationId)(c,e),n]}setCacheOutcome(e,t){var n,r;null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(e),null===(r=this.performanceClient)||void 0===r||r.addFields({cacheOutcome:e},t),e!==ye&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}async generateResultFromCacheRecord(e,t){var n;let r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(ei,t.correlationId),e.idToken&&(r=so(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){var o;const e=null===(o=r)||void 0===o?void 0:o.auth_time;if(!e)throw Cr(Hn);co(e,t.maxAge)}return Pu.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}class $u extends Uu{async acquireToken(e){this.performanceClient.addQueueMeasurement(Fo,e.correlationId);const t=this.initializeServerTelemetryManager(wt),n=await Sl(this.getClientConfiguration.bind(this),di,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new Zu(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Sl(r.acquireCachedToken.bind(r),$o,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof bs&&o.errorCode===ts&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t.correlationId,null===t||void 0===t?void 0:t.account)}}const eh=["prompt"],th=["scopes"];class nh extends Du{constructor(e,t,n,r,o,i,a,s,c,l,u,h){super(e,t,n,r,o,i,s,c,h),this.apiId=a,this.accountId=l,this.platformAuthProvider=c,this.nativeStorageManager=u,this.silentCacheClient=new $u(e,this.nativeStorageManager,n,r,o,i,s,c,h);const d=this.platformAuthProvider.getExtensionName();this.skus=Lu.makeExtraSkuString({libraryName:Ue,libraryVersion:Jc,extensionName:d,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=s(s({},e.extraParameters),{},{[Os]:this.skus})}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(Ho,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(Ho,this.correlationId),r=Al(),o=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,a);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(i){if(t===Lt)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),n.end({success:!1,brokerErrorCode:"cache_request_failed"}),i;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const s=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(s,a,r).then(e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),o.clearNativeBrokerErrorCode(),e)).catch(e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError}),e})}catch(i){throw i instanceof Yu&&o.setNativeBrokerErrorCode(i.errorCode),n.end({success:!1}),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:eo.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Cr(or);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!n)throw Cr(or);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o=s(s({},n),{},{idTokenClaims:null===r||void 0===r?void 0:r.idTokenClaims,idToken:null===r||void 0===r?void 0:r.idToken});return s(s({},r),{},{account:o})}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n);try{await this.platformAuthProvider.sendMessage(r)}catch(a){if(a instanceof Yu){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),Ju(a))throw a}}this.browserStorage.setTemporaryCache(ht,JSON.stringify(r),!0);const o={apiId:pt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(i,o)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(null===e||void 0===e||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:r}=n,o=to(n,eh);r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ht));const i=Al();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const t=await this.platformAuthProvider.sendMessage(o),n=await this.handleNativeResponse(t,o,i);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),n}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var r,o;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=so(e.id_token,mc),a=this.createHomeAccountIdentifier(e,i),s=null===(r=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId},this.correlationId))||void 0===r?void 0:r.homeAccountId;if(null!==(o=t.extraParameters)&&void 0!==o&&o.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(a!==s&&e.account.id!==t.accountId)throw Xu(Gu);const c=await this.getDiscoveredAuthority({requestAuthority:t.authority}),l=Ru(this.browserStorage,c,a,mc,this.correlationId,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,t,i,l,c.canonicalAuthority,n);return await this.cacheAccount(l,this.correlationId),await this.cacheNativeTokens(e,t,a,i,e.access_token,u.tenantId,n),u}createHomeAccountIdentifier(e,t){return ou.generateHomeAccountId(e.client_info||c.EMPTY_STRING,bl,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?eo.fromString(t):eo.fromString(e)}async generatePopAccessToken(e,t){if(t.tokenType===oe.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Iu(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Cr(mr);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const a=this.addTelemetryFromNativeResponse(e.properties.MATS),s=this.generateScopes(t.scope,e.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||c.EMPTY_STRING,h=l.TenantId||n.tid||c.EMPTY_STRING,d=ao(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,t),p=t.tokenType===oe.POP?oe.POP:oe.BEARER;return{authority:o,uniqueId:u,tenantId:h,scopes:s.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:f,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:El(i+e.expires_in),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,t){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),t)}cacheNativeTokens(e,t,n,r,o,i,a){const s=Nl(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===oe.POP?c.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e.scope,t.scope),h={idToken:s,accessToken:Ol(n,t.authority,o,t.clientId,r.tid||i,u.printScopes(),l,0,mc,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(h,this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===oe.POP?c.SHR_NONCE_VALIDITY:("string"===typeof t?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=await this.getCanonicalAuthority(e),{scopes:n}=e,r=to(e,th),o=new eo(n||[]);o.appendScopes(y);const i=s(s({},r),{},{accountId:this.accountId,clientId:this.config.auth.clientId,authority:t.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:s(s({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(i.signPopToken&&e.popKid)throw ks(fs);if(this.handleExtraBrokerParams(i),i.extraParameters=i.extraParameters||{},i.extraParameters.telemetry=He,e.authenticationScheme===oe.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new Iu(this.browserCrypto);let r;if(i.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:i.keyId})),i.signPopToken=!1;else{const e=await Sl(n.generateCnf.bind(n),Si,this.logger,this.performanceClient,this.correlationId)(t,this.logger);r=e.reqCnfString,i.keyId=e.kid,i.signPopToken=!0}i.reqCnf=r}return this.addRequestSKUs(i),i}async getCanonicalAuthority(e){const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new mo(t);return n.validateAsUri(),n}getPrompt(e){switch(this.apiId){case gt:case wt:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),M}if(e)switch(e){case M:case O:case R:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace("initializeNativeRequest: prompt = ".concat(e," is not compatible with native flow")),ks(hs)}else this.logger.trace("initializeNativeRequest: prompt was not provided")}handleExtraBrokerParams(e){var t;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Ms)&&e.extraParameters.hasOwnProperty(Ls)&&e.extraParameters.hasOwnProperty(Is);if(!e.embeddedClientId&&!n)return;let r="";const o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Ls],r=e.extraParameters[Is]),e.extraParameters={child_client_id:r,child_redirect_uri:o},null===(t=this.performanceClient)||void 0===t||t.addFields({embeddedClientId:r,embeddedRedirectUri:o},this.correlationId)}}async function rh(e,t,n,r,o){const i=Hu(s(s({},e.auth),{},{authority:t}),n,r,o);if(Qs(i,{sku:Ue,version:Jc,os:"",cpu:""}),e.auth.protocolMode!==In&&Ys(i,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(i),o.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===oe.POP)){const e=new vl(r,o),t=new Iu(e);let a;if(n.popKid)a=e.encodeKid(n.popKid);else{a=(await Sl(t.generateCnf.bind(t),Si,r,o,n.correlationId)(n,r)).reqCnfString}ac(i,a)}return Fs(i,n.correlationId,o),i}async function oh(e,t,n,r,o){if(!n.codeChallenge)throw Zr(Fr);const i=await Sl(rh,mi,r,o,n.correlationId)(e,t,n,r,o);return js(i,D),Xs(i,n.codeChallenge,c.S256_CODE_CHALLENGE_METHOD),oc(i,n.extraQueryParameters||{}),Ku(t,i,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function ih(e,t,n,r,o,i){if(!r.earJwk)throw ks(xa);const a=await rh(t,n,r,o,i);js(a,F),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(a,r.earJwk);const s=new Map;oc(s,r.extraQueryParameters||{});return sh(e,Ku(n,s,t.auth.encodeExtraQueryParams,r.extraQueryParameters),a)}async function ah(e,t,n,r,o,i){const a=await rh(t,n,r,o,i);js(a,D),Xs(a,r.codeChallenge,r.codeChallengeMethod||c.S256_CODE_CHALLENGE_METHOD),function(e,t){Object.entries(t).forEach(t=>{let[n,r]=t;r&&e.set(n,r)})}(a,r.authorizePostBodyParameters||{});const s=new Map;oc(s,r.extraQueryParameters||{});return sh(e,Ku(n,s,t.auth.encodeExtraQueryParams,r.extraQueryParameters),a)}function sh(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach((t,n)=>{const o=e.createElement("input");o.hidden=!0,o.name=n,o.value=t,r.appendChild(o)}),e.body.appendChild(r),r}async function ch(e,t,n,r,o,i,a,c,l,u){if(c.verbose("Account id found, calling WAM for token"),!u)throw ks(ls);const h=new vl(c,l),d=new nh(r,o,h,c,a,r.system.navigationClient,n,l,u,t,i,e.correlationId),{userRequestState:f}=Tu.parseRequestState(h,e.state);return Sl(d.acquireToken.bind(d),Ho,c,l,e.correlationId)(s(s({},e),{},{state:f,prompt:void 0}))}async function lh(e,t,n,r,o,i,a,c,l,u,h,d){if(_u.removeThrottle(a,o.auth.clientId,e),t.accountId)return Sl(ch,wi,u,h,e.correlationId)(e,t.accountId,r,o,a,c,l,u,h,d);const f=s(s({},e),{},{code:t.code||"",codeVerifier:n}),p=new Vu(i,a,f,u,h);return await Sl(p.handleCodeResponse.bind(p),yi,u,h,e.correlationId)(t,e)}async function uh(e,t,n,r,o,i,a,s,c,l,u){if(_u.removeThrottle(i,r.auth.clientId,e),Wu(t,e.state),!t.ear_jwe)throw ks(Ca);if(!e.earJwk)throw ks(xa);const h=JSON.parse(await Sl(Oc,sa,c,l,e.correlationId)(e.earJwk,t.ear_jwe));if(h.accountId)return Sl(ch,wi,c,l,e.correlationId)(e,h.accountId,n,r,i,a,s,c,l,u);const d=new Pu(r.auth.clientId,i,new vl(c,l),c,null,null,l);d.validateTokenResponse(h);const f={code:"",state:e.state,nonce:e.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await Sl(d.handleServerTokenResponse.bind(d),Ai,c,l,e.correlationId)(h,o,Al(),e,f,void 0,void 0,void 0,void 0)}async function hh(e,t,n){e.addQueueMeasurement(Yi,n);const r=_l(dh,Ji,t,e,n)(e,t,n);return{verifier:r,challenge:await Sl(fh,Xi,t,e,n)(r,e,t,n)}}function dh(e,t,n){try{const r=new Uint8Array(32);_l(Ic,$i,t,e,n)(r);return dc(r)}catch(r){throw ks(ka)}}async function fh(e,t,n,r){t.addQueueMeasurement(Xi,r);try{const o=await Sl(Ac,Zi,n,t,r)(e,t,r);return dc(new Uint8Array(o))}catch(o){throw ks(ka)}}class ph{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(qi),this.platformAuthType=Qe}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const t={method:Xe,request:e},n={channel:ze,extensionId:this.extensionId,responseId:Pc(),body:t};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+" - Sending request to browser extension: ".concat(JSON.stringify(n))),this.messageChannel.port1.postMessage(n);const r=await new Promise((e,t)=>{this.resolvers.set(n.responseId,{resolve:e,reject:t})});return this.validatePlatformBrokerResponse(r)}static async createProvider(e,t,n){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const r=new ph(e,t,n,qe);return await r.sendHandshakeRequest(),r}catch(r){const o=new ph(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:ze,extensionId:this.extensionId,responseId:Pc(),body:{method:Ye}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(ks(ss)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===ze&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Ye){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(this.platformAuthType+".onWindowMessage - resolver can't be found for request ".concat(t.responseId));this.logger.verbose(t.extensionId?"Extension with id: ".concat(t.extensionId," not installed"):"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(ks(cs))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Ze){if(!n)return;const e=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+" - Received response from browser extension: ".concat(JSON.stringify(e))),"Success"!==e.status)n.reject(Xu(e.code,e.description,e.ext));else{if(!e.result)throw Ae(Ce,"Event does not contain result.");e.result.code&&e.result.description?n.reject(Xu(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Je){if(!r)return void this.logger.trace(this.platformAuthType+".onChannelMessage - resolver can't be found for request ".concat(t.responseId));clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+" - Received HandshakeResponse from extension: ".concat(this.extensionId)),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: ".concat(o)),this.logger.errorPii("Unable to parse ".concat(e)),n?n.reject(o):r&&r.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Ae(Ce,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===qe?"chrome":null!==(e=this.getExtensionId())&&void 0!==e&&e.length?"unknown":void 0}}const mh=["accountId","clientId","authority","scope","redirectUri","correlationId","state","storeInCache","embeddedClientId","extraParameters"];class gh{constructor(e,t,n){this.logger=e,this.performanceClient=t,this.correlationId=n,this.platformAuthType=Ge}static async createProvider(e,t,n){var r;if(e.trace("PlatformAuthDOMHandler: createProvider called"),null!==(r=window.navigator)&&void 0!==r&&r.platformAuthentication){const r=await window.navigator.platformAuthentication.getSupportedContracts(Ke);if(null!==r&&void 0!==r&&r.includes(Ve))return e.trace("Platform auth api available in DOM"),new gh(e,t,n)}}getExtensionId(){return Ke}getExtensionVersion(){return""}getExtensionName(){return We}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const t=this.initializePlatformDOMRequest(e),n=await window.navigator.platformAuthentication.executeGetToken(t);return this.validatePlatformBrokerResponse(n)}catch(t){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),t}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:t,clientId:n,authority:r,scope:o,redirectUri:i,correlationId:a,state:c,storeInCache:l,embeddedClientId:u,extraParameters:h}=e,d=to(e,mh),f=this.getDOMExtraParams(d);return{accountId:t,brokerId:this.getExtensionId(),authority:r,clientId:n,correlationId:a||this.correlationId,extraParameters:s(s({},h),f),isSecurityTokenService:!1,redirectUri:i,scope:o,state:c,storeInCache:l,embeddedClientId:u}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const t=e;if(!1===t.isSuccess&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Xu(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw Ae(Ce,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){var t;this.logger.trace(this.platformAuthType+" - convertToNativeResponse called");return{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:null!==(t=e.extendedLifetimeToken)&&void 0!==t&&t,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return s({},Object.entries(e).reduce((e,t)=>{let[n,r]=t;return e[n]=String(r),e},{}))}}async function yh(e,t,n,r){e.trace("getPlatformAuthProvider called",n);const o=function(){let e;try{var t;return e=window[et],"true"===(null===(t=e)||void 0===t?void 0:t.getItem(tl))}catch(n){return!1}}();let i;e.trace("Has client allowed platform auth via DOM API: "+o);try{o&&(i=await gh.createProvider(e,t,n)),i||(e.trace("Platform auth via DOM API not available, checking for extension"),i=await ph.createProvider(e,r||2e3,t))}catch(a){e.trace("Platform auth not available",a)}return i}function vh(e,t,n,r){if(t.trace("isPlatformAuthAllowed called"),!e.system.allowPlatformBroker)return t.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case oe.BEARER:case oe.POP:return t.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}class wh extends Uu{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,a,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s,this.eventHandler=o}acquireToken(e,t){let n;try{var r;if(n={popupName:this.generatePopupName(e.scopes||y,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:null!==(r=e.popupWindowParent)&&void 0!==r?r:window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t);{const r=s(s({},e),{},{httpMethod:Bu(e,this.config.auth.protocolMode)});return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(r,n,t)}}catch(o){return Promise.reject(o)}}logout(e){try{var t;this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(null===e||void 0===e?void 0:e.popupWindowAttributes)||{},popupWindowParent:null!==(t=null===e||void 0===e?void 0:e.popupWindowParent)&&void 0!==t?t:window},o=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,o,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,o,i))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await Sl(this.initializeAuthorizationRequest.bind(this),fi,this.logger,this.performanceClient,this.correlationId)(e,xt.Popup);t.popup&&Qc(r.authority);const o=vh(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return r.platformBroker=o,this.config.auth.protocolMode===En?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,o=this.initializeServerTelemetryManager(mt),i=n||await Sl(hh,Yi,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a=s(s({},e),{},{codeChallenge:i.challenge});try{const n=await Sl(this.createAuthCodeClient.bind(this),hi,this.logger,this.performanceClient,r)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account});if(a.httpMethod===g)return await this.executeCodeFlowWithPost(a,t,n,i.verifier);{const o=await Sl(oh,pi,this.logger,this.performanceClient,r)(this.config,n.authority,a,this.logger,this.performanceClient),s=this.initiateAuthRequest(o,t);this.eventHandler.emitEvent(dn,xt.Popup,{popupWindow:s},null);const c=await this.monitorPopupForHash(s,t.popupWindowParent),l=_l(zu,Ii,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Sl(lh,bi,this.logger,this.performanceClient,r)(e,l,i.verifier,mt,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(l){var c;throw null===(c=t.popup)||void 0===c||c.close(),l instanceof Te&&(l.setCorrelationId(this.correlationId),o.cacheFailedRequest(l)),l}}async executeEarFlow(e,t){const n=e.correlationId,r=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await Sl(Nc,aa,this.logger,this.performanceClient,n)(),i=s(s({},e),{},{earJwk:o}),a=t.popup||this.openPopup("about:blank",t);(await ih(a.document,this.config,r,i,this.logger,this.performanceClient)).submit();const c=await Sl(this.monitorPopupForHash.bind(this),ci,this.logger,this.performanceClient,n)(a,t.popupWindowParent),l=_l(zu,Ii,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Sl(uh,vi,this.logger,this.performanceClient,n)(i,l,mt,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,t,n,r){const o=e.correlationId,i=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,o)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=t.popup||this.openPopup("about:blank",t);(await ah(a.document,this.config,i,e,this.logger,this.performanceClient)).submit();const s=await Sl(this.monitorPopupForHash.bind(this),ci,this.logger,this.performanceClient,o)(a,t.popupWindowParent),c=_l(zu,Ii,this.logger,this.performanceClient,this.correlationId)(s,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Sl(lh,bi,this.logger,this.performanceClient,o)(e,c,r,mt,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(fn,xt.Popup,e);const o=this.initializeServerTelemetryManager(kt);try{await this.clearCacheOnLogout(this.correlationId,e.account);const s=await Sl(this.createAuthCodeClient.bind(this),hi,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{s.authority.endSessionEndpoint}catch(c){var i;if(null!==(i=e.account)&&void 0!==i&&i.homeAccountId&&e.postLogoutRedirectUri&&s.authority.protocolMode===In){var a;if(this.eventHandler.emitEvent(pn,xt.Popup,e),r){const e={apiId:kt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=mo.getAbsoluteUrl(r,qc());await this.navigationClient.navigateInternal(t,e)}return void(null===(a=t.popup)||void 0===a||a.close())}}const l=s.getLogoutUri(e);this.eventHandler.emitEvent(pn,xt.Popup,e);const u=this.openPopup(l,t);if(this.eventHandler.emitEvent(dn,xt.Popup,{popupWindow:u},null),await this.monitorPopupForHash(u,t.popupWindowParent).catch(()=>{}),r){const e={apiId:kt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=mo.getAbsoluteUrl(r,qc());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: ".concat(t)),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(l){var s;throw null===(s=t.popup)||void 0===s||s.close(),l instanceof Te&&(l.setCorrelationId(this.correlationId),o.cacheFailedRequest(l)),this.eventHandler.emitEvent(mn,xt.Popup,null,l),this.eventHandler.emitEvent(gn,xt.Popup),l}this.eventHandler.emitEvent(gn,xt.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii("Navigate to: ".concat(e)),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),ks(Sa)}monitorPopupForHash(e,t){return new Promise((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval(()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(ks(Ma));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===j?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: ".concat(e)),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii("Opening popup window to: ".concat(e)),n=this.openSizedPopup(e,t)),!n)throw ks(Oa);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),ks(Na)}}openSizedPopup(e,t){var n,r,o,i;let{popupName:a,popupWindowAttributes:s,popupWindowParent:c}=t;const l=c.screenLeft?c.screenLeft:c.screenX,u=c.screenTop?c.screenTop:c.screenY,h=c.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let f=null===(n=s.popupSize)||void 0===n?void 0:n.width,p=null===(r=s.popupSize)||void 0===r?void 0:r.height,m=null===(o=s.popupPosition)||void 0===o?void 0:o.top,g=null===(i=s.popupPosition)||void 0===i?void 0:i.left;return(!f||f<0||f>h)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=De),(!p||p<0||p>d)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=Fe),(!m||m<0||m>d)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),m=Math.max(0,d/2-Fe/2+u)),(!g||g<0||g>h)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,h/2-De/2+l)),c.open(e,a,"width=".concat(f,", height=").concat(p,", top=").concat(m,", left=").concat(g,", scrollbars=yes"))}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return"".concat(je,".").concat(this.config.auth.clientId,".").concat(e.join("-"),".").concat(t,".").concat(this.correlationId)}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return"".concat(je,".").concat(this.config.auth.clientId,".").concat(t,".").concat(this.correlationId)}}class bh extends Uu{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,a,c,l),this.nativeStorage=s}async acquireToken(e){const t=await Sl(this.initializeAuthorizationRequest.bind(this),fi,this.logger,this.performanceClient,this.correlationId)(e,xt.Redirect);t.platformBroker=vh(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(yn,xt.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii("Redirect start page: ".concat(r)),this.browserStorage.setTemporaryCache(at,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===En?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(o){throw o instanceof Te&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),o}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(pt),o=await Sl(hh,Yi,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i=s(s({},e),{},{codeChallenge:o.challenge});this.browserStorage.cacheAuthorizeRequest(i,o.verifier);try{if(i.httpMethod===g)return await this.executeCodeFlowWithPost(i);{const n=await Sl(this.createAuthCodeClient.bind(this),hi,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),o=await Sl(oh,pi,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,i,this.logger,this.performanceClient);return await this.initiateAuthRequest(o,t)}}catch(a){throw a instanceof Te&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),a}}async executeEarFlow(e){const t=e.correlationId,n=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Sl(Nc,aa,this.logger,this.performanceClient,t)(),o=s(s({},e),{},{earJwk:r});this.browserStorage.cacheAuthorizeRequest(o);return(await ih(document,this.config,n,o,this.logger,this.performanceClient)).submit(),new Promise((e,t)=>{setTimeout(()=>{t(ks(ys,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const t=e.correlationId,n=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});this.browserStorage.cacheAuthorizeRequest(e);return(await ah(document,this.config,n,e,this.logger,this.performanceClient)).submit(),new Promise((e,t)=>{setTimeout(()=>{t(ks(ys,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=this.initializeServerTelemetryManager(yt);try{const[i,a]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return null===t||void 0===t?void 0:t.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(at,!0)||c.EMPTY_STRING,l=po(s);if(l===po(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(s);return await this.handleResponse(i,t,n,o)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,t,n,o);if(!zc()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(st,a,!0);const e={apiId:yt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(s&&"null"!==s)this.logger.verbose("Navigating to loginRequestUrl: ".concat(s)),r=await this.navigationClient.navigateInternal(s,e);else{const t=function(){const e=new mo(window.location.href).getUrlComponents();return"".concat(e.Protocol,"//").concat(e.HostNameAndPort,"/")}();this.browserStorage.setTemporaryCache(at,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(i,t,n,o)}return null}catch(i){throw i instanceof Te&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===j?window.location.search:window.location.hash);let n=ho(t);if(n){try{qu(n,this.browserCrypto,xt.Redirect)}catch(o){return o instanceof Te&&this.logger.error("Interaction type validation failed due to ".concat(o.errorCode,": ").concat(o.errorMessage)),[null,""]}return Uc(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const r=this.browserStorage.getTemporaryCache(st,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(st)),r&&(n=ho(r),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,r]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw ks(Aa);if(e.ear_jwe){const n=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return Sl(uh,vi,this.logger,this.performanceClient,t.correlationId)(t,e,pt,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const o=await Sl(this.createAuthCodeClient.bind(this),hi,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return Sl(lh,bi,this.logger,this.performanceClient,t.correlationId)(t,e,n,pt,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: ".concat(e));const n={apiId:pt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ks(Sa)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(bt);try{this.eventHandler.emitEvent(fn,xt.Redirect,e),await this.clearCacheOnLogout(this.correlationId,t.account);const i={apiId:bt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await Sl(this.createAuthCodeClient.bind(this),hi,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:null===e||void 0===e?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===In)try{a.authority.endSessionEndpoint}catch(o){var r;if(null!==(r=t.account)&&void 0!==r&&r.homeAccountId)return void this.eventHandler.emitEvent(pn,xt.Redirect,t)}const s=a.getLogoutUri(t);if(this.eventHandler.emitEvent(pn,xt.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,it),void await this.navigationClient.navigateExternal(s,i);if(!1!==e.onRedirectNavigate(s))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,it),void await this.navigationClient.navigateExternal(s,i);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(i){throw i instanceof Te&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),this.eventHandler.emitEvent(mn,xt.Redirect,null,i),this.eventHandler.emitEvent(gn,xt.Redirect),i}this.eventHandler.emitEvent(gn,xt.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return mo.getAbsoluteUrl(t,qc())}}async function kh(e,t,n,r,o){if(t.addQueueMeasurement(si,r),!e)throw n.info("Navigate url is empty"),ks(Sa);return o?Sl(Sh,li,n,t,r)(e,o,t,r):_l(Th,ui,n,t,r)(e)}async function xh(e,t,n,r,o){const i=Ah();if(!i.contentDocument)throw"No document associated with iframe!";return(await ah(i.contentDocument,e,t,n,r,o)).submit(),i}async function Ch(e,t,n,r,o){const i=Ah();if(!i.contentDocument)throw"No document associated with iframe!";return(await ih(i.contentDocument,e,t,n,r,o)).submit(),i}async function _h(e,t,n,r,o,i,a){return r.addQueueMeasurement(ci,i),new Promise((r,i)=>{t<Yc&&o.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower (".concat(t,"ms) than the default (").concat(Yc,"ms). This may result in timeouts."));const s=window.setTimeout(()=>{window.clearInterval(c),i(ks(Da))},t),c=window.setInterval(()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===j?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(c),r(o)},n)}).finally(()=>{_l(Ih,Hi,o,r,i)(e)})}function Sh(e,t,n,r){return n.addQueueMeasurement(li,r),new Promise((n,r)=>{const o=Ah();window.setTimeout(()=>{o?(o.src=e,n(o)):r("Unable to load iframe")},t)})}function Th(e){const t=Ah();return t.src=e,t}function Ah(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Ih(e){document.body===e.parentNode&&document.body.removeChild(e)}class Eh extends Uu{constructor(e,t,n,r,o,i,a,s,c,l,u){super(e,t,n,r,o,i,s,l,u),this.apiId=a,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(jo,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t=s({},e);t.prompt?t.prompt!==M&&t.prompt!==L&&(this.logger.warning("SilentIframeClient. Replacing invalid prompt ".concat(t.prompt," with ").concat(M)),t.prompt=M):t.prompt=M;const n=await Sl(this.initializeAuthorizationRequest.bind(this),fi,this.logger,this.performanceClient,e.correlationId)(t,xt.Silent);return n.platformBroker=vh(this.config,this.logger,this.platformAuthProvider,n.authenticationScheme),Qc(n.authority),this.config.auth.protocolMode===En?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await Sl(this.createAuthCodeClient.bind(this),hi,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await Sl(this.silentTokenHelper.bind(this),ai,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(r){if(r instanceof Te&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),!t||!(r instanceof Te)||r.errorCode!==Le)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await Sl(this.silentTokenHelper.bind(this),ai,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await Sl(this.getDiscoveredAuthority.bind(this),qo,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Sl(Nc,aa,this.logger,this.performanceClient,t)(),o=s(s({},e),{},{earJwk:r}),i=await Sl(Ch,si,this.logger,this.performanceClient,t)(this.config,n,o,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,c=await Sl(_h,ci,this.logger,this.performanceClient,t)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,a),l=_l(zu,Ii,this.logger,this.performanceClient,t)(c,a,this.logger);return Sl(uh,vi,this.logger,this.performanceClient,t)(o,l,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ks(za))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(ai,n);const r=await Sl(hh,Yi,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o=s(s({},t),{},{codeChallenge:r.challenge});let i;if(t.httpMethod===g)i=await Sl(xh,si,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient);else{const t=await Sl(oh,pi,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient);i=await Sl(kh,si,this.logger,this.performanceClient,n)(t,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait)}const a=this.config.auth.OIDCOptions.serverResponseType,c=await Sl(_h,ci,this.logger,this.performanceClient,n)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),l=_l(zu,Ii,this.logger,this.performanceClient,n)(c,a,this.logger);return Sl(lh,bi,this.logger,this.performanceClient,n)(t,l,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class Ph extends Su{constructor(e,t){super(e,t)}async acquireToken(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Qo,e.correlationId);const r=Al(),o=await Sl(this.executeTokenRequest.bind(this),Go,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=null===(n=o.headers)||void 0===n?void 0:n[C],a=new Pu(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(o.body),Sl(a.handleServerTokenResponse.bind(a),Ai,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var t;if(!e)throw Zr(Mr);if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Jo,e.correlationId),!e.account)throw Cr(tr);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Sl(this.acquireTokenWithCachedRefreshToken.bind(this),Yo,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){const t=n instanceof Zl&&n.errorCode===Kl,r=n instanceof Cu&&n.errorCode===le&&n.subError===ue;if(t||r)return Sl(this.acquireTokenWithCachedRefreshToken.bind(this),Yo,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return Sl(this.acquireTokenWithCachedRefreshToken.bind(this),Yo,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Yo,e.correlationId);const r=_l(this.cacheManager.getRefreshToken.bind(this.cacheManager),Wi,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!r)throw eu(Kl);var o;if(r.expiresOn&&Pl(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw null===(o=this.performanceClient)||void 0===o||o.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),eu(Vl);const i=s(s({},e),{},{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||oe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:bu}});try{return await Sl(this.acquireToken.bind(this),Qo,this.logger,this.performanceClient,e.correlationId)(i)}catch(c){var a;if(c instanceof Zl)if(null===(a=this.performanceClient)||void 0===a||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===Ql){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const t=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(t,e.correlationId)}throw c}}async executeTokenRequest(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Go,e.correlationId);const r=this.createTokenQueryParameters(e),o=mo.appendQueryString(t.tokenEndpoint,r),i=await Sl(this.createTokenRequestBody.bind(this),Xo,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),s=iu(this.config.authOptions.clientId,e);return Sl(this.executePostToTokenEndpoint.bind(this),Wo,this.logger,this.performanceClient,e.correlationId)(o,i,a,s,e.correlationId,Wo)}async createTokenRequestBody(e){var t,n,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Xo,e.correlationId);const o=new Map;if(Us(o,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Is])||this.config.authOptions.clientId),e.redirectUri&&zs(o,e.redirectUri),Bs(o,e.scopes,!0,null===(r=this.config.authOptions.authority.options.OIDCOptions)||void 0===r?void 0:r.defaultScopes),tc(o,q),nc(o),Qs(o,this.config.libraryInfo),Ys(o,this.config.telemetry.application),lc(o),this.serverTelemetryManager&&!wa(this.config)&&cc(o,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(o,e.refreshToken),this.config.clientCredentials.clientSecret&&Zs(o,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;$s(o,await Nu(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),ec(o,t.assertionType)}if(e.authenticationScheme===oe.POP){const t=new Iu(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await Sl(t.generateCnf.bind(t),Si,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}ac(o,n)}else if(e.authenticationScheme===oe.SSH){if(!e.sshJwk)throw Zr(zr);sc(o,e.sshJwk)}if((!$r.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Vs(o,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case bu:try{Ks(o,nu(e.ccsCredential.credential))}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case ku:Hs(o,e.ccsCredential.credential)}return e.embeddedClientId&&uc(o,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&oc(o,e.tokenBodyParameters),Fs(o,e.correlationId,this.performanceClient),fo(o)}}class Rh extends Uu{async acquireToken(e){this.performanceClient.addQueueMeasurement(Uo,e.correlationId);const t=await Sl(Fu,ni,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n=s(s({},e),t);e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(wt),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Sl(o.acquireTokenByRefreshToken.bind(o),Jo,this.logger,this.performanceClient,e.correlationId)(n).catch(e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e})}logout(){return Promise.reject(ks(za))}async createRefreshTokenClient(e){const t=await Sl(this.getClientConfiguration.bind(this),di,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Ph(t,this.performanceClient)}}class Nh{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw ks(Qa);const r=e.correlationId||Pc(),o=t.id_token?so(t.id_token,mc):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new ql(ql.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||Pc()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,a),c=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),l=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:c,accessToken:l,refreshToken:u},o,a)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=ou.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ks(es);const i=ou.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),a=null===r||void 0===r?void 0:r.tid,s=Ru(this.storage,o,i,mc,n,r,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=Nl(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,t,n,r,o,i,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?eo.fromString(t.scope):new eo(e.scopes),c=i.expiresOn||t.expires_in+Al(),l=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Al(),u=Ol(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),c,l,mc);return await this.storage.setAccessTokenCredential(u,a),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Ml(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){var o,i,a;let s,c="",l=[],u=null;null!==t&&void 0!==t&&t.accessToken&&(c=t.accessToken.secret,l=eo.fromString(t.accessToken.target).asArray(),u=El(t.accessToken.expiresOn),s=El(t.accessToken.extendedExpiresOn));const h=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:l,account:h.getAccountInfo(),idToken:(null===(o=t.idToken)||void 0===o?void 0:o.secret)||"",idTokenClaims:n||{},accessToken:c,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:s,familyId:(null===(i=t.refreshToken)||void 0===i?void 0:i.familyId)||"",tokenType:(null===t||void 0===t||null===(a=t.accessToken)||void 0===a?void 0:a.tokenType)||"",state:e.state||"",cloudGraphHostName:h.cloudGraphHostName||"",msGraphHost:h.msGraphHost||"",fromNativeBroker:!1}}}class Oh extends Ou{constructor(e){super(e),this.includeRedirectUri=!1}}class Mh extends Uu{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,s,c,l),this.apiId=a}async acquireToken(e){if(!e.code)throw ks(ns);const t=await Sl(this.initializeAuthorizationRequest.bind(this),fi,this.logger,this.performanceClient,e.correlationId)(e,xt.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r=s(s({},t),{},{code:e.code}),o=await Sl(this.getClientConfiguration.bind(this),di,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Oh(o);this.logger.verbose("Auth code client created");const a=new Vu(i,this.browserStorage,r,this.logger,this.performanceClient);return await Sl(a.handleCodeResponseFromServer.bind(a),gi,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Te&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(ks(za))}}function Lh(e){const t=null===e||void 0===e?void 0:e.idTokenClaims;return null!==t&&void 0!==t&&t.tfp||null!==t&&void 0!==t&&t.acr?"B2C":null!==t&&void 0!==t&&t.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===(null===t||void 0===t?void 0:t.tid)?"MSA":"AAD":void 0}function Dh(e,t){try{Vc(e)}catch(n){throw t.end({success:!1},n),n}}class Fh{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new vl(this.logger,this.performanceClient):_r,this.eventHandler=new wu(this.logger),this.browserStorage=this.isBrowserEnvironment?new yu(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw Zr(jr)}return{canonicalAuthority:e.authority?Hl(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new yu(t,{cacheLocation:tt,cacheRetentionDays:5,temporaryCacheLocation:tt,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},_r,n,r,o));const i={cacheLocation:tt,cacheRetentionDays:5,temporaryCacheLocation:tt,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new yu(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Nh(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Fh(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(Vt);const n=(null===e||void 0===e?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(oi,n);if(this.eventHandler.emitEvent(Wt),!t)try{this.logMultipleInstances(o)}catch(i){}if(await Sl(this.browserStorage.initialize.bind(this.browserStorage),ii,this.logger,this.performanceClient,n)(n),r)try{this.platformAuthProvider=await yh(this.logger,this.performanceClient,n,this.config.system.nativeBrokerHandshakeTimeout)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),_l(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Ki,this.logger,this.performanceClient,n)(n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(Vt),o.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Wc(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var t;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if((null===(t=this.browserStorage.getInteractionInProgress())||void 0===t?void 0:t.type)===it)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),o=r&&this.platformAuthProvider&&!e;let i,a;this.eventHandler.emitEvent(un,xt.Redirect);try{if(o&&this.platformAuthProvider){i=this.performanceClient.startMeasurement(Mo,(null===r||void 0===r?void 0:r.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),i.add({isPlatformBrokerRequest:!0});const e=new nh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yt,this.performanceClient,this.platformAuthProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=Sl(e.handleRedirectPromise.bind(e),zi,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;i=this.performanceClient.startMeasurement(Mo,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const o=this.createRedirectClient(r);a=Sl(o.handleRedirectPromise.bind(o),Ui,this.logger,this.performanceClient,i.event.correlationId)(e,t,n,i)}}catch(s){throw this.browserStorage.resetRequestCache(),s}return a.then(e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Xt,xt.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(en,xt.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:Lh(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(hn,xt.Redirect),e}).catch(e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(tn,xt.Redirect,null,t):this.eventHandler.emitEvent(Zt,xt.Redirect,null,t),this.eventHandler.emitEvent(hn,xt.Redirect),i.end({success:!1},t),e})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(Oo,t);n.add({accountType:Lh(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return n.add({navigateCallbackResult:!1!==t}),n.event=n.end({success:!0})||n.event,t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return n.add({navigateCallbackResult:!1!==r}),n.event=n.end({success:!0})||n.event,r}}const o=this.getAllAccounts().length>0;try{let r;if(Gc(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ot),o?this.eventHandler.emitEvent($t,xt.Redirect,e):this.eventHandler.emitEvent(Jt,xt.Redirect,e),this.platformAuthProvider&&this.canUsePlatformBroker(e)){r=new nh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pt,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch(r=>{if(n.add({brokerErrorName:r.name,brokerErrorCode:r.errorCode}),r instanceof Yu&&Ju(r)){this.platformAuthProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(r instanceof Zl){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw r})}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(i){throw this.browserStorage.resetRequestCache(),2===n.event.status?this.performanceClient.startMeasurement(Mo,t).end({success:!1},i):n.end({success:!1},i),o?this.eventHandler.emitEvent(tn,xt.Redirect,null,i):this.eventHandler.emitEvent(Zt,xt.Redirect,null,i),i}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(No,t);n.add({scenarioId:e.scenarioId,accountType:Lh(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Dh(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,ot)}catch(a){return Promise.reject(a)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent($t,xt.Popup,e):this.eventHandler.emitEvent(Jt,xt.Popup,e);const i=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))n.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative(s(s({},e),{},{correlationId:t}),mt).then(e=>(n.end({success:!0,accountType:Lh(e.account)}),e)).catch(r=>{if(n.add({brokerErrorName:r.name,brokerErrorCode:r.errorCode}),r instanceof Yu&&Ju(r)){this.platformAuthProvider=void 0;return this.createPopupClient(t).acquireToken(e,i)}if(r instanceof Zl){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,i)}throw r});else{o=this.createPopupClient(t).acquireToken(e,i)}return o.then(e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Xt,xt.Popup,e):this.eventHandler.emitEvent(en,xt.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Lh(e.account)}),e)).catch(e=>(r.length>0?this.eventHandler.emitEvent(tn,xt.Popup,null,e):this.eventHandler.emitEvent(Zt,xt.Popup,null,e),n.end({success:!1},e),Promise.reject(e))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var t,n;const r=this.getRequestCorrelationId(e),o=s(s({},e),{},{prompt:e.prompt,correlationId:r});let i;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(zo,r),null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({scenarioId:e.scenarioId,accountType:Lh(e.account)}),Dh(this.initialized,this.ssoSilentMeasurement),null===(n=this.ssoSilentMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(rn,xt.Silent,o),this.canUsePlatformBroker(o)){var a;null===(a=this.ssoSilentMeasurement)||void 0===a||a.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative(o,gt).catch(e=>{var t;if(null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({brokerErrorName:e.name,brokerErrorCode:e.errorCode}),e instanceof Yu&&Ju(e)){this.platformAuthProvider=void 0;return this.createSilentIframeClient(o.correlationId).acquireToken(o)}throw e})}else{i=this.createSilentIframeClient(o.correlationId).acquireToken(o)}return i.then(e=>{var t;return this.eventHandler.emitEvent(on,xt.Silent,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Lh(e.account)}),e}).catch(e=>{var t;throw this.eventHandler.emitEvent(an,xt.Silent,null,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!1},e),e}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Io,t);Dh(this.initialized,n),this.eventHandler.emitEvent(sn,xt.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ks(os);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(s(s({},e),{},{correlationId:t})).then(e=>(this.eventHandler.emitEvent(cn,xt.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Lh(e.account)}),e)).catch(e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(ln,xt.Silent,null,e),n.end({success:!1},e),e}),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){n.add({isPlatformBrokerRequest:!0});const r=await this.acquireTokenNative(s(s({},e),{},{correlationId:t}),vt,e.nativeAccountId).catch(e=>{throw e instanceof Yu&&Ju(e)&&(this.platformAuthProvider=void 0),n.add({brokerErrorName:e.name,brokerErrorCode:e.errorCode}),e});return n.end({accountType:Lh(r.account),success:!0}),r}throw ks(as)}throw ks(rs)}catch(r){throw this.eventHandler.emitEvent(ln,xt.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var t;this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Bi,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const n=this.createSilentAuthCodeClient(e.correlationId);return await n.acquireToken(e).then(e=>{var t;return null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!0,fromCache:e.fromCache}),e}).catch(e=>{var t;throw null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!1},e),e}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Zo,e.correlationId),t){case Mt:case Lt:case Dt:const t=this.createSilentCacheClient(e.correlationId);return Sl(t.acquireToken.bind(t),Fo,this.logger,this.performanceClient,e.correlationId)(e);default:throw Cr(lr)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Eo,e.correlationId),t){case Mt:case Dt:case Ft:case jt:const t=this.createSilentRefreshClient(e.correlationId);return Sl(t.acquireToken.bind(t),Uo,this.logger,this.performanceClient,e.correlationId)(e);default:throw Cr(lr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(ti,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Sl(t.acquireToken.bind(t),jo,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(s({correlationId:t},e))}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);Gc(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,it);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);Vc(this.initialized),this.browserStorage.setInteractionInProgress(!0,it);return this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){const t=this.getRequestCorrelationId();return function(e,t,n,r,o){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(o||{},r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,t,e)}getAccount(e){const t=this.getRequestCorrelationId();return function(e,t,n,r){const o=n.getAccountInfoFilteredBy(e,r);return o?(t.verbose("getAccount: Account matching provided filter found, returning"),o):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByUsername(e){const t=this.getRequestCorrelationId();return function(e,t,n,r){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const o=n.getAccountInfoFilteredBy({username:e},r);return o?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: ".concat(e)),o):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByHomeId(e){const t=this.getRequestCorrelationId();return function(e,t,n,r){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const o=n.getAccountInfoFilteredBy({homeAccountId:e},r);return o?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ".concat(e)),o):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}getAccountByLocalId(e){const t=this.getRequestCorrelationId();return function(e,t,n,r){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const o=n.getAccountInfoFilteredBy({localAccountId:e},r);return o?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: ".concat(e)),o):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage,t)}setActiveAccount(e){const t=this.getRequestCorrelationId();!function(e,t,n){t.setActiveAccount(e,n)}(e,this.browserStorage,t)}getActiveAccount(){const e=this.getRequestCorrelationId();return function(e,t){return e.getActiveAccount(t)}(this.browserStorage,e)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=ou.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ks(ls);return new nh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.platformAuthProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!vh(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case M:case O:case R:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace("canUsePlatformBroker: prompt = ".concat(e.prompt," is not compatible with platform broker flow, returning false")),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new wh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new bh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new Eh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,gt,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new $u(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new Rh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new Mh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,vt,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Kc(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===$e?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===$e?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return null!==e&&void 0!==e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Pc():c.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(s({correlationId:t},e||Pt))}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(s({correlationId:t},e||Pt))}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Po,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Dh(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw ks(qa);return n.add({accountType:Lh(r)}),this.acquireTokenSilentDeduped(e,r,t).then(r=>(n.end({success:!0,fromCache:r.fromCache,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),s(s({},r),{},{state:e.state,correlationId:t}))).catch(e=>{throw e instanceof Te&&e.setCorrelationId(t),n.end({success:!1},e),e})}async acquireTokenSilentDeduped(e,t,n){const r=iu(this.config.auth.clientId,s(s({},e),{},{authority:e.authority||this.config.auth.authority,correlationId:n}),t.homeAccountId),o=JSON.stringify(r),i=this.activeSilentTokenRequests.get(o);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=Sl(this.acquireTokenSilentAsync.bind(this),Ro,this.logger,this.performanceClient,n)(s(s({},e),{},{correlationId:n}),t);return this.activeSilentTokenRequests.set(o,r),r.finally(()=>{this.activeSilentTokenRequests.delete(o)})}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),i}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Ro,e.correlationId),this.eventHandler.emitEvent($t,xt.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Sl(ju,ri,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Mt;return this.acquireTokenSilentNoIframe(r,o).catch(async e=>{const t=function(e,t){const n=!(e instanceof Zl&&e.subError!==Ql),r=e.errorCode===Le||e.errorCode===lr,o=n&&r||e.errorCode===Kl||e.errorCode===Vl,i=Ut.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==Bt){const[t,n]=this.activeIframeRequest;this.logger.verbose("Iframe request is already in progress, awaiting resolution for request with correlationId: ".concat(n),r.correlationId);const i=this.performanceClient.startMeasurement(Bo,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose("Parallel iframe request with correlationId: ".concat(n," succeeded. Retrying cache and/or RT redemption"),r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info("Iframe request with correlationId: ".concat(n," failed. Interaction is required.")),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Sl(this.acquireTokenBySilentIframe.bind(this),ti,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise(t=>{e=t}),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Sl(this.acquireTokenBySilentIframe.bind(this),ti,this.logger,this.performanceClient,r.correlationId)(r).then(t=>(e(!0),t)).catch(t=>{throw e(!1),t}).finally(()=>{this.activeIframeRequest=void 0})}}throw e}).then(t=>(this.eventHandler.emitEvent(en,xt.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache},e.correlationId),t)).catch(e=>{throw this.eventHandler.emitEvent(tn,xt.Silent,null,e),e}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(e,t){return vh(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,wt,e.account.nativeAccountId,t).catch(async t=>{if(this.performanceClient.addFields({brokerErrorName:t.name,brokerErrorCode:t.errorCode},e.correlationId),t instanceof Yu&&Ju(t))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,Cr(lr);throw t})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Lt&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Sl(this.acquireTokenFromCache.bind(this),Zo,this.logger,this.performanceClient,e.correlationId)(e,t).catch(n=>{if(t===Lt)throw n;return this.eventHandler.emitEvent(nn,xt.Silent,e),Sl(this.acquireTokenByRefreshToken.bind(this),Eo,this.logger,this.performanceClient,e.correlationId)(e,t)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Sl(hh,Yi,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?s({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose("".concat(t?"Found":"Did not find"," pre-generated PKCE codes")),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,n){var r;const o=(null===(r=window.msal)||void 0===r?void 0:r.clientIds)||[],i=o.length,a=o.filter(t=>t===e).length;a>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:i,sameClientIdInstanceCount:a})}(t,e,this.logger)}}class jh{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new cl(e);return await n.initialize(),Fh.createController(n,t)}(e);return new jh(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new Fh(new cl(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const Bh={auth:{clientId:"b1d4d3c7-6337-48be-9748-42c1b03d59dc",authority:"https://login.microsoftonline.com/304a744d-e751-4784-ab75-8f3d44b8dbd5",redirectUri:"http://localhost:3000",navigateToLoginRequestUrl:!1},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,n)=>{if(!n)switch(e){case zt.Error:console.error(t);break;case zt.Info:console.info(t);break;case zt.Verbose:console.debug(t);break;case zt.Warning:console.warn(t)}},logLevel:zt.Info,piiLoggingEnabled:!1}}},Uh={scopes:["User.Read"]},zh={id:"",client:"",project:"",site:"",surveyType:"",startDate:"",endDate:"",description:"",equipment:[],areas:[],status:"In Progress"};var qh=n(579);function Hh(e){let{children:t,containerRef:n}=e;return(0,qh.jsx)("div",{ref:null!==n&&void 0!==n?n:void 0,className:"w-full max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg border border-gray-100 flex flex-col",children:t})}function Kh(e){let{step:t,totalSteps:n,steps:r}=e;const o=t/n*100;return(0,qh.jsxs)("div",{className:"mb-6",children:[(0,qh.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,qh.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(o,"%")}})}),(0,qh.jsx)("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:r?r.map((e,n)=>(0,qh.jsx)("span",{className:n+1===t?"font-bold text-blue-600":"",children:e},e)):Array.from({length:n}).map((e,t)=>(0,qh.jsx)("span",{children:t+1},t))})]})}function Wh(e){let{title:t,children:n}=e;return(0,qh.jsxs)("section",{className:"w-full flex flex-col flex-grow",children:[(0,qh.jsx)("h2",{className:"text-xl font-bold text-center mb-6 text-black-700",children:t}),(0,qh.jsx)("div",{className:"w-full flex flex-col flex-grow",children:n})]})}function Vh(e){let{label:t,value:n,onChange:r,placeholder:o,type:i="text",disabled:a=!1}=e;return(0,qh.jsxs)("div",{className:"mb-4 w-full",children:[(0,qh.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:t}),(0,qh.jsx)("input",{type:i,value:n,onChange:e=>r(e.target.value),placeholder:o,disabled:a,className:"w-full rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none ".concat(a?"bg-gray-100 cursor-not-allowed":"bg-white")})]})}function Gh(e){let{children:t,onClick:n,disabled:r,variant:o="primary",className:i=""}=e,a="";switch(o){case"primary":a="px-4 py-2 rounded-lg text-white ".concat(r?"bg-gray-400":"bg-blue-600 hover:bg-blue-700");break;case"secondary":a="px-3 py-1 text-sm rounded-lg border bg-white hover:bg-gray-100";break;case"success":a="px-4 py-2 rounded-lg text-white ".concat(r?"bg-green-400":"bg-green-600 hover:bg-green-700");break;case"danger":a="px-4 py-2 rounded-lg text-white ".concat(r?"bg-red-400":"bg-red-600 hover:bg-red-700")}return(0,qh.jsx)("button",{onClick:n,disabled:r,className:"".concat(a," ").concat(i),children:t})}var Qh=Object.defineProperty,Yh=Object.defineProperties,Jh=Object.getOwnPropertyDescriptors,Xh=Object.getOwnPropertySymbols,Zh=Object.prototype.hasOwnProperty,$h=Object.prototype.propertyIsEnumerable,ed=(e,t,n)=>t in e?Qh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,td=(e,t)=>{for(var n in t||(t={}))Zh.call(t,n)&&ed(e,n,t[n]);if(Xh)for(var n of Xh(t))$h.call(t,n)&&ed(e,n,t[n]);return e},nd=(e,t)=>Yh(e,Jh(t)),rd=(e,t,n)=>ed(e,"symbol"!==typeof t?t+"":t,n),od=(e,t,n)=>new Promise((r,o)=>{var i=e=>{try{s(n.next(e))}catch(t){o(t)}},a=e=>{try{s(n.throw(e))}catch(t){o(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);s((n=n.apply(e,t)).next())});class id{constructor(e){rd(this,"rootKey"),this.rootKey=e}}const ad=Object.seal({});class sd extends id{constructor(e){super(e),rd(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(t=>t instanceof id?t.prepForXml(e):t).filter(e=>void 0!==e);return e.stack.pop(),{[this.rootKey]:n.length?1===n.length&&(null==(t=n[0])?void 0:t._attr)?n[0]:n:ad}}addChildElement(e){return this.root.push(e),this}}class cd extends sd{prepForXml(e){const t=super.prepForXml(e);if(t&&("object"!==typeof t[this.rootKey]||Object.keys(t[this.rootKey]).length))return t}}class ld extends id{constructor(e){super("_attr"),rd(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(e=>{let[n,r]=e;if(void 0!==r){const e=this.xmlKeys&&this.xmlKeys[n]||n;t[e]=r}}),{_attr:t}}}class ud extends id{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(e=>{let{value:t}=e;return void 0!==t}).reduce((e,t)=>{let{key:n,value:r}=t;return nd(td({},e),{[n]:r})},{})}}}class hd extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var dd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function fd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pd,md={},gd={exports:{}};function yd(){if(pd)return gd.exports;pd=1;var e,t="object"===typeof Reflect?Reflect:null,n=t&&"function"===typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};e=t&&"function"===typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}gd.exports=o,gd.exports.once=function(e,t){return new Promise(function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}p(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&p(e,"error",t,n)}(e,o,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,c,l;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),c=i[t]),void 0===c)c=i[t]=n,++e._eventsCount;else if("function"===typeof c?c=i[t]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(o=s(e))>0&&c.length>o&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=c.length,l=u,console&&console.warn&&console.warn(l)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):f(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function p(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)})}}return Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return s(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},gd.exports}var vd,wd={exports:{}};function bd(){return vd||(vd=1,"function"===typeof Object.create?wd.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:wd.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),wd.exports}function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xd,Cd,_d={exports:{}},Sd=_d.exports={};function Td(){throw new Error("setTimeout has not been defined")}function Ad(){throw new Error("clearTimeout has not been defined")}function Id(e){if(xd===setTimeout)return setTimeout(e,0);if((xd===Td||!xd)&&setTimeout)return xd=setTimeout,setTimeout(e,0);try{return xd(e,0)}catch(t){try{return xd.call(null,e,0)}catch(n){return xd.call(this,e,0)}}}!function(){try{xd="function"===typeof setTimeout?setTimeout:Td}catch(e){xd=Td}try{Cd="function"===typeof clearTimeout?clearTimeout:Ad}catch(e){Cd=Ad}}();var Ed,Pd=[],Rd=!1,Nd=-1;function Od(){Rd&&Ed&&(Rd=!1,Ed.length?Pd=Ed.concat(Pd):Nd=-1,Pd.length&&Md())}function Md(){if(!Rd){var e=Id(Od);Rd=!0;for(var t=Pd.length;t;){for(Ed=Pd,Pd=[];++Nd<t;)Ed&&Ed[Nd].run();Nd=-1,t=Pd.length}Ed=null,Rd=!1,function(e){if(Cd===clearTimeout)return clearTimeout(e);if((Cd===Ad||!Cd)&&clearTimeout)return Cd=clearTimeout,clearTimeout(e);try{return Cd(e)}catch(t){try{return Cd.call(null,e)}catch(n){return Cd.call(this,e)}}}(e)}}function Ld(e,t){this.fun=e,this.array=t}function Dd(){}Sd.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Pd.push(new Ld(e,t)),1!==Pd.length||Rd||Id(Md)},Ld.prototype.run=function(){this.fun.apply(null,this.array)},Sd.title="browser",Sd.browser=!0,Sd.env={},Sd.argv=[],Sd.version="",Sd.versions={},Sd.on=Dd,Sd.addListener=Dd,Sd.once=Dd,Sd.off=Dd,Sd.removeListener=Dd,Sd.removeAllListeners=Dd,Sd.emit=Dd,Sd.prependListener=Dd,Sd.prependOnceListener=Dd,Sd.listeners=function(e){return[]},Sd.binding=function(e){throw new Error("process.binding is not supported")},Sd.cwd=function(){return"/"},Sd.chdir=function(e){throw new Error("process.chdir is not supported")},Sd.umask=function(){return 0};const Fd=kd(_d.exports);var jd,Bd;function Ud(){return Bd?jd:(Bd=1,jd=yd().EventEmitter)}var zd,qd={},Hd={};var Kd,Wd,Vd={};function Gd(){return Wd||(Wd=1,function(e){var t=function(){if(zd)return Hd;zd=1,Hd.byteLength=function(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r},Hd.toByteArray=function(e){var r,o,a=i(e),s=a[0],c=a[1],l=new n(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),u=0,h=c>0?s-4:s;for(o=0;o<h;o+=4)r=t[e.charCodeAt(o)]<<18|t[e.charCodeAt(o+1)]<<12|t[e.charCodeAt(o+2)]<<6|t[e.charCodeAt(o+3)],l[u++]=r>>16&255,l[u++]=r>>8&255,l[u++]=255&r;return 2===c&&(r=t[e.charCodeAt(o)]<<2|t[e.charCodeAt(o+1)]>>4,l[u++]=255&r),1===c&&(r=t[e.charCodeAt(o)]<<10|t[e.charCodeAt(o+1)]<<4|t[e.charCodeAt(o+2)]>>2,l[u++]=r>>8&255,l[u++]=255&r),l},Hd.fromByteArray=function(t){for(var n,r=t.length,o=r%3,i=[],a=16383,c=0,l=r-o;c<l;c+=a)i.push(s(t,c,c+a>l?l:c+a));return 1===o?(n=t[r-1],i.push(e[n>>2]+e[n<<4&63]+"==")):2===o&&(n=(t[r-2]<<8)+t[r-1],i.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),i.join("")};for(var e=[],t=[],n="undefined"!==typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)e[o]=r[o],t[r.charCodeAt(o)]=o;function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function a(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function s(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(a(r));return o.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,Hd}(),n=(Kd||(Kd=1,Vd.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?o-1:0,d=n?-1:1,f=e[t+h];for(h+=d,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+h],h+=d,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=l}return(f?-1:1)*a*Math.pow(2,i-r)},Vd.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,h=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*c-1)*Math.pow(2,o),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[n+f]=255&s,f+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+f]=255&a,f+=p,a/=256,l-=8);e[n+f-p]|=128*m}),Vd),r="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,n)}function s(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=i(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(B(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var o=function(e){if(a.isBuffer(e)){var t=0|d(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||U(e.length)?i(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),i(e<0?0:0|d(e))}function u(e){for(var t=e.length<0?0:0|d(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(o)return r?-1:D(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var h=!0,d=0;d<c;d++)if(l(e,i+d)!==l(t,d)){h=!1;break}if(h)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(U(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return j(D(t,e.length-n),e,n,r)}function b(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return j(F(t),e,n,r)}function x(e,t,n,r){return j(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,l=e[o],u=null,h=l>239?4:l>223?3:l>191?2:1;if(o+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128===(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=h}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?i(e):void 0!==t?"string"===typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(B(i,Uint8Array))o+i.length>r.length?a.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,o){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),c=Math.min(i,s),l=this.slice(r,o),u=e.slice(t,n),h=0;h<c;++h)if(l[h]!==u[h]){i=l[h],s=u[h];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return b(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=z[e[i]];return o}function E(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,r,o,i){return t=+t,r>>>=0,i||N(e,0,r,4),n.write(e,t,r,o,23,4),r+4}function M(e,t,r,o,i){return t=+t,r>>>=0,i||N(e,0,r,8),n.write(e,t,r,o,52,8),r+8}a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},a.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),c=s.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%c]}return this};var L=/[^+/0-9A-Za-z-_]/g;function D(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function j(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!==e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()}(qd)),qd}var Qd,Yd,Jd,Xd,Zd,$d,ef,tf,nf,rf,of,af,sf,cf,lf,uf,hf,df,ff,pf,mf,gf,yf,vf,wf,bf,kf,xf,Cf,_f,Sf,Tf,Af,If,Ef,Pf,Rf,Nf,Of,Mf,Lf,Df,Ff,jf,Bf,Uf,zf,qf,Hf,Kf,Wf,Vf,Gf,Qf,Yf,Jf,Xf,Zf,$f,ep,tp,np,rp,op,ip,ap,sp,cp,lp,up,hp={},dp={};function fp(){return Yd?Qd:(Yd=1,Qd=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0})}function pp(){if(Xd)return Jd;Xd=1;var e=fp();return Jd=function(){return e()&&!!Symbol.toStringTag}}function mp(){return $d?Zd:($d=1,Zd=Object)}function gp(){return tf?ef:(tf=1,ef=Error)}function yp(){return rf?nf:(rf=1,nf=EvalError)}function vp(){return af?of:(af=1,of=RangeError)}function wp(){return cf?sf:(cf=1,sf=ReferenceError)}function bp(){return uf?lf:(uf=1,lf=SyntaxError)}function kp(){return df?hf:(df=1,hf=TypeError)}function xp(){return pf?ff:(pf=1,ff=URIError)}function Cp(){return gf?mf:(gf=1,mf=Math.abs)}function _p(){return vf?yf:(vf=1,yf=Math.floor)}function Sp(){return bf?wf:(bf=1,wf=Math.max)}function Tp(){return xf?kf:(xf=1,kf=Math.min)}function Ap(){return _f?Cf:(_f=1,Cf=Math.pow)}function Ip(){return Tf?Sf:(Tf=1,Sf=Math.round)}function Ep(){return If?Af:(If=1,Af=Number.isNaN||function(e){return e!==e})}function Pp(){if(Pf)return Ef;Pf=1;var e=Ep();return Ef=function(t){return e(t)||0===t?t:t<0?-1:1}}function Rp(){return Nf?Rf:(Nf=1,Rf=Object.getOwnPropertyDescriptor)}function Np(){if(Mf)return Of;Mf=1;var e=Rp();if(e)try{e([],"length")}catch(t){e=null}return Of=e}function Op(){if(Df)return Lf;Df=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return Lf=e}function Mp(){return Uf?Bf:(Uf=1,Bf="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null)}function Lp(){return qf?zf:(qf=1,zf=mp().getPrototypeOf||null)}function Dp(){if(Vf)return Wf;Vf=1;var e=function(){if(Kf)return Hf;Kf=1;var e=Object.prototype.toString,t=Math.max,n=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};return Hf=function(r){var o=this;if("function"!==typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),s=t(0,o.length-a.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var e=o.apply(this,n(a,arguments));return Object(e)===e?e:this}return o.apply(r,n(a,arguments))}),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i},Hf}();return Wf=Function.prototype.bind||e}function Fp(){return Qf?Gf:(Qf=1,Gf=Function.prototype.call)}function jp(){return Jf?Yf:(Jf=1,Yf=Function.prototype.apply)}function Bp(){if(ep)return $f;ep=1;var e=Dp(),t=jp(),n=Fp(),r=Zf?Xf:(Zf=1,Xf="undefined"!==typeof Reflect&&Reflect&&Reflect.apply);return $f=r||e.call(n,t)}function Up(){if(op)return rp;op=1;var e,t=function(){if(np)return tp;np=1;var e=Dp(),t=kp(),n=Fp(),r=Bp();return tp=function(o){if(o.length<1||"function"!==typeof o[0])throw new t("a function is required");return r(e,n,o)}}(),n=Np();try{e=[].__proto__===Array.prototype}catch(a){if(!a||"object"!==typeof a||!("code"in a)||"ERR_PROTO_ACCESS"!==a.code)throw a}var r=!!e&&n&&n(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return rp=r&&"function"===typeof r.get?t([r.get]):"function"===typeof i&&function(e){return i(null==e?e:o(e))}}function zp(){if(cp)return sp;cp=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Dp();return sp=n.call(e,t)}function qp(){if(up)return lp;var e;up=1;var t=mp(),n=gp(),r=yp(),o=vp(),i=wp(),a=bp(),s=kp(),c=xp(),l=Cp(),u=_p(),h=Sp(),d=Tp(),f=Ap(),p=Ip(),m=Pp(),g=Function,y=function(e){try{return g('"use strict"; return ('+e+").constructor;")()}catch(t){}},v=Np(),w=Op(),b=function(){throw new s},k=v?function(){try{return b}catch(e){try{return v(arguments,"callee").get}catch(t){return b}}}():b,x=function(){if(jf)return Ff;jf=1;var e="undefined"!==typeof Symbol&&Symbol,t=fp();return Ff=function(){return"function"===typeof e&&"function"===typeof Symbol&&"symbol"===typeof e("foo")&&"symbol"===typeof Symbol("bar")&&t()}}()(),C=function(){if(ap)return ip;ap=1;var e=Mp(),t=Lp(),n=Up();return ip=e?function(t){return e(t)}:t?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return t(e)}:n?function(e){return n(e)}:null}(),_=Lp(),S=Mp(),T=jp(),A=Fp(),I={},E="undefined"!==typeof Uint8Array&&C?C(Uint8Array):e,P={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":x&&C?C([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":"undefined"===typeof Atomics?e:Atomics,"%BigInt%":"undefined"===typeof BigInt?e:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":"undefined"===typeof Float16Array?e:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?e:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":I,"%Int8Array%":"undefined"===typeof Int8Array?e:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?e:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&C?C(C([][Symbol.iterator]())):e,"%JSON%":"object"===typeof JSON?JSON:e,"%Map%":"undefined"===typeof Map?e:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&x&&C?C((new Map)[Symbol.iterator]()):e,"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?e:Promise,"%Proxy%":"undefined"===typeof Proxy?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":"undefined"===typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?e:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&x&&C?C((new Set)[Symbol.iterator]()):e,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&C?C(""[Symbol.iterator]()):e,"%Symbol%":x?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":k,"%TypedArray%":E,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?e:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"===typeof WeakMap?e:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?e:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?e:WeakSet,"%Function.prototype.call%":A,"%Function.prototype.apply%":T,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":_,"%Math.abs%":l,"%Math.floor%":u,"%Math.max%":h,"%Math.min%":d,"%Math.pow%":f,"%Math.round%":p,"%Math.sign%":m,"%Reflect.getPrototypeOf%":S};if(C)try{null.error}catch(K){var R=C(C(K));P["%Error.prototype%"]=R}var N=function e(t){var n;if("%AsyncFunction%"===t)n=y("async function () {}");else if("%GeneratorFunction%"===t)n=y("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=y("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&C&&(n=C(o.prototype))}return P[t]=n,n},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=Dp(),L=zp(),D=M.call(A,Array.prototype.concat),F=M.call(T,Array.prototype.splice),j=M.call(A,String.prototype.replace),B=M.call(A,String.prototype.slice),U=M.call(A,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,H=function(e,t){var n,r=e;if(L(O,r)&&(r="%"+(n=O[r])[0]+"%"),L(P,r)){var o=P[r];if(o===I&&(o=N(r)),"undefined"===typeof o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new a("intrinsic "+e+" does not exist!")};return lp=function(e,t){if("string"!==typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===U(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=B(e,0,1),n=B(e,-1);if("%"===t&&"%"!==n)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var r=[];return j(e,z,function(e,t,n,o){r[r.length]=n?j(o,q,"$1"):t||e}),r}(e),r=n.length>0?n[0]:"",o=H("%"+r+"%",t),i=o.name,c=o.value,l=!1,u=o.alias;u&&(r=u[0],F(n,D([0,1],u)));for(var h=1,d=!0;h<n.length;h+=1){var f=n[h],p=B(f,0,1),m=B(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new a("property names with quotes must have matching quotes");if("constructor"!==f&&d||(l=!0),L(P,i="%"+(r+="."+f)+"%"))c=P[i];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(v&&h+1>=n.length){var g=v(c,f);c=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[f]}else d=L(c,f),c=c[f];d&&!l&&(P[i]=c)}}return c},lp}var Hp,Kp,Wp,Vp,Gp,Qp,Yp,Jp,Xp,Zp,$p,em,tm,nm,rm,om,im,am,sm,cm,lm,um,hm,dm,fm,pm,mm,gm,ym,vm,wm,bm,km,xm={exports:{}};function Cm(){if(Kp)return Hp;Kp=1;var e=Op(),t=bp(),n=kp(),r=Np();return Hp=function(o,i,a){if(!o||"object"!==typeof o&&"function"!==typeof o)throw new n("`obj` must be an object or a function`");if("string"!==typeof i&&"symbol"!==typeof i)throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new n("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!r&&r(o,i);if(e)e(o,i,{configurable:null===l&&h?h.configurable:!l,enumerable:null===s&&h?h.enumerable:!s,value:a,writable:null===c&&h?h.writable:!c});else{if(!u&&(s||c||l))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");o[i]=a}},Hp}function _m(){if(Vp)return Wp;Vp=1;var e=Op(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return 1!==e([],"length",{value:1}).length}catch(t){return!0}},Wp=t}function Sm(){if(Qp)return Gp;Qp=1;var e=qp(),t=Cm(),n=_m()(),r=Np(),o=kp(),i=e("%Math.floor%");return Gp=function(e,a){if("function"!==typeof e)throw new o("`fn` is not a function");if("number"!==typeof a||a<0||a>4294967295||i(a)!==a)throw new o("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],c=!0,l=!0;if("length"in e&&r){var u=r(e,"length");u&&!u.configurable&&(c=!1),u&&!u.writable&&(l=!1)}return(c||l||!s)&&(n?t(e,"length",a,!0,!0):t(e,"length",a)),e},Gp}function Tm(){return Yp||(Yp=1,function(e){var t=Dp(),n=qp(),r=Sm(),o=kp(),i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,i),c=Op(),l=n("%Math.max%");e.exports=function(e){if("function"!==typeof e)throw new o("a function is required");var n=s(t,a,arguments);return r(n,1+l(0,e.length-(arguments.length-1)),!0)};var u=function(){return s(t,i,arguments)};c?c(e.exports,"apply",{value:u}):e.exports.apply=u}(xm)),xm.exports}function Am(){if(Xp)return Jp;Xp=1;var e=qp(),t=Tm(),n=t(e("String.prototype.indexOf"));return Jp=function(r,o){var i=e(r,!!o);return"function"===typeof i&&n(r,".prototype.")>-1?t(i):i}}function Im(){if(tm)return em;tm=1;var e,t=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,o=pp()(),i=Object.getPrototypeOf;return em=function(a){if("function"!==typeof a)return!1;if(r.test(n.call(a)))return!0;if(!o)return"[object GeneratorFunction]"===t.call(a);if(!i)return!1;if("undefined"===typeof e){var s=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}();e=!!s&&i(s)}return i(a)===e}}function Em(){if(im)return om;im=1;var e=function(){if(rm)return nm;rm=1;var e,t,n=Function.prototype.toString,r="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof r&&"function"===typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw t}}),t={},r(function(){throw 42},null,e)}catch(d){d!==t&&(r=null)}else r=null;var o=/^\s*class\b/,i=function(e){try{var t=n.call(e);return o.test(t)}catch(r){return!1}},a=function(e){try{return!i(e)&&(n.call(e),!0)}catch(t){return!1}},s=Object.prototype.toString,c="function"===typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),u=function(){return!1};if("object"===typeof document){var h=document.all;s.call(h)===s.call(document.all)&&(u=function(e){if((l||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=s.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(n){}return!1})}return nm=r?function(n){if(u(n))return!0;if(!n)return!1;if("function"!==typeof n&&"object"!==typeof n)return!1;try{r(n,null,e)}catch(o){if(o!==t)return!1}return!i(n)&&a(n)}:function(e){if(u(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(c)return a(e);if(i(e))return!1;var t=s.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}}(),t=Object.prototype.toString,n=Object.prototype.hasOwnProperty;return om=function(r,o,i){if(!e(o))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=i),"[object Array]"===t.call(r)?function(e,t,r){for(var o=0,i=e.length;o<i;o++)n.call(e,o)&&(null==r?t(e[o],o,e):t.call(r,e[o],o,e))}(r,o,a):"string"===typeof r?function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(r,o,a):function(e,t,r){for(var o in e)n.call(e,o)&&(null==r?t(e[o],o,e):t.call(r,e[o],o,e))}(r,o,a)},om}function Pm(){return sm?am:(sm=1,am=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"])}function Rm(){if(lm)return cm;lm=1;var e=Pm(),t="undefined"===typeof globalThis?dd:globalThis;return cm=function(){for(var n=[],r=0;r<e.length;r++)"function"===typeof t[e[r]]&&(n[n.length]=e[r]);return n}}function Nm(){if(hm)return um;hm=1;var e=Em(),t=Rm(),n=Tm(),r=Am(),o=Np(),i=r("Object.prototype.toString"),a=pp()(),s="undefined"===typeof globalThis?dd:globalThis,c=t(),l=r("String.prototype.slice"),u=Object.getPrototypeOf,h=r("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},d={__proto__:null};e(c,a&&o&&u?function(e){var t=new s[e];if(Symbol.toStringTag in t){var r=u(t),i=o(r,Symbol.toStringTag);if(!i){var a=u(r);i=o(a,Symbol.toStringTag)}d["$"+e]=n(i.get)}}:function(e){var t=new s[e],r=t.slice||t.set;r&&(d["$"+e]=n(r))});return um=function(t){if(!t||"object"!==typeof t)return!1;if(!a){var n=l(i(t),8,-1);return h(c,n)>-1?n:"Object"===n&&function(t){var n=!1;return e(d,function(e,r){if(!n)try{e(t),n=l(r,1)}catch(o){}}),n}(t)}return o?function(t){var n=!1;return e(d,function(e,r){if(!n)try{"$"+e(t)===r&&(n=l(r,1))}catch(o){}}),n}(t):null}}function Om(){if(fm)return dm;fm=1;var e=Nm();return dm=function(t){return!!e(t)}}function Mm(){return pm||(pm=1,function(e){var t=function(){if($p)return Zp;$p=1;var e=pp()(),t=Am()("Object.prototype.toString"),n=function(n){return!(e&&n&&"object"===typeof n&&Symbol.toStringTag in n)&&"[object Arguments]"===t(n)},r=function(e){return!!n(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==t(e)&&"[object Function]"===t(e.callee)},o=function(){return n(arguments)}();return n.isLegacyArguments=r,Zp=o?n:r}(),n=Im(),r=Nm(),o=Om();function i(e){return e.call.bind(e)}var a="undefined"!==typeof BigInt,s="undefined"!==typeof Symbol,c=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),h=i(Boolean.prototype.valueOf);if(a)var d=i(BigInt.prototype.valueOf);if(s)var f=i(Symbol.prototype.valueOf);function p(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(n){return!1}}function m(e){return"[object Map]"===c(e)}function g(e){return"[object Set]"===c(e)}function y(e){return"[object WeakMap]"===c(e)}function v(e){return"[object WeakSet]"===c(e)}function w(e){return"[object ArrayBuffer]"===c(e)}function b(e){return"undefined"!==typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===c(e)}function x(e){return"undefined"!==typeof DataView&&(k.working?k(e):e instanceof DataView)}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=o,e.isPromise=function(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch},e.isArrayBufferView=function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||x(e)},e.isUint8Array=function(e){return"Uint8Array"===r(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===r(e)},e.isUint16Array=function(e){return"Uint16Array"===r(e)},e.isUint32Array=function(e){return"Uint32Array"===r(e)},e.isInt8Array=function(e){return"Int8Array"===r(e)},e.isInt16Array=function(e){return"Int16Array"===r(e)},e.isInt32Array=function(e){return"Int32Array"===r(e)},e.isFloat32Array=function(e){return"Float32Array"===r(e)},e.isFloat64Array=function(e){return"Float64Array"===r(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===r(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===r(e)},m.working="undefined"!==typeof Map&&m(new Map),e.isMap=function(e){return"undefined"!==typeof Map&&(m.working?m(e):e instanceof Map)},g.working="undefined"!==typeof Set&&g(new Set),e.isSet=function(e){return"undefined"!==typeof Set&&(g.working?g(e):e instanceof Set)},y.working="undefined"!==typeof WeakMap&&y(new WeakMap),e.isWeakMap=function(e){return"undefined"!==typeof WeakMap&&(y.working?y(e):e instanceof WeakMap)},v.working="undefined"!==typeof WeakSet&&v(new WeakSet),e.isWeakSet=function(e){return v(e)},w.working="undefined"!==typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=b,k.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=x;var C="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function _(e){return"[object SharedArrayBuffer]"===c(e)}function S(e){return"undefined"!==typeof C&&("undefined"===typeof _.working&&(_.working=_(new C)),_.working?_(e):e instanceof C)}function T(e){return p(e,l)}function A(e){return p(e,u)}function I(e){return p(e,h)}function E(e){return a&&p(e,d)}function P(e){return s&&p(e,f)}e.isSharedArrayBuffer=S,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},e.isGeneratorObject=function(e){return"[object Generator]"===c(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},e.isNumberObject=T,e.isStringObject=A,e.isBooleanObject=I,e.isBigIntObject=E,e.isSymbolObject=P,e.isBoxedPrimitive=function(e){return T(e)||A(e)||I(e)||E(e)||P(e)},e.isAnyArrayBuffer=function(e){return"undefined"!==typeof Uint8Array&&(b(e)||S(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})}(dp)),dp}function Lm(){return ym||(ym=1,function(e){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},n=/%[sdj%]/g;e.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var o=arguments,i=o.length,s=String(e).replace(n,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(t){return"[Circular]"}default:return e}}),c=o[r];r<i;c=o[++r])p(c)||!w(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(t,n){if("undefined"!==typeof Fd&&!0===Fd.noDeprecation)return t;if("undefined"===typeof Fd)return function(){return e.deprecate(t,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(Fd.throwDeprecation)throw new Error(n);Fd.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var r={},o=/^$/;if(Fd.env.NODE_DEBUG){var i=Fd.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i")}function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&e._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,t,r.depth)}function s(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return g(o)||(o=l(t,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(n);if(0===a.length){if(x(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return u(n)}var w,C="",_=!1,S=["{","}"];(d(n)&&(_=!0,S=["[","]"]),x(n))&&(C=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(C=" "+RegExp.prototype.toString.call(n)),b(n)&&(C=" "+Date.prototype.toUTCString.call(n)),k(n)&&(C=" "+u(n)),0!==a.length||_&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),w=_?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)T(t,String(a))?i.push(h(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(e,t,n,r,o,!0))}),i}(t,n,r,s,a):a.map(function(e){return h(t,n,r,s,e,_)}),t.seen.pop(),function(e,t,n){var r=e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(w,C,S)):S[0]+C+S[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),T(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=p(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function f(e){return"boolean"===typeof e}function p(e){return null===e}function m(e){return"number"===typeof e}function g(e){return"string"===typeof e}function y(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===C(e)}function w(e){return"object"===typeof e&&null!==e}function b(e){return w(e)&&"[object Date]"===C(e)}function k(e){return w(e)&&("[object Error]"===C(e)||e instanceof Error)}function x(e){return"function"===typeof e}function C(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!r[t])if(o.test(t)){var n=Fd.pid;r[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else r[t]=function(){};return r[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=Mm(),e.isArray=d,e.isBoolean=f,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=m,e.isString=g,e.isSymbol=function(e){return"symbol"===typeof e},e.isUndefined=y,e.isRegExp=v,e.types.isRegExp=v,e.isObject=w,e.isDate=b,e.types.isDate=b,e.isError=k,e.types.isNativeError=k,e.isFunction=x,e.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},e.isBuffer=gm?mm:(gm=1,mm=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8});var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){console.log("%s - %s",function(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}(),e.format.apply(e,arguments))},e.inherits=bd(),e._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}e.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var n;if("function"!==typeof(n=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(n,A,{value:n,enumerable:!1,writable:!1,configurable:!0}),n}function n(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,r){e?n(e):t(r)});try{e.apply(this,o)}catch(a){n(a)}return r}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),A&&Object.defineProperty(n,A,{value:n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(n,t(e))},e.promisify.custom=A,e.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!==typeof r)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return r.apply(o,arguments)};e.apply(this,t).then(function(e){Fd.nextTick(i.bind(null,null,e))},function(e){Fd.nextTick(I.bind(null,e,i))})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,t(e)),n}}(hp)),hp}function Dm(){if(wm)return vm;function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}wm=1;var r=Gd().Buffer,o=Lm().inspect,i=o&&o.custom||"inspect";function a(e,t,n){r.prototype.copy.call(e,t,n)}return vm=function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.head=null,this.tail=null,this.length=0}return n(s,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return r.alloc(0);for(var t=r.allocUnsafe(e>>>0),n=this.head,o=0;n;)a(n.data,t,o),o+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0===(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=r.allocUnsafe(e),n=this.head,o=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0===(e-=a)){a===i.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(a));break}++o}return this.length-=o,t}},{key:i,value:function(n,r){return o(this,function(n){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach(function(e){t(n,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},r,{depth:0,customInspect:!1}))}}]),s}(),vm}function Fm(){if(km)return bm;function e(e,r){n(e,r),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}return km=1,bm={destroy:function(r,o){var i=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(o?o(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Fd.nextTick(n,this,r)):Fd.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(n){!o&&n?i._writableState?i._writableState.errorEmitted?Fd.nextTick(t,i):(i._writableState.errorEmitted=!0,Fd.nextTick(e,i,n)):Fd.nextTick(e,i,n):o?(Fd.nextTick(t,i),o(n)):Fd.nextTick(t,i)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}var jm,Bm,Um,zm,qm,Hm,Km,Wm,Vm,Gm={};function Qm(){if(jm)return Gm;jm=1;var e={};function t(t,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"===typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=t,e[t]=o}function n(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}return t("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(e,t,r){var o,i,a;if("string"===typeof t&&(i="not ",t.substr(0,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(o," ").concat(n(t,"type"));else{var s=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(o," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Gm.codes=e,Gm}function Ym(){if(Um)return Bm;Um=1;var e=Qm().codes.ERR_INVALID_OPT_VALUE;return Bm={getHighWaterMark:function(t,n,r,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(n,o,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new e(o?r:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384}}}function Jm(){if(qm)return zm;function e(e){try{if(!dd.localStorage)return!1}catch(n){return!1}var t=dd.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return qm=1,zm=function(t,n){if(e("noDeprecation"))return t;var r=!1;return function(){if(!r){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return t.apply(this,arguments)}},zm}function Xm(){if(Km)return Hm;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var t;Km=1,Hm=k,k.WritableState=b;var n={deprecate:Jm()},r=Ud(),o=Gd().Buffer,i=dd.Uint8Array||function(){};var a,s=Fm(),c=Ym().getHighWaterMark,l=Qm().codes,u=l.ERR_INVALID_ARG_TYPE,h=l.ERR_METHOD_NOT_IMPLEMENTED,d=l.ERR_MULTIPLE_CALLBACK,f=l.ERR_STREAM_CANNOT_PIPE,p=l.ERR_STREAM_DESTROYED,m=l.ERR_STREAM_NULL_VALUES,g=l.ERR_STREAM_WRITE_AFTER_END,y=l.ERR_UNKNOWN_ENCODING,v=s.errorOrDestroy;function w(){}function b(n,r,o){t=t||Zm(),n=n||{},"boolean"!==typeof o&&(o=r instanceof t),this.objectMode=!!n.objectMode,o&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=c(this,n,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===n.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!==typeof o)throw new d;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(Fd.nextTick(o,r),Fd.nextTick(A,e,t),e._writableState.errorEmitted=!0,v(e,r)):(o(r),e._writableState.errorEmitted=!0,v(e,r),A(e,t))}(e,n,r,t,o);else{var i=S(n)||e.destroyed;i||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),r?Fd.nextTick(C,e,n,i,o):C(e,n,i,o)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==n.emitClose,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function k(e){var n=this instanceof(t=t||Zm());if(!n&&!a.call(k,this))return new k(e);this._writableState=new b(e,this,n),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),r.call(this)}function x(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function C(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),A(e,t)}function _(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var o=n.bufferedRequestCount,i=new Array(o),a=n.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,x(t,n,!0,n.length,i,"",a.finish),n.pendingcb++,n.lastBufferedRequest=null,a.next?(n.corkedRequestsFree=a.next,a.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(x(t,n,!1,n.objectMode?1:l.length,l,u,h),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&v(e,n),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var n=S(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,Fd.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}return bd()(k,r),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===k&&(e&&e._writableState instanceof b)}})):a=function(e){return e instanceof this},k.prototype.pipe=function(){v(this,new f)},k.prototype.write=function(e,t,n){var r,a=this._writableState,s=!1,c=!a.objectMode&&(r=e,o.isBuffer(r)||r instanceof i);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"===typeof t&&(n=t,t=null),c?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof n&&(n=w),a.ending?function(e,t){var n=new g;v(e,n),Fd.nextTick(t,n)}(this,n):(c||function(e,t,n,r){var o;return null===n?o=new m:"string"===typeof n||t.objectMode||(o=new u("chunk",["string","Buffer"],n)),!o||(v(e,o),Fd.nextTick(r,o),!1)}(this,a,e,n))&&(a.pendingcb++,s=function(e,t,n,r,i,a){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=o.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var c=t.objectMode?1:r.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,c,r,i,a);return l}(this,a,c,e,t,n)),s},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||_(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new h("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?Fd.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=s.destroy,k.prototype._undestroy=s.undestroy,k.prototype._destroy=function(e,t){t(e)},Hm}function Zm(){if(Vm)return Wm;Vm=1;var e=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};Wm=a;var t=Fg(),n=Xm();bd()(a,t);for(var r=e(n.prototype),o=0;o<r.length;o++){var i=r[o];a.prototype[i]||(a.prototype[i]=n.prototype[i])}function a(e){if(!(this instanceof a))return new a(e);t.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||Fd.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Wm}var $m,eg,tg,ng,rg,og,ig,ag,sg,cg,lg,ug,hg,dg,fg,pg,mg,gg,yg,vg,wg,bg,kg,xg,Cg,_g,Sg,Tg,Ag,Ig,Eg,Pg,Rg,Ng={},Og={exports:{}};function Mg(){if(eg)return Ng;eg=1;var e=($m||($m=1,function(e,t){var n=Gd(),r=n.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=i),o(r,i),i.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var o=r(e);return void 0!==t?"string"===typeof n?o.fill(t,n):o.fill(t):o.fill(0),o},i.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(Og,Og.exports)),Og.exports).Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(n){var r;switch(this.encoding=function(n){var r=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(n);if("string"!==typeof r&&(e.isEncoding===t||!t(n)))throw new Error("Unknown encoding: "+n);return r||n}(n),this.encoding){case"utf16le":this.text=i,this.end=a,r=4;break;case"utf8":this.fillLast=o,r=4;break;case"base64":this.text=s,this.end=c,r=3;break;default:return this.write=l,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(r)}function r(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function i(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function s(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):""}return Ng.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},n.prototype.text=function(e,t){var n=function(e,t,n){var o=t.length-1;if(o<n)return 0;var i=r(t[o]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--o<n||-2===i)return 0;if(i=r(t[o]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--o<n||-2===i)return 0;if(i=r(t[o]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var o=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,o),e.toString("utf8",t,o)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Ng}function Lg(){if(ng)return tg;ng=1;var e=Qm().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return tg=function n(r,o,i){if("function"===typeof o)return n(r,null,o);o||(o={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||t);var a=o.readable||!1!==o.readable&&r.readable,s=o.writable||!1!==o.writable&&r.writable,c=function(){r.writable||u()},l=r._writableState&&r._writableState.finished,u=function(){s=!1,l=!0,a||i.call(r)},h=r._readableState&&r._readableState.endEmitted,d=function(){a=!1,h=!0,s||i.call(r)},f=function(e){i.call(r,e)},p=function(){var t;return a&&!h?(r._readableState&&r._readableState.ended||(t=new e),i.call(r,t)):s&&!l?(r._writableState&&r._writableState.ended||(t=new e),i.call(r,t)):void 0},m=function(){r.req.on("finish",u)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(r)?s&&!r._writableState&&(r.on("end",c),r.on("close",c)):(r.on("complete",u),r.on("abort",p),r.req?m():r.on("request",m)),r.on("end",d),r.on("finish",u),!1!==o.error&&r.on("error",f),r.on("close",p),function(){r.removeListener("complete",u),r.removeListener("abort",p),r.removeListener("request",m),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("end",d),r.removeListener("error",f),r.removeListener("close",p)}},tg}function Dg(){if(og)return rg;var e;function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}og=1;var n=Lg(),r=Symbol("lastResolve"),o=Symbol("lastReject"),i=Symbol("error"),a=Symbol("ended"),s=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(e,t){return{value:e,done:t}}function h(e){var t=e[r];if(null!==t){var n=e[l].read();null!==n&&(e[s]=null,e[r]=null,e[o]=null,t(u(n,!1)))}}function d(e){Fd.nextTick(h,e)}var f=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((t(e={get stream(){return this[l]},next:function(){var e=this,t=this[i];if(null!==t)return Promise.reject(t);if(this[a])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(t,n){Fd.nextTick(function(){e[i]?n(e[i]):t(u(void 0,!0))})});var n,r=this[s];if(r)n=new Promise(function(e,t){return function(n,r){e.then(function(){t[a]?n(u(void 0,!0)):t[c](n,r)},r)}}(r,this));else{var o=this[l].read();if(null!==o)return Promise.resolve(u(o,!1));n=new Promise(this[c])}return this[s]=n,n}},Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var e=this;return new Promise(function(t,n){e[l].destroy(null,function(e){e?n(e):t(u(void 0,!0))})})}),e),f);return rg=function(e){var h,f=Object.create(p,(t(h={},l,{value:e,writable:!0}),t(h,r,{value:null,writable:!0}),t(h,o,{value:null,writable:!0}),t(h,i,{value:null,writable:!0}),t(h,a,{value:e._readableState.endEmitted,writable:!0}),t(h,c,{value:function(e,t){var n=f[l].read();n?(f[s]=null,f[r]=null,f[o]=null,e(u(n,!1))):(f[r]=e,f[o]=t)},writable:!0}),h));return f[s]=null,n(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=f[o];return null!==t&&(f[s]=null,f[r]=null,f[o]=null,t(e)),void(f[i]=e)}var n=f[r];null!==n&&(f[s]=null,f[r]=null,f[o]=null,n(u(void 0,!0))),f[a]=!0}),e.on("readable",d.bind(null,f)),f}}function Fg(){if(cg)return sg;var e;cg=1,sg=k,k.ReadableState=b,yd().EventEmitter;var t=function(e,t){return e.listeners(t).length},n=Ud(),r=Gd().Buffer,o=dd.Uint8Array||function(){};var i,a=Lm();i=a&&a.debuglog?a.debuglog("stream"):function(){};var s,c,l,u=Dm(),h=Fm(),d=Ym().getHighWaterMark,f=Qm().codes,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_STREAM_PUSH_AFTER_EOF,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;bd()(k,n);var v=h.errorOrDestroy,w=["error","close","destroy","pause","resume"];function b(t,n,r){e=e||Zm(),t=t||{},"boolean"!==typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=d(this,t,"readableHighWaterMark",r),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s||(s=Mg().StringDecoder),this.decoder=new s(t.encoding),this.encoding=t.encoding)}function k(t){if(e=e||Zm(),!(this instanceof k))return new k(t);var r=this instanceof e;this._readableState=new b(t,this,r),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),n.call(this)}function x(e,t,n,a,s){i("readableAddChunk",t);var c,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(i("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,l);else if(s||(c=function(e,t){var n;i=t,r.isBuffer(i)||i instanceof o||"string"===typeof t||void 0===t||e.objectMode||(n=new p("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(l,t)),c)v(e,c);else if(l.objectMode||t&&t.length>0)if("string"===typeof t||l.objectMode||Object.getPrototypeOf(t)===r.prototype||(t=function(e){return r.from(e)}(t)),a)l.endEmitted?v(e,new y):C(e,l,t,!0);else if(l.ended)v(e,new m);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?C(e,l,t,!1):I(e,l)):C(e,l,t,!1)}else a||(l.reading=!1,I(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),I(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=h.destroy,k.prototype._undestroy=h.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,o=this._readableState;return o.objectMode?n=!0:"string"===typeof e&&((t=t||o.defaultEncoding)!==o.encoding&&(e=r.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},k.prototype.unshift=function(e){return x(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){s||(s=Mg().StringDecoder);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var _=1073741824;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,Fd.nextTick(A,e))}function A(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function I(e,t){t.readingMore||(t.readingMore=!0,Fd.nextTick(E,e,t))}function E(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){i("readable nexttick read 0"),e.read(0)}function N(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function L(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,Fd.nextTick(D,t,e))}function D(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}return k.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){v(this,new g("_read()"))},k.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,i("pipe count=%d opts=%j",o.pipesCount,n);var a=(!n||!1!==n.end)&&e!==Fd.stdout&&e!==Fd.stderr?c:m;function s(t,n){i("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",h),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){i("onend"),e.end()}o.endEmitted?Fd.nextTick(a):r.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var n=e._readableState;i("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&t(e,"data")&&(n.flowing=!0,O(e))}}(r);e.on("drain",l);var u=!1;function h(t){i("ondata");var n=e.write(t);i("dest.write",n),!1===n&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!u&&(i("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function d(n){i("onerror",n),m(),e.removeListener("error",d),0===t(e,"error")&&v(e,n)}function f(){e.removeListener("finish",p),m()}function p(){i("onfinish"),e.removeListener("close",f),m()}function m(){i("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",r),o.flowing||(i("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},k.prototype.on=function(e,t){var r=n.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,i("on readable",o.length,o.reading),o.length?T(this):o.reading||Fd.nextTick(R,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=n.prototype.removeListener.call(this,e,t);return"readable"===e&&Fd.nextTick(P,this),r},k.prototype.removeAllListeners=function(e){var t=n.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||Fd.nextTick(P,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Fd.nextTick(N,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){(i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))}),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<w.length;a++)e.on(w[a],this.emit.bind(this,w[a]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=Dg()),c(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=M,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(k.from=function(e,t){return void 0===l&&(l=ag?ig:(ag=1,ig=function(){throw new Error("Readable.from is not available in the browser")})),l(k,e,t)}),sg}function jg(){if(ug)return lg;ug=1,lg=s;var e=Qm().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,r=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=e.ERR_TRANSFORM_WITH_LENGTH_0,i=Zm();function a(e,t){var r=this._transformState;r.transforming=!1;var o=r.writecb;if(null===o)return this.emit("error",new n);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),o(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(t,n){l(e,t,n)})}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new r;return e.push(null)}return bd()(s,i),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},s.prototype._transform=function(e,n,r){r(new t("_transform()"))},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},s.prototype._destroy=function(e,t){i.prototype._destroy.call(this,e,function(e){t(e)})},lg}function Bg(){if(pg)return fg;var e;pg=1;var t=Qm().codes,n=t.ERR_MISSING_ARGS,r=t.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function i(e){e()}function a(e,t){return e.pipe(t)}return fg=function(){for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];var l,u=function(e){return e.length?"function"!==typeof e[e.length-1]?o:e.pop():o}(s);if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new n("streams");var h=s.map(function(t,n){var o=n<s.length-1;return function(t,n,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;t.on("close",function(){a=!0}),void 0===e&&(e=Lg()),e(t,{readable:n,writable:o},function(e){if(e)return i(e);a=!0,i()});var s=!1;return function(e){if(!a&&!s)return s=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(t)?t.abort():"function"===typeof t.destroy?t.destroy():void i(e||new r("pipe"))}}(t,o,n>0,function(e){l||(l=e),e&&h.forEach(i),o||(h.forEach(i),u(l))})});return s.reduce(a)},fg}function Ug(){if(gg)return mg;gg=1,mg=t;var e=yd().EventEmitter;function t(){e.call(this)}return bd()(t,e),t.Readable=Fg(),t.Writable=Xm(),t.Duplex=Zm(),t.Transform=jg(),t.PassThrough=function(){if(dg)return hg;dg=1,hg=t;var e=jg();function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return bd()(t,e),t.prototype._transform=function(e,t,n){n(null,e)},hg}(),t.finished=Lg(),t.pipeline=Bg(),t.Stream=t,t.prototype.pipe=function(t,n){var r=this;function o(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",o),t.on("drain",i),t._isStdio||n&&!1===n.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,t.end())}function c(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function l(t){if(u(),0===e.listenerCount(this,"error"))throw t}function u(){r.removeListener("data",o),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",l),t.on("error",l),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t},mg}function zg(){return yg||(yg=1,function(e){e.parser=function(e,t){return new r(e,t)},e.SAXParser=r,e.SAXStream=i,e.createStream=function(e,t){return new i(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(t,o){if(!(this instanceof r))return new r(t,o);var i=this;!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=o||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=b.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(u)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),x(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){A(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return T(r,"Cannot write after close. Assign an onready handler.");if(null===t)return A(r);"object"===typeof t&&(t=t.toString());for(var o=0,i="";i=D(t,o++),r.c=i,i;)switch(r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++),r.state){case b.BEGIN:if(r.state=b.BEGIN_WHITESPACE,"\ufeff"===i)continue;L(r,i);continue;case b.BEGIN_WHITESPACE:L(r,i);continue;case b.TEXT:if(r.sawRoot&&!r.closedRoot){for(var c=o-1;i&&"<"!==i&&"&"!==i;)(i=D(t,o++))&&r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(c,o-1)}"<"!==i||r.sawRoot&&r.closedRoot&&!r.strict?(m(i)||r.sawRoot&&!r.closedRoot||I(r,"Text data outside of root node."),"&"===i?r.state=b.TEXT_ENTITY:r.textNode+=i):(r.state=b.OPEN_WAKA,r.startTagPosition=r.position);continue;case b.SCRIPT:"<"===i?r.state=b.SCRIPT_ENDING:r.script+=i;continue;case b.SCRIPT_ENDING:"/"===i?r.state=b.CLOSE_TAG:(r.script+="<"+i,r.state=b.SCRIPT);continue;case b.OPEN_WAKA:if("!"===i)r.state=b.SGML_DECL,r.sgmlDecl="";else if(m(i));else if(v(h,i))r.state=b.OPEN_TAG,r.tagName=i;else if("/"===i)r.state=b.CLOSE_TAG,r.tagName="";else if("?"===i)r.state=b.PROC_INST,r.procInstName=r.procInstBody="";else{if(I(r,"Unencoded <"),r.startTagPosition+1<r.position){var l=r.position-r.startTagPosition;i=new Array(l).join(" ")+i}r.textNode+="<"+i,r.state=b.TEXT}continue;case b.SGML_DECL:(r.sgmlDecl+i).toUpperCase()===a?(C(r,"onopencdata"),r.state=b.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+i==="--"?(r.state=b.COMMENT,r.comment="",r.sgmlDecl=""):(r.sgmlDecl+i).toUpperCase()===s?(r.state=b.DOCTYPE,(r.doctype||r.sawRoot)&&I(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===i?(C(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=b.TEXT):g(i)?(r.state=b.SGML_DECL_QUOTED,r.sgmlDecl+=i):r.sgmlDecl+=i;continue;case b.SGML_DECL_QUOTED:i===r.q&&(r.state=b.SGML_DECL,r.q=""),r.sgmlDecl+=i;continue;case b.DOCTYPE:">"===i?(r.state=b.TEXT,C(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=i,"["===i?r.state=b.DOCTYPE_DTD:g(i)&&(r.state=b.DOCTYPE_QUOTED,r.q=i));continue;case b.DOCTYPE_QUOTED:r.doctype+=i,i===r.q&&(r.q="",r.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:r.doctype+=i,"]"===i?r.state=b.DOCTYPE:g(i)&&(r.state=b.DOCTYPE_DTD_QUOTED,r.q=i);continue;case b.DOCTYPE_DTD_QUOTED:r.doctype+=i,i===r.q&&(r.state=b.DOCTYPE_DTD,r.q="");continue;case b.COMMENT:"-"===i?r.state=b.COMMENT_ENDING:r.comment+=i;continue;case b.COMMENT_ENDING:"-"===i?(r.state=b.COMMENT_ENDED,r.comment=S(r.opt,r.comment),r.comment&&C(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+i,r.state=b.COMMENT);continue;case b.COMMENT_ENDED:">"!==i?(I(r,"Malformed comment"),r.comment+="--"+i,r.state=b.COMMENT):r.state=b.TEXT;continue;case b.CDATA:"]"===i?r.state=b.CDATA_ENDING:r.cdata+=i;continue;case b.CDATA_ENDING:"]"===i?r.state=b.CDATA_ENDING_2:(r.cdata+="]"+i,r.state=b.CDATA);continue;case b.CDATA_ENDING_2:">"===i?(r.cdata&&C(r,"oncdata",r.cdata),C(r,"onclosecdata"),r.cdata="",r.state=b.TEXT):"]"===i?r.cdata+="]":(r.cdata+="]]"+i,r.state=b.CDATA);continue;case b.PROC_INST:"?"===i?r.state=b.PROC_INST_ENDING:m(i)?r.state=b.PROC_INST_BODY:r.procInstName+=i;continue;case b.PROC_INST_BODY:if(!r.procInstBody&&m(i))continue;"?"===i?r.state=b.PROC_INST_ENDING:r.procInstBody+=i;continue;case b.PROC_INST_ENDING:">"===i?(C(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=b.TEXT):(r.procInstBody+="?"+i,r.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:v(d,i)?r.tagName+=i:(E(r),">"===i?N(r):"/"===i?r.state=b.OPEN_TAG_SLASH:(m(i)||I(r,"Invalid character in tag name"),r.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:">"===i?(N(r,!0),O(r)):(I(r,"Forward-slash in opening tag not followed by >"),r.state=b.ATTRIB);continue;case b.ATTRIB:if(m(i))continue;">"===i?N(r):"/"===i?r.state=b.OPEN_TAG_SLASH:v(h,i)?(r.attribName=i,r.attribValue="",r.state=b.ATTRIB_NAME):I(r,"Invalid attribute name");continue;case b.ATTRIB_NAME:"="===i?r.state=b.ATTRIB_VALUE:">"===i?(I(r,"Attribute without value"),r.attribValue=r.attribName,R(r),N(r)):m(i)?r.state=b.ATTRIB_NAME_SAW_WHITE:v(d,i)?r.attribName+=i:I(r,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if("="===i)r.state=b.ATTRIB_VALUE;else{if(m(i))continue;I(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",C(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===i?N(r):v(h,i)?(r.attribName=i,r.state=b.ATTRIB_NAME):(I(r,"Invalid attribute name"),r.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(m(i))continue;g(i)?(r.q=i,r.state=b.ATTRIB_VALUE_QUOTED):(I(r,"Unquoted attribute value"),r.state=b.ATTRIB_VALUE_UNQUOTED,r.attribValue=i);continue;case b.ATTRIB_VALUE_QUOTED:if(i!==r.q){"&"===i?r.state=b.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=i;continue}R(r),r.q="",r.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:m(i)?r.state=b.ATTRIB:">"===i?N(r):"/"===i?r.state=b.OPEN_TAG_SLASH:v(h,i)?(I(r,"No whitespace between attributes"),r.attribName=i,r.attribValue="",r.state=b.ATTRIB_NAME):I(r,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!y(i)){"&"===i?r.state=b.ATTRIB_VALUE_ENTITY_U:r.attribValue+=i;continue}R(r),">"===i?N(r):r.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(r.tagName)">"===i?O(r):v(d,i)?r.tagName+=i:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=b.SCRIPT):(m(i)||I(r,"Invalid tagname in closing tag"),r.state=b.CLOSE_TAG_SAW_WHITE);else{if(m(i))continue;w(h,i)?r.script?(r.script+="</"+i,r.state=b.SCRIPT):I(r,"Invalid tagname in closing tag."):r.tagName=i}continue;case b.CLOSE_TAG_SAW_WHITE:if(m(i))continue;">"===i?O(r):I(r,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var u,k;switch(r.state){case b.TEXT_ENTITY:u=b.TEXT,k="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:u=b.ATTRIB_VALUE_QUOTED,k="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:u=b.ATTRIB_VALUE_UNQUOTED,k="attribValue"}";"===i?(r[k]+=M(r),r.entity="",r.state=u):v(r.entity.length?p:f,i)?r.entity+=i:(I(r,"Invalid character in entity name"),r[k]+="&"+r.entity+i,r.entity="",r.state=u);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),o=0,i=0,a=n.length;i<a;i++){var s=t[n[i]].length;if(s>r)switch(n[i]){case"textNode":_(t);break;case"cdata":C(t,"oncdata",t.cdata),t.cdata="";break;case"script":C(t,"onscript",t.script),t.script="";break;default:T(t,"Max buffer length exceeded: "+n[i])}o=Math.max(o,s)}var c=e.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=c+t.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;_(e=this),""!==e.cdata&&(C(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(C(e,"onscript",e.script),e.script="")}};try{t=Ug().Stream}catch(F){t=function(){}}var o=e.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function i(e,n){if(!(this instanceof i))return new i(e,n);t.apply(this),this._parser=new r(e,n),this.writable=!0,this.readable=!0;var a=this;this._parser.onend=function(){a.emit("end")},this._parser.onerror=function(e){a.emit("error",e),a._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(a,"on"+e,{get:function(){return a._parser["on"+e]},set:function(t){if(!t)return a.removeAllListeners(e),a._parser["on"+e]=t,t;a.on(e,t)},enumerable:!0,configurable:!1})})}i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype.write=function(e){if("function"===typeof Buffer&&"function"===typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=Mg().StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},i.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},i.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var a="[CDATA[",s="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/2000/xmlns/",u={xml:c,xmlns:l},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function g(e){return'"'===e||"'"===e}function y(e){return">"===e||m(e)}function v(e,t){return e.test(t)}function w(e,t){return!v(e,t)}var b=0;for(var k in e.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var n=e.ENTITIES[t],r="number"===typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r}),e.STATE)e.STATE[e.STATE[k]]=k;function x(e,t,n){e[t]&&e[t](n)}function C(e,t,n){e.textNode&&_(e),x(e,t,n)}function _(e){e.textNode=S(e.opt,e.textNode),e.textNode&&x(e,"ontext",e.textNode),e.textNode=""}function S(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function T(e,t){return _(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,x(e,"onerror",t),e}function A(e){return e.sawRoot&&!e.closedRoot&&I(e,"Unclosed root tag"),e.state!==b.BEGIN&&e.state!==b.BEGIN_WHITESPACE&&e.state!==b.TEXT&&T(e,"Unexpected end"),_(e),e.c="",e.closed=!0,x(e,"onend"),r.call(e,e.strict,e.opt),e}function I(e,t){if("object"!==typeof e||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&T(e,t)}function E(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,C(e,"onopentagstart",n)}function P(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],o=n[1];return t&&"xmlns"===e&&(r="xmlns",o=""),{prefix:r,local:o}}function R(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=P(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==c)I(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==l)I(e,"xmlns: prefix must be bound to "+l+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=Object.create(i.ns)),o.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,C(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function N(e,t){if(e.opt.xmlns){var n=e.tag,r=P(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(I(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var o=e.tags[e.tags.length-1]||e;n.ns&&o.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){C(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var i=0,a=e.attribList.length;i<a;i++){var s=e.attribList[i],c=s[0],l=s[1],u=P(c,!0),h=u.prefix,d=u.local,f=""===h?"":n.ns[h]||"",p={name:c,value:l,prefix:h,local:d,uri:f};h&&"xmlns"!==h&&!f&&(I(e,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),e.tag.attributes[c]=p,C(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),C(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=b.TEXT:e.state=b.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function O(e){if(!e.tagName)return I(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=b.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=b.SCRIPT);C(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)I(e,"Unexpected close tag");if(t<0)return I(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=b.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,C(e,"onclosetag",e.tagName);var a={};for(var s in i.ns)a[s]=i.ns[s];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==c.ns&&Object.keys(i.ns).forEach(function(t){var n=i.ns[t];C(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=b.TEXT}function M(e){var t,n=e.entity,r=n.toLowerCase(),o="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),o=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),o=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==n?(I(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function L(e,t){"<"===t?(e.state=b.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(I(e,"Non-whitespace before first tag."),e.textNode=t,e.state=b.TEXT)}function D(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}b=e.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,o=[],i=-1,a=arguments.length;if(!a)return"";for(var s="";++i<a;){var c=Number(arguments[i]);if(!isFinite(c)||c<0||c>1114111||t(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?o.push(c):(n=55296+((c-=65536)>>10),r=c%1024+56320,o.push(n,r)),(i+1===a||o.length>16384)&&(s+=e.apply(null,o),o.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(md)),md}function qg(){return wg?vg:(wg=1,vg={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}})}function Hg(){if(kg)return bg;kg=1;var e=qg().isArray;return bg={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){e in t&&"boolean"===typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!==typeof e.spaces&&"string"!==typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"===typeof t.alwaysArray||e(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"===typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}}function Kg(){if(Cg)return xg;Cg=1;var e,t,n=zg(),r=Hg(),o=qg().isArray;function i(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function a(n,r){var i;if(e.compact){if(!t[e[n+"Key"]]&&(o(e.alwaysArray)?-1!==e.alwaysArray.indexOf(e[n+"Key"]):e.alwaysArray)&&(t[e[n+"Key"]]=[]),t[e[n+"Key"]]&&!o(t[e[n+"Key"]])&&(t[e[n+"Key"]]=[t[e[n+"Key"]]]),n+"Fn"in e&&"string"===typeof r&&(r=e[n+"Fn"](r,t)),"instruction"===n&&("instructionFn"in e||"instructionNameFn"in e))for(i in r)if(r.hasOwnProperty(i))if("instructionFn"in e)r[i]=e.instructionFn(r[i],i,t);else{var a=r[i];delete r[i],r[e.instructionNameFn(i,a,t)]=a}o(t[e[n+"Key"]])?t[e[n+"Key"]].push(r):t[e[n+"Key"]]=r}else{t[e.elementsKey]||(t[e.elementsKey]=[]);var s={};if(s[e.typeKey]=n,"instruction"===n){for(i in r)if(r.hasOwnProperty(i))break;s[e.nameKey]="instructionNameFn"in e?e.instructionNameFn(i,r,t):i,e.instructionHasAttributes?(s[e.attributesKey]=r[i][e.attributesKey],"instructionFn"in e&&(s[e.attributesKey]=e.instructionFn(s[e.attributesKey],i,t))):("instructionFn"in e&&(r[i]=e.instructionFn(r[i],i,t)),s[e.instructionKey]=r[i])}else n+"Fn"in e&&(r=e[n+"Fn"](r,t)),s[e[n+"Key"]]=r;e.addParent&&(s[e.parentKey]=t),t[e.elementsKey].push(s)}}function s(n){var r;if("attributesFn"in e&&n&&(n=e.attributesFn(n,t)),(e.trim||"attributeValueFn"in e||"attributeNameFn"in e||e.nativeTypeAttributes)&&n)for(r in n)if(n.hasOwnProperty(r)&&(e.trim&&(n[r]=n[r].trim()),e.nativeTypeAttributes&&(n[r]=i(n[r])),"attributeValueFn"in e&&(n[r]=e.attributeValueFn(n[r],r,t)),"attributeNameFn"in e)){var o=n[r];delete n[r],n[e.attributeNameFn(r,n[r],t)]=o}return n}function c(n){var r={};if(n.body&&("xml"===n.name.toLowerCase()||e.instructionHasAttributes)){for(var o,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(o=i.exec(n.body));)r[o[1]]=o[2]||o[3]||o[4];r=s(r)}if("xml"===n.name.toLowerCase()){if(e.ignoreDeclaration)return;t[e.declarationKey]={},Object.keys(r).length&&(t[e.declarationKey][e.attributesKey]=r),e.addParent&&(t[e.declarationKey][e.parentKey]=t)}else{if(e.ignoreInstruction)return;e.trim&&(n.body=n.body.trim());var c={};e.instructionHasAttributes&&Object.keys(r).length?(c[n.name]={},c[n.name][e.attributesKey]=r):c[n.name]=n.body,a("instruction",c)}}function l(n,r){var i;if("object"===typeof n&&(r=n.attributes,n=n.name),r=s(r),"elementNameFn"in e&&(n=e.elementNameFn(n,t)),e.compact){var a;if(i={},!e.ignoreAttributes&&r&&Object.keys(r).length)for(a in i[e.attributesKey]={},r)r.hasOwnProperty(a)&&(i[e.attributesKey][a]=r[a]);!(n in t)&&(o(e.alwaysArray)?-1!==e.alwaysArray.indexOf(n):e.alwaysArray)&&(t[n]=[]),t[n]&&!o(t[n])&&(t[n]=[t[n]]),o(t[n])?t[n].push(i):t[n]=i}else t[e.elementsKey]||(t[e.elementsKey]=[]),(i={})[e.typeKey]="element",i[e.nameKey]=n,!e.ignoreAttributes&&r&&Object.keys(r).length&&(i[e.attributesKey]=r),e.alwaysChildren&&(i[e.elementsKey]=[]),t[e.elementsKey].push(i);i[e.parentKey]=t,t=i}function u(t){e.ignoreText||(t.trim()||e.captureSpacesBetweenElements)&&(e.trim&&(t=t.trim()),e.nativeType&&(t=i(t)),e.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",t))}function h(t){e.ignoreComment||(e.trim&&(t=t.trim()),a("comment",t))}function d(n){var r=t[e.parentKey];e.addParent||delete t[e.parentKey],t=r}function f(t){e.ignoreCdata||(e.trim&&(t=t.trim()),a("cdata",t))}function p(t){e.ignoreDoctype||(t=t.replace(/^ /,""),e.trim&&(t=t.trim()),a("doctype",t))}function m(e){e.note=e}return xg=function(o,i){var a=n.parser(!0,{}),s={};if(t=s,e=function(t){return e=r.copyOptions(t),r.ensureFlagExists("ignoreDeclaration",e),r.ensureFlagExists("ignoreInstruction",e),r.ensureFlagExists("ignoreAttributes",e),r.ensureFlagExists("ignoreText",e),r.ensureFlagExists("ignoreComment",e),r.ensureFlagExists("ignoreCdata",e),r.ensureFlagExists("ignoreDoctype",e),r.ensureFlagExists("compact",e),r.ensureFlagExists("alwaysChildren",e),r.ensureFlagExists("addParent",e),r.ensureFlagExists("trim",e),r.ensureFlagExists("nativeType",e),r.ensureFlagExists("nativeTypeAttributes",e),r.ensureFlagExists("sanitize",e),r.ensureFlagExists("instructionHasAttributes",e),r.ensureFlagExists("captureSpacesBetweenElements",e),r.ensureAlwaysArrayExists(e),r.ensureKeyExists("declaration",e),r.ensureKeyExists("instruction",e),r.ensureKeyExists("attributes",e),r.ensureKeyExists("text",e),r.ensureKeyExists("comment",e),r.ensureKeyExists("cdata",e),r.ensureKeyExists("doctype",e),r.ensureKeyExists("type",e),r.ensureKeyExists("name",e),r.ensureKeyExists("elements",e),r.ensureKeyExists("parent",e),r.checkFnExists("doctype",e),r.checkFnExists("instruction",e),r.checkFnExists("cdata",e),r.checkFnExists("comment",e),r.checkFnExists("text",e),r.checkFnExists("instructionName",e),r.checkFnExists("elementName",e),r.checkFnExists("attributeName",e),r.checkFnExists("attributeValue",e),r.checkFnExists("attributes",e),e}(i),a.opt={strictEntities:!0},a.onopentag=l,a.ontext=u,a.oncomment=h,a.onclosetag=d,a.onerror=m,a.oncdata=f,a.ondoctype=p,a.onprocessinginstruction=c,a.write(o).close(),s[e.elementsKey]){var g=s[e.elementsKey];delete s[e.elementsKey],s[e.elementsKey]=g,delete s.text}return s}}function Wg(){if(Sg)return _g;Sg=1;var e=Hg(),t=Kg();return _g=function(n,r){var o,i,a;return o=function(t){var n=e.copyOptions(t);return e.ensureSpacesExists(n),n}(r),i=t(n,o),a="compact"in o&&o.compact?"_parent":"parent",("addParent"in o&&o.addParent?JSON.stringify(i,function(e,t){return e===a?"_":t},o.spaces):JSON.stringify(i,null,o.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}}function Vg(){if(Ag)return Tg;Ag=1;var e,t,n=Hg(),r=qg().isArray;function o(e,t,n){return(!n&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function i(n,r,i){if(r.ignoreAttributes)return"";"attributesFn"in r&&(n=r.attributesFn(n,t,e));var a,s,c,l,u=[];for(a in n)n.hasOwnProperty(a)&&null!==n[a]&&void 0!==n[a]&&(l=r.noQuotesForNativeAttributes&&"string"!==typeof n[a]?"":'"',s=(s=""+n[a]).replace(/"/g,"&quot;"),c="attributeNameFn"in r?r.attributeNameFn(a,s,t,e):a,u.push(r.spaces&&r.indentAttributes?o(r,i+1,!1):" "),u.push(c+"="+l+("attributeValueFn"in r?r.attributeValueFn(s,a,t,e):s)+l));return n&&Object.keys(n).length&&r.spaces&&r.indentAttributes&&u.push(o(r,i,!1)),u.join("")}function a(n,r,o){return e=n,t="xml",r.ignoreDeclaration?"":"<?xml"+i(n[r.attributesKey],r,o)+"?>"}function s(n,r,o){if(r.ignoreInstruction)return"";var a;for(a in n)if(n.hasOwnProperty(a))break;var s="instructionNameFn"in r?r.instructionNameFn(a,n[a],t,e):a;if("object"===typeof n[a])return e=n,t=s,"<?"+s+i(n[a][r.attributesKey],r,o)+"?>";var c=n[a]?n[a]:"";return"instructionFn"in r&&(c=r.instructionFn(c,a,t,e)),"<?"+s+(c?" "+c:"")+"?>"}function c(n,r){return r.ignoreComment?"":"\x3c!--"+("commentFn"in r?r.commentFn(n,t,e):n)+"--\x3e"}function l(n,r){return r.ignoreCdata?"":"<![CDATA["+("cdataFn"in r?r.cdataFn(n,t,e):n.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function u(n,r){return r.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in r?r.doctypeFn(n,t,e):n)+">"}function h(n,r){return r.ignoreText?"":(n=(n=(n=""+n).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in r?r.textFn(n,t,e):n)}function d(n,r,a,f){return n.reduce(function(n,p){var m=o(r,a,f&&!n);switch(p.type){case"element":return n+m+function(n,r,o){e=n,t=n.name;var a=[],s="elementNameFn"in r?r.elementNameFn(n.name,n):n.name;a.push("<"+s),n[r.attributesKey]&&a.push(i(n[r.attributesKey],r,o));var c=n[r.elementsKey]&&n[r.elementsKey].length||n[r.attributesKey]&&"preserve"===n[r.attributesKey]["xml:space"];return c||(c="fullTagEmptyElementFn"in r?r.fullTagEmptyElementFn(n.name,n):r.fullTagEmptyElement),c?(a.push(">"),n[r.elementsKey]&&n[r.elementsKey].length&&(a.push(d(n[r.elementsKey],r,o+1)),e=n,t=n.name),a.push(r.spaces&&function(e,t){var n;if(e.elements&&e.elements.length)for(n=0;n<e.elements.length;++n)switch(e.elements[n][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;default:return!0}return!1}(n,r)?"\n"+Array(o+1).join(r.spaces):""),a.push("</"+s+">")):a.push("/>"),a.join("")}(p,r,a);case"comment":return n+m+c(p[r.commentKey],r);case"doctype":return n+m+u(p[r.doctypeKey],r);case"cdata":return n+(r.indentCdata?m:"")+l(p[r.cdataKey],r);case"text":return n+(r.indentText?m:"")+h(p[r.textKey],r);case"instruction":var g={};return g[p[r.nameKey]]=p[r.attributesKey]?p:p[r.instructionKey],n+(r.indentInstruction?m:"")+s(g,r,a)}},"")}function f(e,t,n){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||n)return!0;break;case t.cdataKey:if(t.indentCdata||n)return!0;break;case t.instructionKey:if(t.indentInstruction||n)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function p(n,r,a,s,c){e=n,t=r;var l="elementNameFn"in a?a.elementNameFn(r,n):r;if("undefined"===typeof n||null===n||""===n)return"fullTagEmptyElementFn"in a&&a.fullTagEmptyElementFn(r,n)||a.fullTagEmptyElement?"<"+l+"></"+l+">":"<"+l+"/>";var u=[];if(r){if(u.push("<"+l),"object"!==typeof n)return u.push(">"+h(n,a)+"</"+l+">"),u.join("");n[a.attributesKey]&&u.push(i(n[a.attributesKey],a,s));var d=f(n,a,!0)||n[a.attributesKey]&&"preserve"===n[a.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in a?a.fullTagEmptyElementFn(r,n):a.fullTagEmptyElement),!d)return u.push("/>"),u.join("");u.push(">")}return u.push(m(n,a,s+1,!1)),e=n,t=r,r&&u.push((c?o(a,s,!1):"")+"</"+l+">"),u.join("")}function m(e,t,n,i){var d,m,g,y=[];for(m in e)if(e.hasOwnProperty(m))for(g=r(e[m])?e[m]:[e[m]],d=0;d<g.length;++d){switch(m){case t.declarationKey:y.push(a(g[d],t,n));break;case t.instructionKey:y.push((t.indentInstruction?o(t,n,i):"")+s(g[d],t,n));break;case t.attributesKey:case t.parentKey:break;case t.textKey:y.push((t.indentText?o(t,n,i):"")+h(g[d],t));break;case t.cdataKey:y.push((t.indentCdata?o(t,n,i):"")+l(g[d],t));break;case t.doctypeKey:y.push(o(t,n,i)+u(g[d],t));break;case t.commentKey:y.push(o(t,n,i)+c(g[d],t));break;default:y.push(o(t,n,i)+p(g[d],m,t,n,f(g[d],t)))}i=i&&!y.length}return y.join("")}return Tg=function(r,o){o=function(e){var t=n.copyOptions(e);return n.ensureFlagExists("ignoreDeclaration",t),n.ensureFlagExists("ignoreInstruction",t),n.ensureFlagExists("ignoreAttributes",t),n.ensureFlagExists("ignoreText",t),n.ensureFlagExists("ignoreComment",t),n.ensureFlagExists("ignoreCdata",t),n.ensureFlagExists("ignoreDoctype",t),n.ensureFlagExists("compact",t),n.ensureFlagExists("indentText",t),n.ensureFlagExists("indentCdata",t),n.ensureFlagExists("indentAttributes",t),n.ensureFlagExists("indentInstruction",t),n.ensureFlagExists("fullTagEmptyElement",t),n.ensureFlagExists("noQuotesForNativeAttributes",t),n.ensureSpacesExists(t),"number"===typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),n.ensureKeyExists("declaration",t),n.ensureKeyExists("instruction",t),n.ensureKeyExists("attributes",t),n.ensureKeyExists("text",t),n.ensureKeyExists("comment",t),n.ensureKeyExists("cdata",t),n.ensureKeyExists("doctype",t),n.ensureKeyExists("type",t),n.ensureKeyExists("name",t),n.ensureKeyExists("elements",t),n.checkFnExists("doctype",t),n.checkFnExists("instruction",t),n.checkFnExists("cdata",t),n.checkFnExists("comment",t),n.checkFnExists("text",t),n.checkFnExists("instructionName",t),n.checkFnExists("elementName",t),n.checkFnExists("attributeName",t),n.checkFnExists("attributeValue",t),n.checkFnExists("attributes",t),n.checkFnExists("fullTagEmptyElement",t),t}(o);var i=[];return e=r,t="_root_",o.compact?i.push(m(r,o,0,!0)):(r[o.declarationKey]&&i.push(a(r[o.declarationKey],o,0)),r[o.elementsKey]&&r[o.elementsKey].length&&i.push(d(r[o.elementsKey],o,0,!i.length))),i.join("")}}var Gg=function(){if(Rg)return Pg;Rg=1;var e=Kg(),t=Wg(),n=Vg(),r=function(){if(Eg)return Ig;Eg=1;var e=Vg();return Ig=function(t,n){t instanceof Buffer&&(t=t.toString());var r=null;if("string"===typeof t)try{r=JSON.parse(t)}catch(o){throw new Error("The JSON structure is invalid")}else r=t;return e(r,n)}}();return Pg={xml2js:e,xml2json:t,js2xml:n,json2xml:r}}();const Qg=e=>{switch(e.type){case void 0:case"element":const t=new Jg(e.name,e.attributes),n=e.elements||[];for(const e of n){const n=Qg(e);void 0!==n&&t.push(n)}return t;case"text":return e.text;default:return}};class Yg extends ld{}class Jg extends sd{static fromXmlString(e){const t=Gg.xml2js(e,{compact:!1});return Qg(t)}constructor(e,t){super(e),t&&this.root.push(new Yg(t))}push(e){this.root.push(e)}}class Xg extends sd{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class Zg extends sd{constructor(e,t){super(e),t&&(this.root=t.root)}}const $g=e=>{if(isNaN(e))throw new Error("Invalid value '".concat(e,"' specified. Must be an integer."));return Math.floor(e)},ey=e=>{const t=$g(e);if(t<0)throw new Error("Invalid value '".concat(e,"' specified. Must be a positive integer."));return t},ty=(e,t)=>{const n=2*t;if(e.length!==n||isNaN(Number("0x".concat(e))))throw new Error("Invalid hex value '".concat(e,"'. Expected ").concat(n," digit hex value"));return e},ny=e=>ty(e,1),ry=e=>{const t=e.slice(-2),n=e.substring(0,e.length-2);return"".concat(Number(n)).concat(t)},oy=e=>{const t=ry(e);if(parseFloat(t)<0)throw new Error("Invalid value '".concat(t,"' specified. Expected a positive number."));return t},iy=e=>{if("auto"===e)return e;const t="#"===e.charAt(0)?e.substring(1):e;return ty(t,3)},ay=e=>"string"===typeof e?ry(e):$g(e),sy=e=>"string"===typeof e?oy(e):ey(e),cy=e=>"string"===typeof e?oy(e):ey(e),ly=e=>"number"===typeof e?$g(e):"%"===e.slice(-1)?(e=>{const t=e.substring(0,e.length-1);return"".concat(Number(t),"%")})(e):ry(e),uy=ey,hy=ey;class dy extends sd{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(e),!0!==t&&this.root.push(new hd({val:t}))}}class fy extends sd{constructor(e,t){super(e),this.root.push(new hd({val:sy(t)}))}}class py extends sd{constructor(e,t){super(e),this.root.push(new hd({val:t}))}}const my=(e,t)=>new wy({name:e,attributes:{value:{key:"w:val",value:t}}});class gy extends sd{constructor(e,t){super(e),this.root.push(new hd({val:t}))}}class yy extends sd{constructor(e,t){super(e),this.root.push(new hd({val:t}))}}class vy extends sd{constructor(e,t){super(e),this.root.push(t)}}class wy extends sd{constructor(e){let{name:t,attributes:n,children:r}=e;super(t),n&&this.root.push(new ud(n)),r&&this.root.push(...r)}}const by={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class ky extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class xy extends sd{constructor(e){super("w:jc"),this.root.push(new ky({val:e}))}}class Cy extends sd{constructor(e,t){let{color:n,size:r,space:o,style:i}=t;super(e),this.root.push(new _y({style:i,color:void 0===n?void 0:iy(n),size:void 0===r?void 0:uy(r),space:void 0===o?void 0:hy(o)}))}}class _y extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Sy="single",Ty="none";class Ay extends cd{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Cy("w:top",e.top)),e.bottom&&this.root.push(new Cy("w:bottom",e.bottom)),e.left&&this.root.push(new Cy("w:left",e.left)),e.right&&this.root.push(new Cy("w:right",e.right))}}class Iy extends sd{constructor(){super("w:pBdr");const e=new Cy("w:bottom",{color:"auto",space:1,style:Sy,size:6});this.root.push(e)}}class Ey extends sd{constructor(e){let{start:t,end:n,left:r,right:o,hanging:i,firstLine:a}=e;super("w:ind"),this.root.push(new ud({start:{key:"w:start",value:void 0===t?void 0:ay(t)},end:{key:"w:end",value:void 0===n?void 0:ay(n)},left:{key:"w:left",value:void 0===r?void 0:ay(r)},right:{key:"w:right",value:void 0===o?void 0:ay(o)},hanging:{key:"w:hanging",value:void 0===i?void 0:cy(i)},firstLine:{key:"w:firstLine",value:void 0===a?void 0:cy(a)}}))}}let Py=class extends sd{constructor(){super("w:br")}};const Ry="begin",Ny="end",Oy="separate";class My extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Ly extends sd{constructor(e){super("w:fldChar"),this.root.push(new My({type:Ry,dirty:e}))}}class Dy extends sd{constructor(e){super("w:fldChar"),this.root.push(new My({type:Oy,dirty:e}))}}class Fy extends sd{constructor(e){super("w:fldChar"),this.root.push(new My({type:Ny,dirty:e}))}}const jy="default",By="preserve";class Uy extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{space:"xml:space"})}}class zy extends sd{constructor(){super("w:instrText"),this.root.push(new Uy({space:By})),this.root.push("PAGE")}}class qy extends sd{constructor(){super("w:instrText"),this.root.push(new Uy({space:By})),this.root.push("NUMPAGES")}}class Hy extends sd{constructor(){super("w:instrText"),this.root.push(new Uy({space:By})),this.root.push("SECTIONPAGES")}}class Ky extends sd{constructor(){super("w:instrText"),this.root.push(new Uy({space:By})),this.root.push("SECTION")}}class Wy extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Vy extends sd{constructor(e){let{fill:t,color:n,type:r}=e;super("w:shd"),this.root.push(new Wy({fill:void 0===t?void 0:iy(t),color:void 0===n?void 0:iy(n),type:r}))}}class Gy extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const Qy="dot";class Yy extends sd{constructor(e){super("w:em"),this.root.push(new hd({val:e}))}}class Jy extends Yy{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qy)}}class Xy extends sd{constructor(e){super("w:spacing"),this.root.push(new hd({val:ay(e)}))}}class Zy extends sd{constructor(e){super("w:color"),this.root.push(new hd({val:iy(e)}))}}class $y extends sd{constructor(e){super("w:highlight"),this.root.push(new hd({val:e}))}}class ev extends sd{constructor(e){super("w:highlightCs"),this.root.push(new hd({val:e}))}}class tv extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class nv extends sd{constructor(e,t){if(super("w:rFonts"),"string"===typeof e){const n=e;this.root.push(new tv({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const t=e;this.root.push(new tv(t))}}}let rv=class extends sd{constructor(e){super("w:vertAlign"),this.root.push(new hd({val:e}))}};class ov extends rv{constructor(){super("superscript")}}class iv extends rv{constructor(){super("subscript")}}const av="single";class sv extends sd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:av,t=arguments.length>1?arguments[1]:void 0;super("w:u"),this.root.push(new hd({val:e,color:void 0===t?void 0:iy(t)}))}}class cv extends cd{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.style&&this.push(new py("w:rStyle",e.style)),e.font&&("string"===typeof e.font?this.push(new nv(e.font)):"name"in e.font?this.push(new nv(e.font.name,e.font.hint)):this.push(new nv(e.font))),void 0!==e.bold&&this.push(new dy("w:b",e.bold)),(void 0===e.boldComplexScript&&void 0!==e.bold||e.boldComplexScript)&&this.push(new dy("w:bCs",null!=(t=e.boldComplexScript)?t:e.bold)),void 0!==e.italics&&this.push(new dy("w:i",e.italics)),(void 0===e.italicsComplexScript&&void 0!==e.italics||e.italicsComplexScript)&&this.push(new dy("w:iCs",null!=(n=e.italicsComplexScript)?n:e.italics)),void 0!==e.smallCaps?this.push(new dy("w:smallCaps",e.smallCaps)):void 0!==e.allCaps&&this.push(new dy("w:caps",e.allCaps)),void 0!==e.strike&&this.push(new dy("w:strike",e.strike)),void 0!==e.doubleStrike&&this.push(new dy("w:dstrike",e.doubleStrike)),void 0!==e.emboss&&this.push(new dy("w:emboss",e.emboss)),void 0!==e.imprint&&this.push(new dy("w:imprint",e.imprint)),void 0!==e.noProof&&this.push(new dy("w:noProof",e.noProof)),void 0!==e.snapToGrid&&this.push(new dy("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new dy("w:vanish",e.vanish)),e.color&&this.push(new Zy(e.color)),e.characterSpacing&&this.push(new Xy(e.characterSpacing)),void 0!==e.scale&&this.push(new gy("w:w",e.scale)),e.kern&&this.push(new fy("w:kern",e.kern)),e.position&&this.push(new py("w:position",e.position)),void 0!==e.size&&this.push(new fy("w:sz",e.size));const r=void 0===e.sizeComplexScript||!0===e.sizeComplexScript?e.size:e.sizeComplexScript;r&&this.push(new fy("w:szCs",r)),e.highlight&&this.push(new $y(e.highlight));const o=void 0===e.highlightComplexScript||!0===e.highlightComplexScript?e.highlight:e.highlightComplexScript;o&&this.push(new ev(o)),e.underline&&this.push(new sv(e.underline.type,e.underline.color)),e.effect&&this.push(new py("w:effect",e.effect)),e.border&&this.push(new Cy("w:bdr",e.border)),e.shading&&this.push(new Vy(e.shading)),e.subScript&&this.push(new iv),e.superScript&&this.push(new ov),void 0!==e.rightToLeft&&this.push(new dy("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new Jy(e.emphasisMark.type)),e.language&&this.push((e=>new wy({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}}))(e.language)),e.specVanish&&this.push(new dy("w:specVanish",e.vanish)),e.math&&this.push(new dy("w:oMath",e.math)),e.revision&&this.push(new lv(e.revision))}push(e){this.root.push(e)}}class lv extends sd{constructor(e){super("w:rPrChange"),this.root.push(new Gy({id:e.id,author:e.author,date:e.date})),this.addChildElement(new cv(e))}}class uv extends sd{constructor(e){var t;super("w:t"),"string"===typeof e?(this.root.push(new Uy({space:By})),this.root.push(e)):(this.root.push(new Uy({space:null!=(t=e.space)?t:jy})),this.root.push(e.text))}}const hv="CURRENT",dv="TOTAL_PAGES",fv="TOTAL_PAGES_IN_SECTION",pv="SECTION";class mv extends sd{constructor(e){if(super("w:r"),rd(this,"properties"),this.properties=new cv(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new Py);if(e.children)for(const t of e.children)if("string"!==typeof t)this.root.push(t);else switch(t){case hv:this.root.push(new Ly),this.root.push(new zy),this.root.push(new Dy),this.root.push(new Fy);break;case dv:this.root.push(new Ly),this.root.push(new qy),this.root.push(new Dy),this.root.push(new Fy);break;case fv:this.root.push(new Ly),this.root.push(new Hy),this.root.push(new Dy),this.root.push(new Fy);break;case pv:this.root.push(new Ly),this.root.push(new Ky),this.root.push(new Dy),this.root.push(new Fy);break;default:this.root.push(new uv(t))}else void 0!==e.text&&this.root.push(new uv(e.text))}}class gv extends mv{constructor(e){super("string"===typeof e?{text:e}:e)}}var yv,vv,wv,bv={},kv={};function xv(){if(vv)return yv;function e(e,t){if(!e)throw new Error(t||"Assertion failed")}return vv=1,yv=e,e.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)},yv}function Cv(){if(wv)return kv;wv=1;var e=xv(),t=bd();function n(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function r(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function i(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}return kv.inherits=t,kv.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var o=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[o++]=a:a<2048?(r[o++]=a>>6|192,r[o++]=63&a|128):n(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[o++]=a>>18|240,r[o++]=a>>12&63|128,r[o++]=a>>6&63|128,r[o++]=63&a|128):(r[o++]=a>>12|224,r[o++]=a>>6&63|128,r[o++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},kv.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n].toString(16));return t},kv.htonl=r,kv.toHex32=function(e,t){for(var n="",o=0;o<e.length;o++){var a=e[o];"little"===t&&(a=r(a)),n+=i(a.toString(16))}return n},kv.zero2=o,kv.zero8=i,kv.join32=function(t,n,r,o){var i=r-n;e(i%4===0);for(var a=new Array(i/4),s=0,c=n;s<a.length;s++,c+=4){var l;l="big"===o?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],a[s]=l>>>0}return a},kv.split32=function(e,t){for(var n=new Array(4*e.length),r=0,o=0;r<e.length;r++,o+=4){var i=e[r];"big"===t?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},kv.rotr32=function(e,t){return e>>>t|e<<32-t},kv.rotl32=function(e,t){return e<<t|e>>>32-t},kv.sum32=function(e,t){return e+t>>>0},kv.sum32_3=function(e,t,n){return e+t+n>>>0},kv.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},kv.sum32_5=function(e,t,n,r,o){return e+t+n+r+o>>>0},kv.sum64=function(e,t,n,r){var o=e[t],i=r+e[t+1]>>>0,a=(i<r?1:0)+n+o;e[t]=a>>>0,e[t+1]=i},kv.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},kv.sum64_lo=function(e,t,n,r){return t+r>>>0},kv.sum64_4_hi=function(e,t,n,r,o,i,a,s){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+i>>>0)<i?1:0,e+n+o+a+(c+=(l=l+s>>>0)<s?1:0)>>>0},kv.sum64_4_lo=function(e,t,n,r,o,i,a,s){return t+r+i+s>>>0},kv.sum64_5_hi=function(e,t,n,r,o,i,a,s,c,l){var u=0,h=t;return u+=(h=h+r>>>0)<t?1:0,u+=(h=h+i>>>0)<i?1:0,u+=(h=h+s>>>0)<s?1:0,e+n+o+a+c+(u+=(h=h+l>>>0)<l?1:0)>>>0},kv.sum64_5_lo=function(e,t,n,r,o,i,a,s,c,l){return t+r+i+s+l>>>0},kv.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},kv.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},kv.shr64_hi=function(e,t,n){return e>>>n},kv.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},kv}var _v,Sv={};function Tv(){if(_v)return Sv;_v=1;var e=Cv(),t=xv();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Sv.BlockHash=n,n.prototype.update=function(t,n){if(t=e.toArray(t,n),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=e.join32(t,0,t.length-r,this.endian);for(var o=0;o<t.length;o+=this._delta32)this._update(t,o,o+this._delta32)}return this},n.prototype.digest=function(e){return this.update(this._pad()),t(null===this.pending),this._digest(e)},n.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=e>>>24&255,r[o++]=e>>>16&255,r[o++]=e>>>8&255,r[o++]=255&e}else for(r[o++]=255&e,r[o++]=e>>>8&255,r[o++]=e>>>16&255,r[o++]=e>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r},Sv}var Av,Iv,Ev,Pv,Rv,Nv,Ov,Mv,Lv,Dv,Fv,jv,Bv={},Uv={};function zv(){if(Av)return Uv;Av=1;var e=Cv().rotr32;function t(e,t,n){return e&t^~e&n}function n(e,t,n){return e&t^e&n^t&n}function r(e,t,n){return e^t^n}return Uv.ft_1=function(e,o,i,a){return 0===e?t(o,i,a):1===e||3===e?r(o,i,a):2===e?n(o,i,a):void 0},Uv.ch32=t,Uv.maj32=n,Uv.p32=r,Uv.s0_256=function(t){return e(t,2)^e(t,13)^e(t,22)},Uv.s1_256=function(t){return e(t,6)^e(t,11)^e(t,25)},Uv.g0_256=function(t){return e(t,7)^e(t,18)^t>>>3},Uv.g1_256=function(t){return e(t,17)^e(t,19)^t>>>10},Uv}function qv(){if(Rv)return Pv;Rv=1;var e=Cv(),t=Tv(),n=zv(),r=xv(),o=e.sum32,i=e.sum32_4,a=e.sum32_5,s=n.ch32,c=n.maj32,l=n.s0_256,u=n.s1_256,h=n.g0_256,d=n.g1_256,f=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(m,f),Pv=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var n=this.W,f=0;f<16;f++)n[f]=e[t+f];for(;f<n.length;f++)n[f]=i(d(n[f-2]),n[f-7],h(n[f-15]),n[f-16]);var p=this.h[0],m=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],w=this.h[5],b=this.h[6],k=this.h[7];for(r(this.k.length===n.length),f=0;f<n.length;f++){var x=a(k,u(v),s(v,w,b),this.k[f],n[f]),C=o(l(p),c(p,m,g));k=b,b=w,w=v,v=o(y,x),y=g,g=m,m=p,p=o(x,C)}this.h[0]=o(this.h[0],p),this.h[1]=o(this.h[1],m),this.h[2]=o(this.h[2],g),this.h[3]=o(this.h[3],y),this.h[4]=o(this.h[4],v),this.h[5]=o(this.h[5],w),this.h[6]=o(this.h[6],b),this.h[7]=o(this.h[7],k)},m.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Pv}function Hv(){if(Lv)return Mv;Lv=1;var e=Cv(),t=Tv(),n=xv(),r=e.rotr64_hi,o=e.rotr64_lo,i=e.shr64_hi,a=e.shr64_lo,s=e.sum64,c=e.sum64_hi,l=e.sum64_lo,u=e.sum64_4_hi,h=e.sum64_4_lo,d=e.sum64_5_hi,f=e.sum64_5_lo,p=t.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function y(e,t,n,r,o){var i=e&n^~e&o;return i<0&&(i+=4294967296),i}function v(e,t,n,r,o,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function w(e,t,n,r,o){var i=e&n^e&o^n&o;return i<0&&(i+=4294967296),i}function b(e,t,n,r,o,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function k(e,t){var n=r(e,t,28)^r(t,e,2)^r(t,e,7);return n<0&&(n+=4294967296),n}function x(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=r(e,t,14)^r(e,t,18)^r(t,e,9);return n<0&&(n+=4294967296),n}function _(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function S(e,t){var n=r(e,t,1)^r(e,t,8)^i(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=o(e,t,1)^o(e,t,8)^a(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=r(e,t,19)^r(t,e,29)^i(e,t,6);return n<0&&(n+=4294967296),n}function I(e,t){var n=o(e,t,19)^o(t,e,29)^a(e,t,6);return n<0&&(n+=4294967296),n}return e.inherits(g,p),Mv=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var o=A(n[r-4],n[r-3]),i=I(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],c=S(n[r-30],n[r-29]),l=T(n[r-30],n[r-29]),d=n[r-32],f=n[r-31];n[r]=u(o,i,a,s,c,l,d,f),n[r+1]=h(o,i,a,s,c,l,d,f)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,o=this.h[0],i=this.h[1],a=this.h[2],u=this.h[3],h=this.h[4],p=this.h[5],m=this.h[6],g=this.h[7],S=this.h[8],T=this.h[9],A=this.h[10],I=this.h[11],E=this.h[12],P=this.h[13],R=this.h[14],N=this.h[15];n(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var M=R,L=N,D=C(S,T),F=_(S,T),j=y(S,T,A,I,E),B=v(S,T,A,I,E,P),U=this.k[O],z=this.k[O+1],q=r[O],H=r[O+1],K=d(M,L,D,F,j,B,U,z,q,H),W=f(M,L,D,F,j,B,U,z,q,H);M=k(o,i),L=x(o,i),D=w(o,i,a,u,h),F=b(o,i,a,u,h,p);var V=c(M,L,D,F),G=l(M,L,D,F);R=E,N=P,E=A,P=I,A=S,I=T,S=c(m,g,K,W),T=l(g,g,K,W),m=h,g=p,h=a,p=u,a=o,u=i,o=c(K,W,V,G),i=l(K,W,V,G)}s(this.h,0,o,i),s(this.h,2,a,u),s(this.h,4,h,p),s(this.h,6,m,g),s(this.h,8,S,T),s(this.h,10,A,I),s(this.h,12,E,P),s(this.h,14,R,N)},g.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Mv}function Kv(){return jv||(jv=1,Bv.sha1=function(){if(Ev)return Iv;Ev=1;var e=Cv(),t=Tv(),n=zv(),r=e.rotl32,o=e.sum32,i=e.sum32_5,a=n.ft_1,s=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(l,s),Iv=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.W,s=0;s<16;s++)n[s]=e[t+s];for(;s<n.length;s++)n[s]=r(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var l=this.h[0],u=this.h[1],h=this.h[2],d=this.h[3],f=this.h[4];for(s=0;s<n.length;s++){var p=~~(s/20),m=i(r(l,5),a(p,u,h,d),f,n[s],c[p]);f=d,d=h,h=r(u,30),u=l,l=m}this.h[0]=o(this.h[0],l),this.h[1]=o(this.h[1],u),this.h[2]=o(this.h[2],h),this.h[3]=o(this.h[3],d),this.h[4]=o(this.h[4],f)},l.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Iv}(),Bv.sha224=function(){if(Ov)return Nv;Ov=1;var e=Cv(),t=qv();function n(){if(!(this instanceof n))return new n;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(n,t),Nv=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},Nv}(),Bv.sha256=qv(),Bv.sha384=function(){if(Fv)return Dv;Fv=1;var e=Cv(),t=Hv();function n(){if(!(this instanceof n))return new n;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(n,t),Dv=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},Dv}(),Bv.sha512=Hv()),Bv}var Wv,Vv,Gv,Qv,Yv={};const Jv=fd((Qv||(Qv=1,function(e){var t=e;t.utils=Cv(),t.common=Tv(),t.sha=Kv(),t.ripemd=function(){if(Wv)return Yv;Wv=1;var e=Cv(),t=Tv(),n=e.rotl32,r=e.sum32,o=e.sum32_3,i=e.sum32_4,a=t.BlockHash;function s(){if(!(this instanceof s))return new s;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function u(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}e.inherits(s,a),Yv.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(e,t){for(var a=this.h[0],s=this.h[1],m=this.h[2],g=this.h[3],y=this.h[4],v=a,w=s,b=m,k=g,x=y,C=0;C<80;C++){var _=r(n(i(a,c(C,s,m,g),e[h[C]+t],l(C)),f[C]),y);a=y,y=g,g=n(m,10),m=s,s=_,_=r(n(i(v,c(79-C,w,b,k),e[d[C]+t],u(C)),p[C]),x),v=x,x=k,k=n(b,10),b=w,w=_}_=o(this.h[1],m,k),this.h[1]=o(this.h[2],g,x),this.h[2]=o(this.h[3],y,v),this.h[3]=o(this.h[4],a,w),this.h[4]=o(this.h[0],s,b),this.h[0]=_},s.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"little"):e.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Yv}(),t.hmac=function(){if(Gv)return Vv;Gv=1;var e=Cv(),t=xv();function n(t,r,o){if(!(this instanceof n))return new n(t,r,o);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(r,o))}return Vv=n,n.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),t(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=(new this.Hash).update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=(new this.Hash).update(e)},n.prototype.update=function(e,t){return this.inner.update(e,t),this},n.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},Vv}(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(bv)),bv));const Xv=e=>Math.floor(72*e*20),Zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return()=>++e},$v=()=>function(){let e="",t=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:21);for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}().toLowerCase(),ew=e=>Jv.sha1().update(e instanceof ArrayBuffer?new Uint8Array(e):e).digest("hex"),tw=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){let n="",r=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t);for(;r--;)n+=e[Math.random()*e.length|0];return n}}("1234567890abcdef",e)(),nw="page",rw="page",ow=e=>new wy({name:"wp:align",children:[e]}),iw=e=>new wy({name:"wp:posOffset",children:[e.toString()]});class aw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{uri:"uri"})}}const sw=e=>new wy({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:"rId{".concat(e.fileName,"}")}}}),cw=e=>new wy({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[sw(e)]}),lw=e=>new wy({name:"a:extLst",children:[cw(e)]});class uw extends sd{constructor(){super("a:srcRect")}}class hw extends sd{constructor(){super("a:fillRect")}}class dw extends sd{constructor(){super("a:stretch"),this.root.push(new hw)}}class fw extends sd{constructor(e){super("pic:blipFill"),this.root.push((e=>new wy({name:"a:blip",attributes:{embed:{key:"r:embed",value:"rId{".concat("svg"===e.type?e.fallback.fileName:e.fileName,"}")},cstate:{key:"cstate",value:"none"}},children:"svg"===e.type?[lw(e)]:[]}))(e)),this.root.push(new uw),this.root.push(new dw)}}class pw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}}class mw extends sd{constructor(){super("a:picLocks"),this.root.push(new pw({noChangeAspect:1,noChangeArrowheads:1}))}}class gw extends sd{constructor(){super("pic:cNvPicPr"),this.root.push(new mw)}}const yw=(e,t)=>new wy({name:"a:hlinkClick",attributes:nd(td({},t?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:"rId".concat(e)}})});class vw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}}class ww extends sd{constructor(){super("pic:cNvPr"),this.root.push(new vw({id:0,name:"",descr:""}))}prepForXml(e){for(let t=e.stack.length-1;t>=0;t--){const n=e.stack[t];if(n instanceof Mb){this.root.push(yw(n.linkId,!1));break}}return super.prepForXml(e)}}class bw extends sd{constructor(){super("pic:nvPicPr"),this.root.push(new ww),this.root.push(new gw)}}class kw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{xmlns:"xmlns:pic"})}}class xw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{cx:"cx",cy:"cy"})}}class Cw extends sd{constructor(e,t){super("a:ext"),rd(this,"attributes"),this.attributes=new xw({cx:e,cy:t}),this.root.push(this.attributes)}}class _w extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{x:"x",y:"y"})}}class Sw extends sd{constructor(){super("a:off"),this.root.push(new _w({x:0,y:0}))}}class Tw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}}class Aw extends sd{constructor(e){var t,n;super("a:xfrm"),rd(this,"extents"),this.root.push(new Tw({flipVertical:null==(t=e.flip)?void 0:t.vertical,flipHorizontal:null==(n=e.flip)?void 0:n.horizontal,rotation:e.rotation})),this.extents=new Cw(e.emus.x,e.emus.y),this.root.push(new Sw),this.root.push(this.extents)}}const Iw=()=>new wy({name:"a:noFill"}),Ew=e=>new wy({name:"a:srgbClr",attributes:{value:{key:"val",value:e.value}}}),Pw=e=>new wy({name:"a:schemeClr",attributes:{value:{key:"val",value:e.value}}}),Rw=e=>new wy({name:"a:solidFill",children:["rgb"===e.type?Ew(e):Pw(e)]});class Nw extends sd{constructor(){super("a:avLst")}}class Ow extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{prst:"prst"})}}class Mw extends sd{constructor(){super("a:prstGeom"),this.root.push(new Ow({prst:"rect"})),this.root.push(new Nw)}}class Lw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{bwMode:"bwMode"})}}class Dw extends sd{constructor(e){let{outline:t,transform:n}=e;var r;super("pic:spPr"),rd(this,"form"),this.root.push(new Lw({bwMode:"auto"})),this.form=new Aw(n),this.root.push(this.form),this.root.push(new Mw),t&&(this.root.push(Iw()),this.root.push(new wy({name:"a:ln",attributes:{width:{key:"w",value:(r=t).width},cap:{key:"cap",value:r.cap},compoundLine:{key:"cmpd",value:r.compoundLine},align:{key:"algn",value:r.align}},children:["noFill"===r.type?Iw():"rgb"===r.solidFillType?Rw({type:"rgb",value:r.value}):Rw({type:"scheme",value:r.value})]})))}}class Fw extends sd{constructor(e){let{mediaData:t,transform:n,outline:r}=e;super("pic:pic"),this.root.push(new kw({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new bw),this.root.push(new fw(t)),this.root.push(new Dw({transform:n,outline:r}))}}class jw extends sd{constructor(e){let{mediaData:t,transform:n,outline:r}=e;super("a:graphicData"),rd(this,"pic"),this.root.push(new aw({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new Fw({mediaData:t,transform:n,outline:r}),this.root.push(this.pic)}}class Bw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{a:"xmlns:a"})}}class Uw extends sd{constructor(e){let{mediaData:t,transform:n,outline:r}=e;super("a:graphic"),rd(this,"data"),this.root.push(new Bw({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new jw({mediaData:t,transform:n,outline:r}),this.root.push(this.data)}}const zw=1,qw=2,Hw=3,Kw="bothSides";class Ww extends sd{constructor(){super("wp:wrapNone")}}class Vw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}}class Gw extends sd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,bottom:0,left:0,right:0};super("wp:wrapSquare"),this.root.push(new Vw({wrapText:e.side||Kw,distT:t.top,distB:t.bottom,distL:t.left,distR:t.right}))}}class Qw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Yw extends sd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:0,bottom:0};super("wp:wrapTight"),this.root.push(new Qw({distT:e.top,distB:e.bottom}))}}class Jw extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{distT:"distT",distB:"distB"})}}class Xw extends sd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:0,bottom:0};super("wp:wrapTopAndBottom"),this.root.push(new Jw({distT:e.top,distB:e.bottom}))}}class Zw extends sd{constructor(){let{name:e,description:t,title:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",description:"",title:""};super("wp:docPr"),rd(this,"docPropertiesUniqueNumericId",Zv());const r={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};null!==t&&void 0!==t&&(r.description={key:"descr",value:t}),null!==n&&void 0!==n&&(r.title={key:"title",value:n}),this.root.push(new ud(r))}prepForXml(e){for(let t=e.stack.length-1;t>=0;t--){const n=e.stack[t];if(n instanceof Mb){this.root.push(yw(n.linkId,!0));break}}return super.prepForXml(e)}}const $w=e=>{let{top:t,right:n,bottom:r,left:o}=e;return new wy({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:n},bottom:{key:"b",value:r},left:{key:"l",value:o}}})},eb=e=>{let{x:t,y:n}=e;return new wy({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:n}}})};class tb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}}class nb extends sd{constructor(){super("a:graphicFrameLocks"),this.root.push(new tb({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}const rb=()=>new wy({name:"wp:cNvGraphicFramePr",children:[new nb]});class ob extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}}class ib extends sd{constructor(e){let{mediaData:t,transform:n,drawingOptions:r}=e;super("wp:anchor");const o=td({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},r.floating);if(this.root.push(new ob({distT:o.margins&&o.margins.top||0,distB:o.margins&&o.margins.bottom||0,distL:o.margins&&o.margins.left||0,distR:o.margins&&o.margins.right||0,simplePos:"0",allowOverlap:!0===o.allowOverlap?"1":"0",behindDoc:!0===o.behindDocument?"1":"0",locked:!0===o.lockAnchor?"1":"0",layoutInCell:!0===o.layoutInCell?"1":"0",relativeHeight:o.zIndex?o.zIndex:n.emus.y})),this.root.push(new wy({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}})),this.root.push((e=>{let{relative:t,align:n,offset:r}=e;return new wy({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:null!=t?t:nw}},children:[(()=>{if(n)return ow(n);if(void 0!==r)return iw(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]})})(o.horizontalPosition)),this.root.push((e=>{let{relative:t,align:n,offset:r}=e;return new wy({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:null!=t?t:rw}},children:[(()=>{if(n)return ow(n);if(void 0!==r)return iw(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]})})(o.verticalPosition)),this.root.push(eb({x:n.emus.x,y:n.emus.y})),this.root.push($w({top:0,right:0,bottom:0,left:0})),void 0!==r.floating&&void 0!==r.floating.wrap)switch(r.floating.wrap.type){case zw:this.root.push(new Gw(r.floating.wrap,r.floating.margins));break;case qw:this.root.push(new Yw(r.floating.margins));break;case Hw:this.root.push(new Xw(r.floating.margins));break;default:this.root.push(new Ww)}else this.root.push(new Ww);this.root.push(new Zw(r.docProperties)),this.root.push(rb()),this.root.push(new Uw({mediaData:t,transform:n,outline:r.outline}))}}class ab extends sd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super("w:drawing"),t.floating?this.root.push(new ib({mediaData:e,transform:e.transformation,drawingOptions:t})):this.root.push((e=>{let{mediaData:t,transform:n,docProperties:r,outline:o}=e;var i,a,s,c;return new wy({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[eb({x:n.emus.x,y:n.emus.y}),$w(o?{top:2*(null!=(i=o.width)?i:9525),right:2*(null!=(a=o.width)?a:9525),bottom:2*(null!=(s=o.width)?s:9525),left:2*(null!=(c=o.width)?c:9525)}:{top:0,right:0,bottom:0,left:0}),new Zw(r),rb(),new Uw({mediaData:t,transform:n,outline:o})]})})({mediaData:e,transform:e.transformation,docProperties:t.docProperties,outline:t.outline}))}}const sb=e=>"string"===typeof e?(e=>{if("function"===typeof atob){const t=";base64,",n=e.indexOf(t),r=-1===n?0:n+t.length;return new Uint8Array(atob(e.substring(r)).split("").map(e=>e.charCodeAt(0)))}return new(require("buffer").Buffer)(e,"base64")})(e):e,cb=(e,t)=>({data:sb(e.data),fileName:t,transformation:{pixels:{x:Math.round(e.transformation.width),y:Math.round(e.transformation.height)},emus:{x:Math.round(9525*e.transformation.width),y:Math.round(9525*e.transformation.height)},flip:e.transformation.flip,rotation:e.transformation.rotation?6e4*e.transformation.rotation:void 0}});class lb extends mv{constructor(e){super({}),rd(this,"imageData");const t=ew(e.data),n="".concat(t,".").concat(e.type);this.imageData="svg"===e.type?nd(td({type:e.type},cb(e,n)),{fallback:td({type:e.fallback.type},cb(nd(td({},e.fallback),{transformation:e.transformation}),"".concat(ew(e.fallback.data),".").concat(e.fallback.type)))}):td({type:e.type},cb(e,n));const r=new ab(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(r)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),"svg"===this.imageData.type&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}}class ub extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{xmlns:"xmlns"})}}class hb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const db="External";class fb extends sd{constructor(e,t,n,r){super("Relationship"),this.root.push(new hb({id:e,type:t,target:n,targetMode:r}))}}class pb extends sd{constructor(){super("Relationships"),this.root.push(new ub({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,r){const o=new fb("rId".concat(e),t,n,r);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}}class mb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class gb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class yb extends sd{constructor(e){let{id:t,initials:n,author:r,date:o=new Date,children:i}=e;super("w:comment"),this.root.push(new mb({id:t,initials:n,author:r,date:o.toISOString()}));for(const a of i)this.root.push(a)}}class vb extends sd{constructor(e){let{children:t}=e;super("w:comments"),rd(this,"relationships"),this.root.push(new gb({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const n of t)this.root.push(new yb(n));this.relationships=new pb}get Relationships(){return this.relationships}}class wb extends sd{constructor(){super("w:pageBreakBefore")}}const bb="auto";class kb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class xb extends sd{constructor(e){super("w:spacing"),this.root.push(new kb(e))}}let Cb=class extends sd{constructor(e){super("w:pStyle"),this.root.push(new hd({val:e}))}};class _b extends sd{constructor(e){super("w:tabs");for(const t of e)this.root.push(new Ib(t))}}const Sb="left",Tb="right";class Ab extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class Ib extends sd{constructor(e){let{type:t,position:n,leader:r}=e;super("w:tab"),this.root.push(new Ab({val:t,pos:n,leader:r}))}}class Eb extends sd{constructor(e,t){super("w:numPr"),this.root.push(new Pb(t)),this.root.push(new Rb(e))}}class Pb extends sd{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new hd({val:e}))}}class Rb extends sd{constructor(e){super("w:numId"),this.root.push(new hd({val:"string"===typeof e?"{".concat(e,"}"):e}))}}class Nb extends sd{constructor(){super(...arguments),rd(this,"fileChild",Symbol())}}class Ob extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Mb extends sd{constructor(e,t,n){super("w:hyperlink"),rd(this,"linkId"),this.linkId=t;const r={history:1,anchor:n||void 0,id:n?void 0:"rId".concat(this.linkId)},o=new Ob(r);this.root.push(o),e.forEach(e=>{this.root.push(e)})}}class Lb extends sd{constructor(e){super("w:externalHyperlink"),this.options=e}}class Db extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Fb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{id:"w:id"})}}class jb{constructor(e){rd(this,"bookmarkUniqueNumericId",Zv()),rd(this,"start"),rd(this,"children"),rd(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new Bb(e.id,t),this.children=e.children,this.end=new Ub(t)}}class Bb extends sd{constructor(e,t){super("w:bookmarkStart");const n=new Db({name:e,id:t});this.root.push(n)}}class Ub extends sd{constructor(e){super("w:bookmarkEnd");const t=new Fb({id:e});this.root.push(t)}}class zb extends sd{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new hd({val:e}))}}nd(td({},{TOP:"top",CENTER:"center",BOTTOM:"bottom"}),{BOTH:"both"});class qb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{verticalAlign:"w:val"})}}class Hb extends sd{constructor(e){super("w:vAlign"),this.root.push(new qb({verticalAlign:e}))}}class Kb extends sd{constructor(e){let{space:t,count:n,separate:r,equalWidth:o,children:i}=e;super("w:cols"),this.root.push(new ud({space:{key:"w:space",value:void 0===t?void 0:cy(t)},count:{key:"w:num",value:void 0===n?void 0:$g(n)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:o}})),!o&&i&&i.forEach(e=>this.addChildElement(e))}}const Wb="default",Vb="first",Gb="even";class Qb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Yb="w:headerReference",Jb="w:footerReference";class Xb extends sd{constructor(e,t){super(e),this.root.push(new Qb({type:t.type||Wb,id:"rId".concat(t.id)}))}}class Zb extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class $b extends cd{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new Zb({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new Zb({})),e.pageBorderTop&&this.root.push(new Cy("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Cy("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Cy("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Cy("w:right",e.pageBorderRight))}}class ek extends sd{constructor(e,t,n,r,o,i,a){super("w:pgMar"),this.root.push(new ud({top:{key:"w:top",value:ay(e)},right:{key:"w:right",value:cy(t)},bottom:{key:"w:bottom",value:ay(n)},left:{key:"w:left",value:cy(r)},header:{key:"w:header",value:cy(o)},footer:{key:"w:footer",value:cy(i)},gutter:{key:"w:gutter",value:cy(a)}}))}}class tk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class nk extends sd{constructor(e){let{start:t,formatType:n,separator:r}=e;super("w:pgNumType"),this.root.push(new tk({start:void 0===t?void 0:$g(t),formatType:n,separator:r}))}}const rk="portrait",ok="landscape";class ik extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class ak extends sd{constructor(e){super("w:textDirection"),this.root.push(new ik({val:e}))}}class sk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class ck extends sd{constructor(e){super("w:type"),this.root.push(new sk({val:e}))}}const lk={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},uk={WIDTH:11906,HEIGHT:16838,ORIENTATION:rk};class hk extends sd{constructor(){let{page:{size:{width:e=uk.WIDTH,height:t=uk.HEIGHT,orientation:n=uk.ORIENTATION}={},margin:{top:r=lk.TOP,right:o=lk.RIGHT,bottom:i=lk.BOTTOM,left:a=lk.LEFT,header:s=lk.HEADER,footer:c=lk.FOOTER,gutter:l=lk.GUTTER}={},pageNumbers:u={},borders:h,textDirection:d}={},grid:{linePitch:f=360,charSpace:p,type:m}={},headerWrapperGroup:g={},footerWrapperGroup:y={},lineNumbers:v,titlePage:w,verticalAlign:b,column:k,type:x}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("w:sectPr"),this.addHeaderFooterGroup(Yb,g),this.addHeaderFooterGroup(Jb,y),x&&this.root.push(new ck(x)),this.root.push((e=>{let{width:t,height:n,orientation:r,code:o}=e;const i=cy(t),a=cy(n);return new wy({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===ok?a:i},height:{key:"w:h",value:r===ok?i:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:o}}})})({width:e,height:t,orientation:n})),this.root.push(new ek(r,o,i,a,s,c,l)),h&&this.root.push(new $b(h)),v&&this.root.push((e=>{let{countBy:t,start:n,restart:r,distance:o}=e;return new wy({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:void 0===t?void 0:$g(t)},start:{key:"w:start",value:void 0===n?void 0:$g(n)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:void 0===o?void 0:cy(o)}}})})(v)),this.root.push(new nk(u)),k&&this.root.push(new Kb(k)),b&&this.root.push(new Hb(b)),void 0!==w&&this.root.push(new dy("w:titlePg",w)),d&&this.root.push(new ak(d)),this.root.push((e=>{let{type:t,linePitch:n,charSpace:r}=e;return new wy({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:$g(n)},charSpace:{key:"w:charSpace",value:r?$g(r):void 0}}})})({linePitch:f,charSpace:p,type:m}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new Xb(e,{type:Wb,id:t.default.View.ReferenceId})),t.first&&this.root.push(new Xb(e,{type:Vb,id:t.first.View.ReferenceId})),t.even&&this.root.push(new Xb(e,{type:Gb,id:t.even.View.ReferenceId}))}}class dk extends sd{constructor(){super("w:body"),rd(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new hk(e))}prepForXml(e){return 1===this.sections.length&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new xk({}),n=new kk({});return n.push(e),t.addChildElement(n),t}}const fk={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class pk extends ld{constructor(e,t){super(td({Ignorable:t},Object.fromEntries(e.map(e=>[e,fk[e]])))),rd(this,"xmlKeys",td({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(fk).map(e=>[e,"xmlns:".concat(e)]))))}}class mk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class gk extends sd{constructor(e){super("w:background"),this.root.push(new mk({color:void 0===e.color?void 0:iy(e.color),themeColor:e.themeColor,themeShade:void 0===e.themeShade?void 0:ny(e.themeShade),themeTint:void 0===e.themeTint?void 0:ny(e.themeTint)}))}}class yk extends sd{constructor(e){super("w:document"),rd(this,"body"),this.root.push(new pk(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new dk,e.background&&this.root.push(new gk(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class vk{constructor(e){rd(this,"document"),rd(this,"relationships"),this.document=new yk(e),this.relationships=new pb}get View(){return this.document}get Relationships(){return this.relationships}}class wk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class bk extends sd{constructor(){super("w:wordWrap"),this.root.push(new wk({val:0}))}}class kk extends cd{constructor(e){var t,n;if(super("w:pPr"),rd(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Cb(e.heading)),e.bullet&&this.push(new Cb("ListParagraph")),e.numbering&&(e.style||e.heading||e.numbering.custom||this.push(new Cb("ListParagraph"))),e.style&&this.push(new Cb(e.style)),void 0!==e.keepNext&&this.push(new dy("w:keepNext",e.keepNext)),void 0!==e.keepLines&&this.push(new dy("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new wb),e.frame&&this.push((e=>{var t,n;return new wy({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:null==(t=e.space)?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:null==(n=e.space)?void 0:n.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})})(e.frame)),void 0!==e.widowControl&&this.push(new dy("w:widowControl",e.widowControl)),e.bullet&&this.push(new Eb(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:null!=(t=e.numbering.instance)?t:0}),this.push(new Eb("".concat(e.numbering.reference,"-").concat(null!=(n=e.numbering.instance)?n:0),e.numbering.level))):!1===e.numbering&&this.push(new Eb(0,0)),e.border&&this.push(new Ay(e.border)),e.thematicBreak&&this.push(new Iy),e.shading&&this.push(new Vy(e.shading)),e.wordWrap&&this.push(new bk),e.overflowPunctuation&&this.push(new dy("w:overflowPunct",e.overflowPunctuation));const r=[...void 0!==e.rightTabStop?[{type:Tb,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...void 0!==e.leftTabStop?[{type:Sb,position:e.leftTabStop}]:[]];r.length>0&&this.push(new _b(r)),void 0!==e.bidirectional&&this.push(new dy("w:bidi",e.bidirectional)),e.spacing&&this.push(new xb(e.spacing)),e.indent&&this.push(new Ey(e.indent)),void 0!==e.contextualSpacing&&this.push(new dy("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new xy(e.alignment)),void 0!==e.outlineLevel&&this.push(new zb(e.outlineLevel)),void 0!==e.suppressLineNumbers&&this.push(new dy("w:suppressLineNumbers",e.suppressLineNumbers)),void 0!==e.autoSpaceEastAsianText&&this.push(new dy("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new cv(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof vk)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class xk extends Nb{constructor(e){if(super("w:p"),rd(this,"properties"),"string"===typeof e)return this.properties=new kk({}),this.root.push(this.properties),this.root.push(new gv(e)),this;if(this.properties=new kk(e),this.root.push(this.properties),e.text&&this.root.push(new gv(e.text)),e.children)for(const t of e.children)if(t instanceof jb){this.root.push(t.start);for(const e of t.children)this.root.push(e);this.root.push(t.end)}else this.root.push(t)}prepForXml(e){for(const t of this.root)if(t instanceof Lb){const n=this.root.indexOf(t),r=new Mb(t.options.children,$v());e.viewWrapper.Relationships.createRelationship(r.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,db),this.root[n]=r}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class Ck extends sd{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new _k(t))}}class _k extends sd{constructor(e){super("w:gridCol"),void 0!==e&&this.root.push(new ud({width:{key:"w:w",value:cy(e)}}))}}const Sk="w:tblCellMar",Tk="w:tcMar";class Ak extends cd{constructor(e,t){let{marginUnitType:n=Ik.DXA,top:r,left:o,bottom:i,right:a}=t;super(e),void 0!==r&&this.root.push(new Ek("w:top",{type:n,size:r})),void 0!==o&&this.root.push(new Ek("w:left",{type:n,size:o})),void 0!==i&&this.root.push(new Ek("w:bottom",{type:n,size:i})),void 0!==a&&this.root.push(new Ek("w:right",{type:n,size:a}))}}const Ik={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"};class Ek extends sd{constructor(e,t){let{type:n=Ik.AUTO,size:r}=t;super(e);let o=r;n===Ik.PERCENTAGE&&"number"===typeof r&&(o="".concat(r,"%")),this.root.push(new ud({type:{key:"w:type",value:n},size:{key:"w:w",value:ly(o)}}))}}class Pk extends cd{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Cy("w:top",e.top)),e.start&&this.root.push(new Cy("w:start",e.start)),e.left&&this.root.push(new Cy("w:left",e.left)),e.bottom&&this.root.push(new Cy("w:bottom",e.bottom)),e.end&&this.root.push(new Cy("w:end",e.end)),e.right&&this.root.push(new Cy("w:right",e.right))}}class Rk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class Nk extends sd{constructor(e){super("w:gridSpan"),this.root.push(new Rk({val:$g(e)}))}}const Ok="continue",Mk="restart";class Lk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class Dk extends sd{constructor(e){super("w:vMerge"),this.root.push(new Lk({val:e}))}}class Fk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class jk extends sd{constructor(e){super("w:textDirection"),this.root.push(new Fk({val:e}))}}class Bk extends cd{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Ek("w:tcW",e.width)),e.columnSpan&&this.root.push(new Nk(e.columnSpan)),e.verticalMerge?this.root.push(new Dk(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new Dk(Mk)),e.borders&&this.root.push(new Pk(e.borders)),e.shading&&this.root.push(new Vy(e.shading)),e.margins&&this.root.push(new Ak(Tk,e.margins)),e.textDirection&&this.root.push(new jk(e.textDirection)),e.verticalAlign&&this.root.push(new Hb(e.verticalAlign))}}class Uk extends sd{constructor(e){super("w:tc"),this.options=e,this.root.push(new Bk(e));for(const t of e.children)this.root.push(t)}prepForXml(e){return this.root[this.root.length-1]instanceof xk||this.root.push(new xk({})),super.prepForXml(e)}}const zk={style:Ty,size:0,color:"auto"},qk={style:Sy,size:4,color:"auto"};class Hk extends sd{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Cy("w:top",e.top)):this.root.push(new Cy("w:top",qk)),e.left?this.root.push(new Cy("w:left",e.left)):this.root.push(new Cy("w:left",qk)),e.bottom?this.root.push(new Cy("w:bottom",e.bottom)):this.root.push(new Cy("w:bottom",qk)),e.right?this.root.push(new Cy("w:right",e.right)):this.root.push(new Cy("w:right",qk)),e.insideHorizontal?this.root.push(new Cy("w:insideH",e.insideHorizontal)):this.root.push(new Cy("w:insideH",qk)),e.insideVertical?this.root.push(new Cy("w:insideV",e.insideVertical)):this.root.push(new Cy("w:insideV",qk))}}rd(Hk,"NONE",{top:zk,bottom:zk,left:zk,right:zk,insideHorizontal:zk,insideVertical:zk});class Kk extends sd{constructor(e){let{horizontalAnchor:t,verticalAnchor:n,absoluteHorizontalPosition:r,relativeHorizontalPosition:o,absoluteVerticalPosition:i,relativeVerticalPosition:a,bottomFromText:s,topFromText:c,leftFromText:l,rightFromText:u,overlap:h}=e;super("w:tblpPr"),this.root.push(new ud({leftFromText:{key:"w:leftFromText",value:void 0===l?void 0:cy(l)},rightFromText:{key:"w:rightFromText",value:void 0===u?void 0:cy(u)},topFromText:{key:"w:topFromText",value:void 0===c?void 0:cy(c)},bottomFromText:{key:"w:bottomFromText",value:void 0===s?void 0:cy(s)},absoluteHorizontalPosition:{key:"w:tblpX",value:void 0===r?void 0:ay(r)},absoluteVerticalPosition:{key:"w:tblpY",value:void 0===i?void 0:ay(i)},horizontalAnchor:{key:"w:horzAnchor",value:void 0===t?void 0:t},relativeHorizontalPosition:{key:"w:tblpXSpec",value:o},relativeVerticalPosition:{key:"w:tblpYSpec",value:a},verticalAnchor:{key:"w:vertAnchor",value:n}})),h&&this.root.push(new yy("w:tblOverlap",h))}}class Wk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{type:"w:type"})}}class Vk extends sd{constructor(e){super("w:tblLayout"),this.root.push(new Wk({type:e}))}}const Gk={DXA:"dxa"};class Qk extends sd{constructor(e){let{type:t=Gk.DXA,value:n}=e;super("w:tblCellSpacing"),this.root.push(new ud({type:{key:"w:type",value:t},value:{key:"w:w",value:ly(n)}}))}}class Yk extends cd{constructor(e){super("w:tblPr"),e.style&&this.root.push(new py("w:tblStyle",e.style)),e.float&&this.root.push(new Kk(e.float)),void 0!==e.visuallyRightToLeft&&this.root.push(new dy("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Ek("w:tblW",e.width)),e.alignment&&this.root.push(new xy(e.alignment)),e.indent&&this.root.push(new Ek("w:tblInd",e.indent)),e.borders&&this.root.push(new Hk(e.borders)),e.shading&&this.root.push(new Vy(e.shading)),e.layout&&this.root.push(new Vk(e.layout)),e.cellMargin&&this.root.push(new Ak(Sk,e.cellMargin)),e.cellSpacing&&this.root.push(new Qk(e.cellSpacing))}}class Jk extends Nb{constructor(e){let{rows:t,width:n,columnWidths:r=Array(Math.max(...t.map(e=>e.CellCount))).fill(100),margins:o,indent:i,float:a,layout:s,style:c,borders:l,alignment:u,visuallyRightToLeft:h,cellSpacing:d}=e;super("w:tbl"),this.root.push(new Yk({borders:null!=l?l:{},width:null!=n?n:{size:100},indent:i,float:a,layout:s,style:c,alignment:u,cellMargin:o,visuallyRightToLeft:h,cellSpacing:d})),this.root.push(new Ck(r));for(const f of t)this.root.push(f);t.forEach((e,n)=>{if(n===t.length-1)return;let r=0;e.cells.forEach(e=>{if(e.options.rowSpan&&e.options.rowSpan>1){const o=new Uk({rowSpan:e.options.rowSpan-1,columnSpan:e.options.columnSpan,borders:e.options.borders,children:[],verticalMerge:Ok});t[n+1].addCellToColumnIndex(o,r)}r+=e.options.columnSpan||1})})}}class Xk extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class Zk extends sd{constructor(e,t){super("w:trHeight"),this.root.push(new Xk({value:cy(e),rule:t}))}}class $k extends cd{constructor(e){super("w:trPr"),void 0!==e.cantSplit&&this.root.push(new dy("w:cantSplit",e.cantSplit)),void 0!==e.tableHeader&&this.root.push(new dy("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new Zk(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new Qk(e.cellSpacing))}}class ex extends sd{constructor(e){super("w:tr"),this.options=e,this.root.push(new $k(e));for(const t of e.children)this.root.push(t)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Uk)}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){const n=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error("cell 'rootIndex' should between 1 to ".concat(this.root.length-1));let t=0;for(let n=1;n<e;n++){t+=this.root[n].options.columnSpan||1}return t}columnIndexToRootIndex(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,r=1;for(;n<=e;){if(r>=this.root.length){if(t)return this.root.length;throw new Error("cell 'columnIndex' should not great than ".concat(n-1))}const e=this.root[r];r+=1,n+=e&&e.options.columnSpan||1}return r-1}}class tx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class nx extends sd{constructor(){super("Properties"),this.root.push(new tx({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class rx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{xmlns:"xmlns"})}}class ox extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ix extends sd{constructor(e,t){super("Default"),this.root.push(new ox({contentType:e,extension:t}))}}class ax extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class sx extends sd{constructor(e,t){super("Override"),this.root.push(new ax({contentType:e,partName:t}))}}class cx extends sd{constructor(){super("Types"),this.root.push(new rx({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ix("image/png","png")),this.root.push(new ix("image/jpeg","jpeg")),this.root.push(new ix("image/jpeg","jpg")),this.root.push(new ix("image/bmp","bmp")),this.root.push(new ix("image/gif","gif")),this.root.push(new ix("image/svg+xml","svg")),this.root.push(new ix("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ix("application/xml","xml")),this.root.push(new ix("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new sx("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml","/word/footer".concat(e,".xml")))}addHeader(e){this.root.push(new sx("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml","/word/header".concat(e,".xml")))}}class lx extends sd{constructor(e){super("cp:coreProperties"),this.root.push(new pk(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new vy("dc:title",e.title)),e.subject&&this.root.push(new vy("dc:subject",e.subject)),e.creator&&this.root.push(new vy("dc:creator",e.creator)),e.keywords&&this.root.push(new vy("cp:keywords",e.keywords)),e.description&&this.root.push(new vy("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new vy("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new vy("cp:revision",String(e.revision))),this.root.push(new hx("dcterms:created")),this.root.push(new hx("dcterms:modified"))}}class ux extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{type:"xsi:type"})}}class hx extends sd{constructor(e){super(e),this.root.push(new ux({type:"dcterms:W3CDTF"})),this.root.push((new Date).toISOString())}}class dx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class fx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class px extends sd{constructor(e,t){super("property"),this.root.push(new fx({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new mx(t.value))}}class mx extends sd{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class gx extends sd{constructor(e){super("Properties"),rd(this,"nextId"),rd(this,"properties",[]),this.root.push(new dx({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(e=>this.root.push(e)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new px(this.nextId++,e))}}const yx=(e,t)=>{let{id:n,fontKey:r,subsetted:o}=e;return new wy({name:t,attributes:td({id:{key:"r:id",value:n}},r?{fontKey:{key:"w:fontKey",value:"{".concat(r,"}")}}:{}),children:[...o?[new dy("w:subsetted",o)]:[]]})},vx=e=>{let{name:t,index:n,fontKey:r,characterSet:o}=e;return(e=>{let{name:t,altName:n,panose1:r,charset:o,family:i,notTrueType:a,pitch:s,sig:c,embedRegular:l,embedBold:u,embedItalic:h,embedBoldItalic:d}=e;return new wy({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...n?[my("w:altName",n)]:[],...r?[my("w:panose1",r)]:[],...o?[my("w:charset",o)]:[],my("w:family",i),...a?[new dy("w:notTrueType",a)]:[],my("w:pitch",s),...c?[new wy({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:c.usb0},usb1:{key:"w:usb1",value:c.usb1},usb2:{key:"w:usb2",value:c.usb2},usb3:{key:"w:usb3",value:c.usb3},csb0:{key:"w:csb0",value:c.csb0},csb1:{key:"w:csb1",value:c.csb1}}})]:[],...l?[yx(l,"w:embedRegular")]:[],...u?[yx(u,"w:embedBold")]:[],...h?[yx(h,"w:embedItalic")]:[],...d?[yx(d,"w:embedBoldItalic")]:[]]})})({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:o,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:"rId".concat(n)}})};class wx{constructor(e){var t;rd(this,"fontTable"),rd(this,"relationships"),rd(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(e=>nd(td({},e),{fontKey:"".concat(tw(8),"-").concat(tw(4),"-").concat(tw(4),"-").concat(tw(4),"-").concat(tw(12))})),this.fontTable=(t=this.fontOptionsWithKey,new wy({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,t)=>vx({name:e.name,index:t+1,fontKey:e.fontKey}))})),this.relationships=new pb;for(let n=0;n<e.length;n++)this.relationships.createRelationship(n+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font","fonts/".concat(e[n].name,".odttf"))}get View(){return this.fontTable}get Relationships(){return this.relationships}}class bx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let kx=class extends Zg{constructor(e,t){super("w:ftr",t),rd(this,"refId"),this.refId=e,t||this.root.push(new bx({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class xx{constructor(e,t,n){rd(this,"footer"),rd(this,"relationships"),this.media=e,this.footer=new kx(t,n),this.relationships=new pb}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Cx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class _x extends sd{constructor(){super("w:footnoteRef")}}class Sx extends mv{constructor(){super({style:"FootnoteReference"}),this.root.push(new _x)}}const Tx="separator",Ax="continuationSeparator";class Ix extends sd{constructor(e){super("w:footnote"),this.root.push(new Cx({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];0===t&&n.addRunToFront(new Sx),this.root.push(n)}}}class Ex extends sd{constructor(){super("w:continuationSeparator")}}class Px extends mv{constructor(){super({}),this.root.push(new Ex)}}class Rx extends sd{constructor(){super("w:separator")}}class Nx extends mv{constructor(){super({}),this.root.push(new Rx)}}class Ox extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Mx extends sd{constructor(){super("w:footnotes"),this.root.push(new Ox({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Ix({id:-1,type:Tx,children:[new xk({spacing:{after:0,line:240,lineRule:bb},children:[new Nx]})]});this.root.push(e);const t=new Ix({id:0,type:Ax,children:[new xk({spacing:{after:0,line:240,lineRule:bb},children:[new Px]})]});this.root.push(t)}createFootNote(e,t){const n=new Ix({id:e,children:t});this.root.push(n)}}class Lx{constructor(){rd(this,"footnotess"),rd(this,"relationships"),this.footnotess=new Mx,this.relationships=new pb}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Dx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Fx=class extends Zg{constructor(e,t){super("w:hdr",t),rd(this,"refId"),this.refId=e,t||this.root.push(new Dx({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class jx{constructor(e,t,n){rd(this,"header"),rd(this,"relationships"),this.media=e,this.header=new Fx(t,n),this.relationships=new pb}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Bx{constructor(){rd(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Ux="bullet";class zx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class qx extends sd{constructor(e){super("w:numFmt"),this.root.push(new hd({val:e}))}}class Hx extends sd{constructor(e){super("w:lvlText"),this.root.push(new hd({val:e}))}}class Kx extends sd{constructor(e){super("w:lvlJc"),this.root.push(new hd({val:e}))}}class Wx extends sd{constructor(e){super("w:suff"),this.root.push(new hd({val:e}))}}class Vx extends sd{constructor(){super("w:isLgl")}}class Gx extends sd{constructor(e){let{level:t,format:n,text:r,alignment:o=by.START,start:i=1,style:a,suffix:s,isLegalNumberingStyle:c}=e;if(super("w:lvl"),rd(this,"paragraphProperties"),rd(this,"runProperties"),this.root.push(new gy("w:start",$g(i))),n&&this.root.push(new qx(n)),s&&this.root.push(new Wx(s)),c&&this.root.push(new Vx),r&&this.root.push(new Hx(r)),this.root.push(new Kx(o)),this.paragraphProperties=new kk(a&&a.paragraph),this.runProperties=new cv(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new zx({ilvl:$g(t),tentative:1}))}}class Qx extends Gx{}class Yx extends sd{constructor(e){super("w:multiLevelType"),this.root.push(new hd({val:e}))}}class Jx extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Xx extends sd{constructor(e,t){super("w:abstractNum"),rd(this,"id"),this.root.push(new Jx({abstractNumId:$g(e),restartNumberingAfterBreak:0})),this.root.push(new Yx("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new Qx(n))}}class Zx extends sd{constructor(e){super("w:abstractNumId"),this.root.push(new hd({val:e}))}}class $x extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{numId:"w:numId"})}}class eC extends sd{constructor(e){if(super("w:num"),rd(this,"numId"),rd(this,"reference"),rd(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new $x({numId:$g(e.numId)})),this.root.push(new Zx($g(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new nC(t.num,t.start))}}class tC extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{ilvl:"w:ilvl"})}}class nC extends sd{constructor(e,t){super("w:lvlOverride"),this.root.push(new tC({ilvl:e})),void 0!==t&&this.root.push(new oC(t))}}class rC extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class oC extends sd{constructor(e){super("w:startOverride"),this.root.push(new rC({val:e}))}}class iC extends sd{constructor(e){super("w:numbering"),rd(this,"abstractNumberingMap",new Map),rd(this,"concreteNumberingMap",new Map),rd(this,"referenceConfigMap",new Map),rd(this,"abstractNumUniqueNumericId",Zv()),rd(this,"concreteNumUniqueNumericId",Zv(1)),this.root.push(new pk(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new Xx(this.abstractNumUniqueNumericId(),[{level:0,format:Ux,text:"\u25cf",alignment:by.LEFT,style:{paragraph:{indent:{left:Xv(.5),hanging:Xv(.25)}}}},{level:1,format:Ux,text:"\u25cb",alignment:by.LEFT,style:{paragraph:{indent:{left:Xv(1),hanging:Xv(.25)}}}},{level:2,format:Ux,text:"\u25a0",alignment:by.LEFT,style:{paragraph:{indent:{left:2160,hanging:Xv(.25)}}}},{level:3,format:Ux,text:"\u25cf",alignment:by.LEFT,style:{paragraph:{indent:{left:2880,hanging:Xv(.25)}}}},{level:4,format:Ux,text:"\u25cb",alignment:by.LEFT,style:{paragraph:{indent:{left:3600,hanging:Xv(.25)}}}},{level:5,format:Ux,text:"\u25a0",alignment:by.LEFT,style:{paragraph:{indent:{left:4320,hanging:Xv(.25)}}}},{level:6,format:Ux,text:"\u25cf",alignment:by.LEFT,style:{paragraph:{indent:{left:5040,hanging:Xv(.25)}}}},{level:7,format:Ux,text:"\u25cf",alignment:by.LEFT,style:{paragraph:{indent:{left:5760,hanging:Xv(.25)}}}},{level:8,format:Ux,text:"\u25cf",alignment:by.LEFT,style:{paragraph:{indent:{left:6480,hanging:Xv(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new eC({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new Xx(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const r="".concat(e,"-").concat(t);if(this.concreteNumberingMap.has(r))return;const o=this.referenceConfigMap.get(e),i=o&&o[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[i&&Number.isInteger(i)?{num:0,start:i}:{num:0,start:1}]};this.concreteNumberingMap.set(r,new eC(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class aC extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class sC extends sd{constructor(e){super("w:compatSetting"),this.root.push(new aC({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class cC extends sd{constructor(e){super("w:compat"),e.version&&this.root.push(new sC(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new dy("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new dy("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new dy("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new dy("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new dy("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new dy("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new dy("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new dy("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new dy("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new dy("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new dy("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new dy("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new dy("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new dy("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new dy("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new dy("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new dy("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new dy("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new dy("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new dy("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new dy("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new dy("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new dy("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new dy("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new dy("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new dy("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new dy("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new dy("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new dy("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new dy("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new dy("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new dy("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new dy("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new dy("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new dy("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new dy("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new dy("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new dy("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new dy("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new dy("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new dy("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new dy("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new dy("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new dy("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new dy("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new dy("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new dy("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new dy("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new dy("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new dy("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new dy("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new dy("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new dy("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new dy("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new dy("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new dy("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new dy("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new dy("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new dy("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new dy("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new dy("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new dy("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new dy("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new dy("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new dy("w:cachedColBalance",e.cachedColumnBalance))}}class lC extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class uC extends sd{constructor(e){var t,n,r,o,i,a,s,c;super("w:settings"),this.root.push(new lC({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new dy("w:displayBackgroundShape",!0)),void 0!==e.trackRevisions&&this.root.push(new dy("w:trackRevisions",e.trackRevisions)),void 0!==e.evenAndOddHeaders&&this.root.push(new dy("w:evenAndOddHeaders",e.evenAndOddHeaders)),void 0!==e.updateFields&&this.root.push(new dy("w:updateFields",e.updateFields)),void 0!==e.defaultTabStop&&this.root.push(new gy("w:defaultTabStop",e.defaultTabStop)),void 0!==(null==(t=e.hyphenation)?void 0:t.autoHyphenation)&&this.root.push(new dy("w:autoHyphenation",e.hyphenation.autoHyphenation)),void 0!==(null==(n=e.hyphenation)?void 0:n.hyphenationZone)&&this.root.push(new gy("w:hyphenationZone",e.hyphenation.hyphenationZone)),void 0!==(null==(r=e.hyphenation)?void 0:r.consecutiveHyphenLimit)&&this.root.push(new gy("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),void 0!==(null==(o=e.hyphenation)?void 0:o.doNotHyphenateCaps)&&this.root.push(new dy("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new cC(nd(td({},null!=(i=e.compatibility)?i:{}),{version:null!=(c=null!=(s=null==(a=e.compatibility)?void 0:a.version)?s:e.compatibilityModeVersion)?c:15})))}}class hC extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{val:"w:val"})}}class dC extends sd{constructor(e){super("w:name"),this.root.push(new hC({val:e}))}}class fC extends sd{constructor(e){super("w:uiPriority"),this.root.push(new hC({val:$g(e)}))}}class pC extends ld{constructor(){super(...arguments),rd(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class mC extends sd{constructor(e,t){super("w:style"),this.root.push(new pC(e)),t.name&&this.root.push(new dC(t.name)),t.basedOn&&this.root.push(new py("w:basedOn",t.basedOn)),t.next&&this.root.push(new py("w:next",t.next)),t.link&&this.root.push(new py("w:link",t.link)),void 0!==t.uiPriority&&this.root.push(new fC(t.uiPriority)),void 0!==t.semiHidden&&this.root.push(new dy("w:semiHidden",t.semiHidden)),void 0!==t.unhideWhenUsed&&this.root.push(new dy("w:unhideWhenUsed",t.unhideWhenUsed)),void 0!==t.quickFormat&&this.root.push(new dy("w:qFormat",t.quickFormat))}}class gC extends mC{constructor(e){super({type:"paragraph",styleId:e.id},e),rd(this,"paragraphProperties"),rd(this,"runProperties"),this.paragraphProperties=new kk(e.paragraph),this.runProperties=new cv(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class yC extends mC{constructor(e){super({type:"character",styleId:e.id},td({uiPriority:99,unhideWhenUsed:!0},e)),rd(this,"runProperties"),this.runProperties=new cv(e.run),this.root.push(this.runProperties)}}class vC extends gC{constructor(e){super(td({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class wC extends vC{constructor(e){super(td({id:"Title",name:"Title"},e))}}class bC extends vC{constructor(e){super(td({id:"Heading1",name:"Heading 1"},e))}}class kC extends vC{constructor(e){super(td({id:"Heading2",name:"Heading 2"},e))}}class xC extends vC{constructor(e){super(td({id:"Heading3",name:"Heading 3"},e))}}class CC extends vC{constructor(e){super(td({id:"Heading4",name:"Heading 4"},e))}}class _C extends vC{constructor(e){super(td({id:"Heading5",name:"Heading 5"},e))}}class SC extends vC{constructor(e){super(td({id:"Heading6",name:"Heading 6"},e))}}class TC extends vC{constructor(e){super(td({id:"Strong",name:"Strong"},e))}}class AC extends gC{constructor(e){super(td({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class IC extends gC{constructor(e){super(td({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:bb}},run:{size:20}},e))}}class EC extends yC{constructor(e){super(td({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class PC extends yC{constructor(e){super(td({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class RC extends yC{constructor(e){super(td({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:av}}},e))}}class NC extends sd{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new gC(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new yC(t))}}class OC extends sd{constructor(e){super("w:pPrDefault"),this.root.push(new kk(e))}}class MC extends sd{constructor(e){super("w:rPrDefault"),this.root.push(new cv(e))}}class LC extends sd{constructor(e){super("w:docDefaults"),rd(this,"runPropertiesDefaults"),rd(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new MC(e.run),this.paragraphPropertiesDefaults=new OC(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class DC{newInstance(e){const t=Gg.xml2js(e,{compact:!1});let n;for(const o of t.elements||[])"w:styles"===o.name&&(n=o);if(void 0===n)throw new Error("can not find styles element");const r=n.elements||[];return new NC({initialStyles:new Xg(n.attributes),importedStyles:r.map(e=>Qg(e))})}}class FC{newInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return{initialStyles:new pk(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new LC(null!=(t=e.document)?t:{}),new wC(td({run:{size:56}},e.title)),new bC(td({run:{color:"2E74B5",size:32}},e.heading1)),new kC(td({run:{color:"2E74B5",size:26}},e.heading2)),new xC(td({run:{color:"1F4D78",size:24}},e.heading3)),new CC(td({run:{color:"2E74B5",italics:!0}},e.heading4)),new _C(td({run:{color:"2E74B5"}},e.heading5)),new SC(td({run:{color:"1F4D78"}},e.heading6)),new TC(td({run:{bold:!0}},e.strong)),new AC(e.listParagraph||{}),new RC(e.hyperlink||{}),new EC(e.footnoteReference||{}),new IC(e.footnoteText||{}),new PC(e.footnoteTextChar||{})]}}}class jC{constructor(e){var t,n,r,o,i,a,s,c,l,u,h,d;if(rd(this,"currentRelationshipId",1),rd(this,"documentWrapper"),rd(this,"headers",[]),rd(this,"footers",[]),rd(this,"coreProperties"),rd(this,"numbering"),rd(this,"media"),rd(this,"fileRelationships"),rd(this,"footnotesWrapper"),rd(this,"settings"),rd(this,"contentTypes"),rd(this,"customProperties"),rd(this,"appProperties"),rd(this,"styles"),rd(this,"comments"),rd(this,"fontWrapper"),this.coreProperties=new lx(nd(td({},e),{creator:null!=(t=e.creator)?t:"Un-named",revision:null!=(n=e.revision)?n:1,lastModifiedBy:null!=(r=e.lastModifiedBy)?r:"Un-named"})),this.numbering=new iC(e.numbering?e.numbering:{config:[]}),this.comments=new vb(null!=(o=e.comments)?o:{children:[]}),this.fileRelationships=new pb,this.customProperties=new gx(null!=(i=e.customProperties)?i:[]),this.appProperties=new nx,this.footnotesWrapper=new Lx,this.contentTypes=new cx,this.documentWrapper=new vk({background:e.background}),this.settings=new uC({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:null==(a=e.features)?void 0:a.trackRevisions,updateFields:null==(s=e.features)?void 0:s.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:null==(c=e.hyphenation)?void 0:c.autoHyphenation,hyphenationZone:null==(l=e.hyphenation)?void 0:l.hyphenationZone,consecutiveHyphenLimit:null==(u=e.hyphenation)?void 0:u.consecutiveHyphenLimit,doNotHyphenateCaps:null==(h=e.hyphenation)?void 0:h.doNotHyphenateCaps}}),this.media=new Bx,void 0!==e.externalStyles){const t=new DC;this.styles=t.newInstance(e.externalStyles)}else if(e.styles){const t=(new FC).newInstance(e.styles.default);this.styles=new NC(td(td({},t),e.styles))}else{const e=new FC;this.styles=new NC(e.newInstance())}this.addDefaultRelationships();for(const f of e.sections)this.addSection(f);if(e.footnotes)for(const f in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(f),e.footnotes[f].children);this.fontWrapper=new wx(null!=(d=e.fonts)?d:[])}addSection(e){let{headers:t={},footers:n={},children:r,properties:o}=e;this.documentWrapper.View.Body.addSection(nd(td({},o),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:n.default?this.createFooter(n.default):void 0,first:n.first?this.createFooter(n.first):void 0,even:n.even?this.createFooter(n.even):void 0}}));for(const i of r)this.documentWrapper.View.add(i)}createHeader(e){const t=new jx(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new xx(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wb;this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header","header".concat(this.headers.length,".xml")),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wb;this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer","footer".concat(this.footers.length,".xml")),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var BC=Ug();function UC(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zC,qC={exports:{}};const HC=fd((zC||(zC=1,qC.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(!s&&UC)return UC(a);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i=UC,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r=e("./utils"),o=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,o,a,s,c,l,u=[],h=0,d=e.length,f=d,p="string"!==r.getTypeOf(e);h<e.length;)f=d-h,o=p?(t=e[h++],n=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),n=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<f?(15&n)<<2|o>>6:64,l=2<f?63&o:64,u.push(i.charAt(a)+i.charAt(s)+i.charAt(c)+i.charAt(l));return u.join("")},n.decode=function(e){var t,n,r,a,s,c,l=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=i.indexOf(e.charAt(l++))<<2|(a=i.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(s=i.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=i.indexOf(e.charAt(l++))),d[u++]=t,64!==s&&(d[u++]=n),64!==c&&(d[u++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e("./external"),o=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=o}s.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new i).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e("./utils"),o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),i=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",i.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function o(e,t,n,o,a,u){var h,d,f=e.file,p=e.compression,m=u!==s.utf8encode,g=i.transformTo("string",u(f.name)),y=i.transformTo("string",s.utf8encode(f.name)),v=f.comment,w=i.transformTo("string",u(v)),b=i.transformTo("string",s.utf8encode(v)),k=y.length!==f.name.length,x=b.length!==v.length,C="",_="",S="",T=f.dir,A=f.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),m||!k&&!x||(E|=2048);var P=0,R=0;T&&(P|=16),"UNIX"===a?(R=798,P|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,T)):(R=20,P|=63&(f.dosPermissions||0)),h=A.getUTCHours(),h<<=6,h|=A.getUTCMinutes(),h<<=5,h|=A.getUTCSeconds()/2,d=A.getUTCFullYear()-1980,d<<=4,d|=A.getUTCMonth()+1,d<<=5,d|=A.getUTCDate(),k&&(_=r(1,1)+r(c(g),4)+y,C+="up"+r(_.length,2)+_),x&&(S=r(1,1)+r(c(w),4)+b,C+="uc"+r(S.length,2)+S);var N="";return N+="\n\0",N+=r(E,2),N+=p.magic,N+=r(h,2),N+=r(d,2),N+=r(I.crc32,4),N+=r(I.compressedSize,4),N+=r(I.uncompressedSize,4),N+=r(g.length,2),N+=r(C.length,2),{fileRecord:l.LOCAL_FILE_HEADER+N+g+C,dirRecord:l.CENTRAL_FILE_HEADER+r(R,2)+N+r(w.length,2)+"\0\0\0\0"+r(P,4)+r(o,4)+g+C+w}}var i=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=o(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,i=o(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),n)this.push({data:(t=e,l.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,o=function(e,t,n,o,a){var s=i.transformTo("string",a(o));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(r){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e("../compressions"),o=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var i=new o(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var o=function(e,t){var n=e||t,o=r[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(s){i.error(s)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e("./utils"),o=e("./external"),i=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new o.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),c.isNode&&c.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new a(t);return n.load(e),n}).then(function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var i=0;i<r.length;i++)n.push(l(r[i]));return o.Promise.all(n)}).then(function(e){for(var o=e.shift(),i=o.files,a=0;a<i.length;a++){var s=i[a],c=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return o.zipComment.length&&(n.comment=o.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e("../utils"),o=e("../stream/GenericWorker");function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(i,o),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e("readable-stream").Readable;function o(e,t,n){r.call(this,t),this._helper=e;var o=this;e.on("data",function(e,t){o.push(e)||o._helper.pause(),n&&n(t)}).on("error",function(e){o.emit("error",e)}).on("end",function(){o.push(null)})}e("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e,t,n){var r,o=i.getTypeOf(t),s=i.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=p(e))&&g.call(this,r,!0);var h="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!h),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",o="string");var y=null;y=t instanceof l||t instanceof a?t:d.isNode&&d.isStream(t)?new f(e,t):i.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new u(e,y,s);this.files[e]=v}var o=e("./utf8"),i=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:c.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(y(e)){var o=e;return this.filter(function(e,t){return!t.dir&&o.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(y(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(c){(t=new a("error")).error(c)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var r=e("./DataReader");function o(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(o,r),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&o===i[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e("../utils");function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=o},{"../utils":32}],19:[function(e,t,n){var r=e("./Uint8ArrayReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e("./DataReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e("./ArrayReader");function o(e){r.call(this,e)}e("../utils").inherits(o,r),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e("../utils"),o=e("../support"),i=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new c(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){var r=e("./GenericWorker"),o=e("../utils");function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e("./GenericWorker"),o=e("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e("../utils"),o=e("./GenericWorker");function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e("../utils"),o=e("./ConvertWorker"),i=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function u(e,t){return new c.Promise(function(n,o){var i=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",function(e,n){i.push(e),t&&t(n)}).on("error",function(e){i=[],o(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(c,function(e,t){var n,r=0,o=null,i=0;for(n=0;n<t.length;n++)i+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(i),n=0;n<t.length;n++)o.set(t[n],r),r+=t[n].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,i),l);n(e)}catch(t){o(t)}i=[]}).resume()})}function h(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new o(a)),e.lock()}catch(s){this._worker=new i("error"),this._worker.error(s)}}h.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(i){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),n.blob=0===o.getBlob("application/zip").size}catch(a){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(i){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e("./utils"),o=e("./support"),i=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return o.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(c):new Array(c),i=a=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return o.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,o,i,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((o=e[t++])<128)c[n++]=o;else if(4<(i=s[o]))c[n++]=65533,t+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&t<a;)o=o<<6|63&e[t++],i--;1<i?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(o.uint8array?"uint8array":"array",e))},r.inherits(l,a),l.prototype.processChunk=function(e){var t=r.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(o.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e("./support"),o=e("./base64"),i=e("./nodejsUtils"),a=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],o=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;o<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,i)))),o+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),o=!0;if("uint8array"===r?o=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=l.applyCanBeUsed.nodebuffer),o)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch(i){t=Math.floor(t/2)}return l.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var d={};d.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,i.allocBuffer(e.length))}},d.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},d.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return i.newBufferFrom(e)}},d.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var o=t[r];"."===o||""===o&&0!==r&&r!==t.length-1||(".."===o?n.pop():n.push(o))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,i,s,l){return a.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var u,h=n.getTypeOf(t);return h?("arraybuffer"===h?t=n.transformTo("uint8array",t):"string"===h&&(l?t=o.decode(t):i&&!0!==s&&(t=c(u=t,r.uint8array?new Uint8Array(u.length):new Array(u.length)))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e("./reader/readerFor"),o=e("./utils"),i=e("./signature"),a=e("./zipEntry"),s=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e("./reader/readerFor"),o=e("./utils"),i=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<o;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(o)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(s){(t=new c("error")).error(s)}return new o(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new i(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)r.prototype[l[h]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,"undefined"!=typeof dd?dd:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var r=e("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=p(function(){t(o,r)});"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==c?h(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},l.reject=function(e){var t=new this(o);return i.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(o);++c<n;)u(e[c],c);return l;function u(e,o){t.resolve(e).then(function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(l,a))},function(e){r||(r=!0,i.reject(l,e))})}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,c=new this(o);++s<n;)a=e[s],t.resolve(a).then(function(e){r||(r=!0,i.resolve(c,e))},function(e){r||(r=!0,i.reject(c,e))});return c}},{immediate:36}],38:[function(e,t,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e("./zlib/deflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,l=0,u=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=o.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==l)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),!(s.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e("./zlib/inflate"),o=e("./utils/common"),i=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,c,l,h,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=i.utf8border(f.output,f.next_out),l=f.next_out-c,h=i.buf2string(f.output,c),f.next_out=l,f.avail_out=p-l,l&&o.arraySet(f.output,f.output,c,l,0),this.onData(h)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=o=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(l){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,o,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),i=a=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,i,s=t||e.length,l=new Array(2*s);for(n=r=0;n<s;)if((o=e[n++])<128)l[r++]=o;else if(4<(i=a[o]))l[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&n<s;)o=o<<6|63&e[n++],i--;1<i?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var o=65535&e,i=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;i=i+(o=o+t[r++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var r,o=e("../utils/common"),i=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=0,u=4,h=0,d=-2,f=-1,p=4,m=2,g=8,y=9,v=286,w=30,b=19,k=2*v+1,x=15,C=3,_=258,S=_+C+1,T=42,A=113,I=1,E=2,P=3,R=4;function N(e,t){return e.msg=c[t],t}function O(e){return(e<<1)-(4<e?9:0)}function M(e){for(var t=e.length;0<=--t;)e[t]=0}function L(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function D(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function F(e,t){e.pending_buf[e.pending++]=t}function j(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,l=e.window,u=e.w_mask,h=e.prev,d=e.strstart+_,f=l[i+a-1],p=l[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===f&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<d);if(r=_-(d-i),i=d-_,a<r){if(e.match_start=t,s<=(a=r))break;f=l[i+a-1],p=l[i+a]}}}while((t=h[t&u])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function U(e){var t,n,r,i,c,l,u,h,d,f,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-S)){for(o.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);i+=p}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,h=e.strstart+e.lookahead,f=void 0,(d=i)<(f=l.avail_in)&&(f=d),n=0===f?0:(l.avail_in-=f,o.arraySet(u,l.input,l.next_in,f,h),1===l.state.wrap?l.adler=a(l.adler,u,f,h):2===l.state.wrap&&(l.adler=s(l.adler,u,f,h)),l.next_in+=f,l.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=C)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+C-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<S&&0!==e.strm.avail_in)}function z(e,t){for(var n,r;;){if(e.lookahead<S){if(U(e),e.lookahead<S&&t===l)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-S&&(e.match_length=B(e,n)),e.match_length>=C)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(D(e,!1),0===e.strm.avail_out))return I}return e.insert=e.strstart<C-1?e.strstart:C-1,t===u?(D(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?I:E}function q(e,t){for(var n,r,o;;){if(e.lookahead<S){if(U(e),e.lookahead<S&&t===l)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-S&&(e.match_length=B(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===C&&4096<e.strstart-e.match_start)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-C,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=C-1,e.strstart++,r&&(D(e,!1),0===e.strm.avail_out))return I}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&D(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return I}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<C-1?e.strstart:C-1,t===u?(D(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?I:E}function H(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*k),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*b+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(x+1),this.heap=new o.Buf16(2*v+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*v+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?T:A,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),h):N(e,d)}function V(e){var t,n=W(e);return n===h&&((t=e.state).window_size=2*t.w_size,M(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0),n}function G(e,t,n,r,i,a){if(!e)return d;var s=1;if(t===f&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),i<1||y<i||n!==g||r<8||15<r||t<0||9<t||a<0||p<a)return N(e,d);8===r&&(r=9);var c=new K;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+C-1)/C),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,V(e)}r=[new H(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===l)return I;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,D(e,!1),0===e.strm.avail_out))return I;if(e.strstart-e.block_start>=e.w_size-S&&(D(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===u?(D(e,!0),0===e.strm.avail_out?P:R):(e.strstart>e.block_start&&(D(e,!1),e.strm.avail_out),I)}),new H(4,4,8,4,z),new H(4,5,16,8,z),new H(4,6,32,32,z),new H(4,4,16,16,q),new H(8,16,32,32,q),new H(8,16,128,128,q),new H(8,32,128,256,q),new H(32,128,258,1024,q),new H(32,258,258,4096,q)],n.deflateInit=function(e,t){return G(e,t,g,15,8,0)},n.deflateInit2=G,n.deflateReset=V,n.deflateResetKeep=W,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,h):d},n.deflate=function(e,t){var n,o,a,c;if(!e||!e.state||5<t||t<0)return e?N(e,d):d;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&t!==u)return N(e,0===e.avail_out?-5:d);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===T)if(2===o.wrap)e.adler=0,F(o,31),F(o,139),F(o,8),o.gzhead?(F(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),F(o,255&o.gzhead.time),F(o,o.gzhead.time>>8&255),F(o,o.gzhead.time>>16&255),F(o,o.gzhead.time>>24&255),F(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),F(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(F(o,255&o.gzhead.extra.length),F(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(F(o,0),F(o,0),F(o,0),F(o,0),F(o,0),F(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),F(o,3),o.status=A);else{var f=g+(o.w_bits-8<<4)<<8;f|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=32),f+=31-f%31,o.status=A,j(o,f),0!==o.strstart&&(j(o,e.adler>>>16),j(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),L(e),a=o.pending,o.pending!==o.pending_buf_size));)F(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),L(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,F(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),L(e),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,F(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&L(e),o.pending+2<=o.pending_buf_size&&(F(o,255&e.adler),F(o,e.adler>>8&255),e.adler=0,o.status=A)):o.status=A),0!==o.pending){if(L(e),0===e.avail_out)return o.last_flush=-1,h}else if(0===e.avail_in&&O(t)<=O(n)&&t!==u)return N(e,-5);if(666===o.status&&0!==e.avail_in)return N(e,-5);if(0!==e.avail_in||0!==o.lookahead||t!==l&&666!==o.status){var p=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===l)return I;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(D(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===u?(D(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?I:E}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=_){if(U(e),e.lookahead<=_&&t===l)return I;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=C&&0<e.strstart&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+_;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=_-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(n=i._tr_tally(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(D(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===u?(D(e,!0),0===e.strm.avail_out?P:R):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?I:E}(o,t):r[o.level].func(o,t);if(p!==P&&p!==R||(o.status=666),p===I||p===P)return 0===e.avail_out&&(o.last_flush=-1),h;if(p===E&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(M(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),L(e),0===e.avail_out))return o.last_flush=-1,h}return t!==u?h:o.wrap<=0?1:(2===o.wrap?(F(o,255&e.adler),F(o,e.adler>>8&255),F(o,e.adler>>16&255),F(o,e.adler>>24&255),F(o,255&e.total_in),F(o,e.total_in>>8&255),F(o,e.total_in>>16&255),F(o,e.total_in>>24&255)):(j(o,e.adler>>>16),j(o,65535&e.adler)),L(e),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==T&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?N(e,d):(e.state=null,t===A?N(e,-3):h):d},n.deflateSetDictionary=function(e,t){var n,r,i,s,c,l,u,f,p=t.length;if(!e||!e.state)return d;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==T||n.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(M(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new o.Buf8(n.w_size),o.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,U(n);n.lookahead>=C;){for(r=n.strstart,i=n.lookahead-(C-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+C-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=C-1,U(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,n.wrap=s,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,r,o,i,a,s,c,l,u,h,d,f,p,m,g,y,v,w,b,k,x,C,_,S,T;n=e.state,r=e.next_in,S=e.input,o=r+(e.avail_in-5),i=e.next_out,T=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=S[r++]<<p,p+=8,f+=S[r++]<<p,p+=8),w=m[f&y];t:for(;;){if(f>>>=b=w>>>24,p-=b,0===(b=w>>>16&255))T[i++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=m[(65535&w)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}k=65535&w,(b&=15)&&(p<b&&(f+=S[r++]<<p,p+=8),k+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=S[r++]<<p,p+=8,f+=S[r++]<<p,p+=8),w=g[f&v];n:for(;;){if(f>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=g[(65535&w)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&w,p<(b&=15)&&(f+=S[r++]<<p,(p+=8)<b&&(f+=S[r++]<<p,p+=8)),c<(x+=f&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,p-=b,(b=i-a)<x){if(u<(b=x-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=d,(C=0)===h){if(C+=l-b,b<k){for(k-=b;T[i++]=d[C++],--b;);C=i-x,_=T}}else if(h<b){if(C+=l+h-b,(b-=h)<k){for(k-=b;T[i++]=d[C++],--b;);if(C=0,h<k){for(k-=b=h;T[i++]=d[C++],--b;);C=i-x,_=T}}}else if(C+=h-b,b<k){for(k-=b;T[i++]=d[C++],--b;);C=i-x,_=T}for(;2<k;)T[i++]=_[C++],T[i++]=_[C++],T[i++]=_[C++],k-=3;k&&(T[i++]=_[C++],1<k&&(T[i++]=_[C++]))}else{for(C=i-x;T[i++]=T[C++],T[i++]=T[C++],T[i++]=T[C++],2<(k-=3););k&&(T[i++]=T[C++],1<k&&(T[i++]=T[C++]))}break}}break}}while(r<o&&i<s);r-=k=p>>3,f&=(1<<(p-=k<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){var r=e("../utils/common"),o=e("./adler32"),i=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=1,l=2,u=0,h=-2,d=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):h}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,y(e)):h}function w(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):h}function b(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=w(e,t))!==u&&(e.state=null),n):h}var k,x,C=!0;function _(e){if(C){var t;for(k=new r.Buf32(512),x=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,k,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,x,0,e.work,{bits:5}),C=!1}e.lencode=k,e.lenbits=9,e.distcode=x,e.distbits=5}function S(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(i=a.wsize-a.wnext)&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}n.inflateReset=v,n.inflateReset2=w,n.inflateResetKeep=y,n.inflateInit=function(e){return b(e,15)},n.inflateInit2=b,n.inflate=function(e,t){var n,f,p,g,y,v,w,b,k,x,C,T,A,I,E,P,R,N,O,M,L,D,F,j,B=0,U=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),y=e.next_out,p=e.output,w=e.avail_out,g=e.next_in,f=e.input,v=e.avail_in,b=n.hold,k=n.bits,x=v,C=w,D=u;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;k<16;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(2&n.wrap&&35615===b){U[n.check=0]=255&b,U[1]=b>>>8&255,n.check=i(n.check,U,2,0),k=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){e.msg="unknown compression method",n.mode=30;break}if(k-=4,L=8+(15&(b>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&b?10:12,k=b=0;break;case 2:for(;k<16;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(n.flags=b,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=i(n.check,U,2,0)),k=b=0,n.mode=3;case 3:for(;k<32;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}n.head&&(n.head.time=b),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,U[2]=b>>>16&255,U[3]=b>>>24&255,n.check=i(n.check,U,4,0)),k=b=0,n.mode=4;case 4:for(;k<16;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=i(n.check,U,2,0)),k=b=0,n.mode=5;case 5:if(1024&n.flags){for(;k<16;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=i(n.check,U,2,0)),k=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(T=n.length)&&(T=v),T&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,g,T,L)),512&n.flags&&(n.check=i(n.check,f,T,g)),v-=T,g+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;for(T=0;L=f[g+T++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L)),L&&T<v;);if(512&n.flags&&(n.check=i(n.check,f,T,g)),v-=T,g+=T,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;for(T=0;L=f[g+T++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L)),L&&T<v;);if(512&n.flags&&(n.check=i(n.check,f,T,g)),v-=T,g+=T,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;k<16;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}k=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;k<32;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}e.adler=n.check=m(b),k=b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=y,e.avail_out=w,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=k,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){b>>>=7&k,k-=7&k,n.mode=27;break}for(;k<3;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}switch(n.last=1&b,k-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6!==t)break;b>>>=2,k-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}b>>>=2,k-=2;break;case 14:for(b>>>=7&k,k-=7&k;k<32;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,k=b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(v<T&&(T=v),w<T&&(T=w),0===T)break e;r.arraySet(p,f,g,T,y),v-=T,g+=T,w-=T,y+=T,n.length-=T;break}n.mode=12;break;case 17:for(;k<14;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(n.nlen=257+(31&b),b>>>=5,k-=5,n.ndist=1+(31&b),b>>>=5,k-=5,n.ncode=4+(15&b),b>>>=4,k-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;k<3;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}n.lens[z[n.have++]]=7&b,b>>>=3,k-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},D=s(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,D){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(B=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,R=65535&B,!((E=B>>>24)<=k);){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(R<16)b>>>=E,k-=E,n.lens[n.have++]=R;else{if(16===R){for(j=E+2;k<j;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(b>>>=E,k-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}L=n.lens[n.have-1],T=3+(3&b),b>>>=2,k-=2}else if(17===R){for(j=E+3;k<j;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}k-=E,L=0,T=3+(7&(b>>>=E)),b>>>=3,k-=3}else{for(j=E+7;k<j;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}k-=E,L=0,T=11+(127&(b>>>=E)),b>>>=7,k-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;T--;)n.lens[n.have++]=L}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,F={bits:n.lenbits},D=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,D){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},D=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,D){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=w){e.next_out=y,e.avail_out=w,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=k,a(e,C),y=e.next_out,p=e.output,w=e.avail_out,g=e.next_in,f=e.input,v=e.avail_in,b=n.hold,k=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;P=(B=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,R=65535&B,!((E=B>>>24)<=k);){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(P&&0==(240&P)){for(N=E,O=P,M=R;P=(B=n.lencode[M+((b&(1<<N+O)-1)>>N)])>>>16&255,R=65535&B,!(N+(E=B>>>24)<=k);){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}b>>>=N,k-=N,n.back+=N}if(b>>>=E,k-=E,n.back+=E,n.length=R,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=12;break}if(64&P){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(j=n.extra;k<j;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,k-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(B=n.distcode[b&(1<<n.distbits)-1])>>>16&255,R=65535&B,!((E=B>>>24)<=k);){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(0==(240&P)){for(N=E,O=P,M=R;P=(B=n.distcode[M+((b&(1<<N+O)-1)>>N)])>>>16&255,R=65535&B,!(N+(E=B>>>24)<=k);){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}b>>>=N,k-=N,n.back+=N}if(b>>>=E,k-=E,n.back+=E,64&P){e.msg="invalid distance code",n.mode=30;break}n.offset=R,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(j=n.extra;k<j;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,k-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===w)break e;if(T=C-w,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A=T>n.wnext?(T-=n.wnext,n.wsize-T):n.wnext-T,T>n.length&&(T=n.length),I=n.window}else I=p,A=y-n.offset,T=n.length;for(w<T&&(T=w),w-=T,n.length-=T;p[y++]=I[A++],--T;);0===n.length&&(n.mode=21);break;case 26:if(0===w)break e;p[y++]=n.length,w--,n.mode=21;break;case 27:if(n.wrap){for(;k<32;){if(0===v)break e;v--,b|=f[g++]<<k,k+=8}if(C-=w,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?i(n.check,p,C,y-C):o(n.check,p,C,y-C)),C=w,(n.flags?b:m(b))!==n.check){e.msg="incorrect data check",n.mode=30;break}k=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;k<32;){if(0===v)break e;v--,b+=f[g++]<<k,k+=8}if(b!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}k=b=0}n.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;default:return h}return e.next_out=y,e.avail_out=w,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=k,(n.wsize||C!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(x-=e.avail_in,C-=e.avail_out,e.total_in+=x,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?i(n.check,p,C,e.next_out-C):o(n.check,p,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==x&&0===C||4===t)&&D===u&&(D=-5),D)},n.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?h:((n.head=t).done=!1,u):h},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&o(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,h,d){var f,p,m,g,y,v,w,b,k,x=d.bits,C=0,_=0,S=0,T=0,A=0,I=0,E=0,P=0,R=0,N=0,O=null,M=0,L=new r.Buf16(16),D=new r.Buf16(16),F=null,j=0;for(C=0;C<=15;C++)L[C]=0;for(_=0;_<c;_++)L[t[n+_]]++;for(A=x,T=15;1<=T&&0===L[T];T--);if(T<A&&(A=T),0===T)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(S=1;S<T&&0===L[S];S++);for(A<S&&(A=S),C=P=1;C<=15;C++)if(P<<=1,(P-=L[C])<0)return-1;if(0<P&&(0===e||1!==T))return-1;for(D[1]=0,C=1;C<15;C++)D[C+1]=D[C]+L[C];for(_=0;_<c;_++)0!==t[n+_]&&(h[D[t[n+_]]++]=_);if(v=0===e?(O=F=h,19):1===e?(O=o,M-=257,F=i,j-=257,256):(O=a,F=s,-1),C=S,y=u,E=_=N=0,m=-1,g=(R=1<<(I=A))-1,1===e&&852<R||2===e&&592<R)return 1;for(;;){for(w=C-E,k=h[_]<v?(b=0,h[_]):h[_]>v?(b=F[j+h[_]],O[M+h[_]]):(b=96,0),f=1<<C-E,S=p=1<<I;l[y+(N>>E)+(p-=f)]=w<<24|b<<16|k,0!==p;);for(f=1<<C-1;N&f;)f>>=1;if(0!==f?(N&=f-1,N+=f):N=0,_++,0==--L[C]){if(C===T)break;C=t[n+h[_]]}if(A<C&&(N&g)!==m){for(0===E&&(E=A),y+=S,P=1<<(I=C-E);I+E<T&&!((P-=L[I+E])<=0);)I++,P<<=1;if(R+=1<<I,1===e&&852<R||2===e&&592<R)return 1;l[m=N&g]=A<<24|I<<16|y-u}}return 0!==N&&(l[y+N]=C-E<<24|64<<16),d.bits=A,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var r=e("../utils/common"),o=0,i=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,l=256,u=l+1+c,h=30,d=19,f=2*u+1,p=15,m=16,g=7,y=256,v=16,w=17,b=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(u+2));a(S);var T=new Array(2*h);a(T);var A=new Array(512);a(A);var I=new Array(256);a(I);var E=new Array(c);a(E);var P,R,N,O=new Array(h);function M(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function D(e){return e<256?A[e]:A[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function j(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function B(e,t,n){j(e,n[2*t],n[2*t+1])}function U(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function z(e,t,n){var r,o,i=new Array(p+1),a=0;for(r=1;r<=p;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=U(i[s]++,s))}}function q(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){8<e.bi_valid?F(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function K(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function W(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&K(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!K(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function V(e,t,n){var r,o,i,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?B(e,o,t):(B(e,(i=I[o])+l+1,t),0!==(a=k[i])&&j(e,o-=E[i],a),B(e,i=D(--r),n),0!==(a=x[i])&&j(e,r-=O[i],a)),s<e.last_lit;);B(e,y,t)}function G(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)W(e,i,n);for(o=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,W(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,y=0;for(i=0;i<=p;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)g<(i=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(i=g,y++),c[2*r+1]=i,l<r||(e.bl_count[i]++,a=0,m<=r&&(a=d[r-m]),s=c[2*r],e.opt_len+=s*(i+a),h&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==y){do{for(i=g-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[g]--,y-=2}while(0<y);for(i=g;0!==i;i--)for(r=e.bl_count[i];0!==r;)l<(o=e.heap[--n])||(c[2*o+1]!==i&&(e.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),r--)}}(e,t),z(i,l,e.bl_count)}function Q(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*v]++):s<=10?e.bl_tree[2*w]++:e.bl_tree[2*b]++,i=o,l=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4))}function Y(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<c&&o===a)){if(s<l)for(;B(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==i&&(B(e,o,e.bl_tree),s--),B(e,v,e.bl_tree),j(e,s-3,2)):s<=10?(B(e,w,e.bl_tree),j(e,s-3,3)):(B(e,b,e.bl_tree),j(e,s-11,7));i=o,l=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4)}}a(O);var J=!1;function X(e,t,n,o){var i,a,c;j(e,(s<<1)+(o?1:0),3),a=t,c=n,H(i=e),F(i,c),F(i,~c),r.arraySet(i.pending_buf,i.window,a,c,i.pending),i.pending+=c}n._tr_init=function(e){J||(function(){var e,t,n,r,o,i=new Array(p+1);for(r=n=0;r<c-1;r++)for(E[r]=n,e=0;e<1<<k[r];e++)I[n++]=r;for(I[n-1]=r,r=o=0;r<16;r++)for(O[r]=o,e=0;e<1<<x[r];e++)A[o++]=r;for(o>>=7;r<h;r++)for(O[r]=o<<7,e=0;e<1<<x[r]-7;e++)A[256+o++]=r;for(t=0;t<=p;t++)i[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,i[8]++;for(;e<=255;)S[2*e+1]=9,e++,i[9]++;for(;e<=279;)S[2*e+1]=7,e++,i[7]++;for(;e<=287;)S[2*e+1]=8,e++,i[8]++;for(z(S,u+1,i),e=0;e<h;e++)T[2*e+1]=5,T[2*e]=U(e,5);P=new M(S,k,l+1,u,p),R=new M(T,x,0,h,p),N=new M(new Array(0),C,0,d,g)}(),J=!0),e.l_desc=new L(e.dyn_ltree,P),e.d_desc=new L(e.dyn_dtree,R),e.bl_desc=new L(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,q(e)},n._tr_stored_block=X,n._tr_flush_block=function(e,t,n,r){var a,s,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return i;return o}(e)),G(e,e.l_desc),G(e,e.d_desc),c=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?X(e,t,n,r):4===e.strategy||s===a?(j(e,2+(r?1:0),3),V(e,S,T)):(j(e,4+(r?1:0),3),function(e,t,n,r){var o;for(j(e,t-257,5),j(e,n-1,5),j(e,r-4,4),o=0;o<r;o++)j(e,e.bl_tree[2*_[o]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),V(e,e.dyn_ltree,e.dyn_dtree)),q(e),r&&H(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+l+1)]++,e.dyn_dtree[2*D(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;j(e,2,3),B(e,y,S),16===(t=e).bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,r,o,i,a=1,s={},c=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){Fd.nextTick(function(){d(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return s[a]=o,n(a),a++},u.clearImmediate=h}function h(e){delete s[e]}function d(e){if(c)setTimeout(d,0,e);else{var n=s[e];if(n){c=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{h(e),c=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&d(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof dd?dd:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)),qC.exports));var KC,WC,VC,GC={exports:{}};var QC=function(){if(VC)return GC.exports;VC=1;var e=function(){if(WC)return KC;WC=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};return KC=function(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(t,n){return e[n]}):t}}(),t=Ug().Stream;function n(t,r,o){o=o||0;var i,a,s=(i=r,new Array(o||0).join(i||"")),c=t;if("object"===typeof t&&((c=t[a=Object.keys(t)[0]])&&c._elem))return c._elem.name=a,c._elem.icount=o,c._elem.indent=r,c._elem.indents=s,c._elem.interrupt=c,c._elem;var l,u=[],h=[];function d(t){Object.keys(t).forEach(function(n){u.push(function(t,n){return t+'="'+e(n)+'"'}(n,t[n]))})}switch(typeof c){case"object":if(null===c)break;c._attr&&d(c._attr),c._cdata&&h.push(("<![CDATA["+c._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),c.forEach&&(l=!1,h.push(""),c.forEach(function(t){"object"==typeof t?"_attr"==Object.keys(t)[0]?d(t._attr):h.push(n(t,r,o+1)):(h.pop(),l=!0,h.push(e(t)))}),l||h.push(""));break;default:h.push(e(c))}return{name:a,interrupt:!1,attributes:u,content:h,icount:o,indents:s,indent:r}}function r(e,t,n){if("object"!=typeof t)return e(!1,t);var o=t.interrupt?1:t.content.length;function i(){for(;t.content.length;){var i=t.content.shift();if(void 0!==i){if(a(i))return;r(e,i)}}e(!1,(o>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!n?"\n":"")),n&&n()}function a(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=i,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(o?t.name?">":"":t.name?"/>":"")+(t.indent&&o>1?"\n":"")),!o)return e(!1,t.indent?"\n":"");a(t)||i()}return GC.exports=function(e,o){"object"!==typeof o&&(o={indent:o});var i=o.stream?new t:null,a="",s=!1,c=o.indent?!0===o.indent?"    ":o.indent:"",l=!0;function u(e){l?Fd.nextTick(e):e()}function h(e,n){if(void 0!==n&&(a+=n),e&&!s&&(i=i||new t,s=!0),e&&s){var r=a;u(function(){i.emit("data",r)}),a=""}}function d(e,t){r(h,n(e,c,c?1:0),t)}function f(){if(i){var e=a;u(function(){i.emit("data",e),i.emit("end"),i.readable=!1,i.emit("close")})}}return u(function(){l=!1}),o.declaration&&function(e){var t={version:"1.0",encoding:e.encoding||"UTF-8"};e.standalone&&(t.standalone=e.standalone),d({"?xml":{_attr:t}}),a=a.replace("/>","?>")}(o.declaration),e&&e.forEach?e.forEach(function(t,n){var r;n+1===e.length&&(r=f),d(t,r)}):d(e,f),i?(i.readable=!0,i):a},GC.exports.element=GC.exports.Element=function(){var e={_elem:n(Array.prototype.slice.call(arguments)),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,o=this._elem.indent;r(this.append,n(e,o,this._elem.icount+(o?1:0)),function(){t.append(!0)})},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}};return e},GC.exports}();const YC=fd(QC),JC=(e,t)=>{const n=t.replace(/-/g,"");if(32!==n.length)throw new Error("Error: Cannot extract GUID from font filename: ".concat(t));const r=n.replace(/(..)/g,"$1 ").trim().split(" ").map(e=>parseInt(e,16));r.reverse();const o=e.slice(0,32).map((e,t)=>e^r[t%r.length]),i=new Uint8Array(0+o.length+Math.max(0,e.length-32));return i.set(e.slice(0,0)),i.set(o,0),i.set(e.slice(32),0+o.length),i};class XC{format(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stack:[]};const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class ZC{replace(e,t,n){let r=e;return t.forEach((e,t)=>{r=r.replace(new RegExp("{".concat(e.fileName,"}"),"g"),(n+t).toString())}),r}getMediaData(e,t){return t.Array.filter(t=>e.search("{".concat(t.fileName,"}"))>0)}}class $C{replace(e,t){let n=e;for(const r of t)n=n.replace(new RegExp("{".concat(r.reference,"-").concat(r.instance,"}"),"g"),r.numId.toString());return n}}const e_="  ",t_=e=>!0===e?e_:!1===e?void 0:e,n_=class e{static pack(e,t,n){return od(this,arguments,function(e,t,n){var r=this;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function*(){return r.compiler.compile(e,t_(n),o).generateAsync({type:t,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}()})}static toString(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.pack(t,"string",n,r)}static toBuffer(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.pack(t,"nodebuffer",n,r)}static toBase64String(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.pack(t,"base64",n,r)}static toBlob(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.pack(t,"blob",n,r)}static toArrayBuffer(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.pack(t,"arraybuffer",n,r)}static toStream(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=new BC.Stream;return this.compiler.compile(e,t_(t),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(e=>{r.emit("data",e),r.emit("end")}),r}};rd(n_,"compiler",new class{constructor(){rd(this,"formatter"),rd(this,"imageReplacer"),rd(this,"numberingReplacer"),this.formatter=new XC,this.imageReplacer=new ZC,this.numberingReplacer=new $C}compile(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=new HC,o=this.xmlifyFile(e,t),i=new Map(Object.entries(o));for(const[,a]of i)if(Array.isArray(a))for(const e of a)r.file(e.path,e.data);else r.file(a.path,a.data);for(const a of n)r.file(a.path,a.data);for(const a of e.Media.Array)"svg"!==a.type?r.file("word/media/".concat(a.fileName),a.data):(r.file("word/media/".concat(a.fileName),a.data),r.file("word/media/".concat(a.fallback.fileName),a.fallback.data));for(const{data:a,name:s,fontKey:c}of e.FontTable.fontOptionsWithKey){const[e]=s.split(".");r.file("word/fonts/".concat(e,".odttf"),JC(a,c))}return r}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,r=YC(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=e.Comments.Relationships.RelationshipCount+1,i=YC(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(r,e.Media),s=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(()=>(a.forEach((t,r)=>{e.Document.Relationships.createRelationship(n+r,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/".concat(t.fileName))}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),YC(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const t=this.imageReplacer.replace(r,a,n);return this.numberingReplacer.replace(t,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const n=YC(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(n,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:YC(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:YC(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:YC(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((n,r)=>{const o=YC(this.formatter.format(n.View,{viewWrapper:n,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(o,e.Media).forEach((e,t)=>{n.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/".concat(e.fileName))}),{data:YC(this.formatter.format(n.Relationships,{viewWrapper:n,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/header".concat(r+1,".xml.rels")}}),FooterRelationships:e.Footers.map((n,r)=>{const o=YC(this.formatter.format(n.View,{viewWrapper:n,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(o,e.Media).forEach((e,t)=>{n.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/".concat(e.fileName))}),{data:YC(this.formatter.format(n.Relationships,{viewWrapper:n,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footer".concat(r+1,".xml.rels")}}),Headers:e.Headers.map((n,r)=>{const o=YC(this.formatter.format(n.View,{viewWrapper:n,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),i=this.imageReplacer.getMediaData(o,e.Media),a=this.imageReplacer.replace(o,i,0);return{data:this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering),path:"word/header".concat(r+1,".xml")}}),Footers:e.Footers.map((n,r)=>{const o=YC(this.formatter.format(n.View,{viewWrapper:n,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),i=this.imageReplacer.getMediaData(o,e.Media),a=this.imageReplacer.replace(o,i,0);return{data:this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering),path:"word/footer".concat(r+1,".xml")}}),ContentTypes:{data:YC(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:YC(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:YC(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:YC(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:YC(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:YC(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const t=this.imageReplacer.replace(i,s,o);return this.numberingReplacer.replace(t,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(()=>(s.forEach((t,n)=>{e.Comments.Relationships.createRelationship(o+n,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image","media/".concat(t.fileName))}),YC(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/comments.xml.rels"},FontTable:{data:YC(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:(()=>YC(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}))(),path:"word/_rels/fontTable.xml.rels"}}}});let r_=n_;new XC,new XC,new ZC,new Uint8Array([255,254]),new Uint8Array([254,255]);function o_(e,t){return 3!==e||t.areas&&t.areas.length>0}function i_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e.id||e.name;if(n.has(r))return"";n.add(r);let o="".concat(t,". ").concat(e.name);return void 0!==e.noiseLevelDb&&(o+=" \u2013 ".concat(e.noiseLevelDb," dB (").concat(e.noiseType||"N/A",")")),void 0!==e.shiftDuration&&(o+=", Shift: ".concat(e.shiftDuration,"h")),void 0!==e.exposureTime&&(o+=", Exposure: ".concat(e.exposureTime,"h")),e.notes&&(o+=", Notes: ".concat(e.notes)),o+="\n",e.subAreas&&e.subAreas.length>0&&e.subAreas.forEach((e,r)=>{const i="".concat(t,".").concat(r+1);o+=i_(e,i,n)}),o}function a_(e){let t="Client: ".concat(e.client,"\nProject: ").concat(e.project,"\nSite: ").concat(e.site,"\nSurvey Type: ").concat(e.surveyType,"\nStart Date: ").concat(e.startDate,"\nEnd Date: ").concat(e.endDate,"\nDescription: ").concat(e.description,"\n\nEquipment Used:\n");return e.equipment.length>0?e.equipment.forEach((e,n)=>{t+="  ".concat(n+1,". ").concat(e.name," (").concat(e.type,") - Serial: ").concat(e.serial,", Calibrated: ").concat(e.calibrationDate||"N/A","\n")}):t+="  None\n",t+="\nAreas Surveyed:\n",e.areas.length>0?e.areas.forEach((e,n)=>{t+=i_(e,"".concat(n+1))}):t+="  None\n",t}function s_(e){var t,n,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const a=e.id||e.name;if(i.has(a))return[];i.add(a);let s=[new ex({children:[new Uk({children:[new xk({text:o,alignment:by.LEFT})]}),new Uk({children:[new xk({text:e.name,alignment:by.LEFT})]}),new Uk({children:[new xk({text:(null===(t=e.noiseLevelDb)||void 0===t?void 0:t.toString())||"",alignment:by.CENTER})]}),new Uk({children:[new xk({text:e.noiseType||"",alignment:by.CENTER})]}),new Uk({children:[new xk({text:(null===(n=e.shiftDuration)||void 0===n?void 0:n.toString())||"",alignment:by.CENTER})]}),new Uk({children:[new xk({text:(null===(r=e.exposureTime)||void 0===r?void 0:r.toString())||"",alignment:by.CENTER})]}),new Uk({children:[new xk({text:e.notes||"",alignment:by.LEFT})]})]})];return e.subAreas&&e.subAreas.length>0&&e.subAreas.forEach((e,t)=>{const n="".concat(o,".").concat(t+1);s=s.concat(s_(e,n,i))}),s}async function c_(e,t){const n=[];if(t&&n.push(new xk({children:[new lb({data:new Uint8Array(t),transformation:{width:120,height:40},type:"png"})],alignment:by.LEFT,spacing:{after:300}})),n.push(new xk({text:"Survey Summary",heading:"Heading1"}),new xk({children:[new gv("Client: ".concat(e.client))]}),new xk({children:[new gv("Project: ".concat(e.project))]}),new xk({children:[new gv("Site: ".concat(e.site))]}),new xk({children:[new gv("Survey Type: ".concat(e.surveyType))]}),new xk({children:[new gv("Start Date: ".concat(e.startDate))]}),new xk({children:[new gv("End Date: ".concat(e.endDate))]}),new xk({children:[new gv("Description: ".concat(e.description))]}),new xk({text:"Equipment Used",heading:"Heading2"})),e.equipment.length>0){const t=new ex({children:[new Uk({children:[new xk("Name")]}),new Uk({children:[new xk("Type")]}),new Uk({children:[new xk("Serial")]}),new Uk({children:[new xk("Calibration Date")]})]}),r=e.equipment.map(e=>new ex({children:[new Uk({children:[new xk(e.name)]}),new Uk({children:[new xk(e.type)]}),new Uk({children:[new xk(e.serial)]}),new Uk({children:[new xk(e.calibrationDate||"N/A")]})]}));n.push(new Jk({rows:[t,...r],width:{size:100,type:Ik.PERCENTAGE},borders:{top:{style:Sy,size:1,color:"000000"},bottom:{style:Sy,size:1,color:"000000"},left:{style:Sy,size:1,color:"000000"},right:{style:Sy,size:1,color:"000000"},insideHorizontal:{style:Sy,size:1,color:"000000"},insideVertical:{style:Sy,size:1,color:"000000"}}}))}else n.push(new xk("None"));if(n.push(new xk({text:"Areas Surveyed",heading:"Heading2"})),e.areas.length>0){let t=[new ex({children:[new Uk({children:[new xk("No.")]}),new Uk({children:[new xk("Area Name")]}),new Uk({children:[new xk("Noise Level (dB)")]}),new Uk({children:[new xk("Noise Type")]}),new Uk({children:[new xk("Shift (hrs)")]}),new Uk({children:[new xk("Exposure (hrs)")]}),new Uk({children:[new xk("Notes")]})]})];e.areas.forEach((e,n)=>{t=t.concat(s_(e,"".concat(n+1)))}),n.push(new Jk({rows:t,width:{size:100,type:Ik.PERCENTAGE},borders:{top:{style:Sy,size:1,color:"000000"},bottom:{style:Sy,size:1,color:"000000"},left:{style:Sy,size:1,color:"000000"},right:{style:Sy,size:1,color:"000000"},insideHorizontal:{style:Sy,size:1,color:"000000"},insideVertical:{style:Sy,size:1,color:"000000"}}}))}else n.push(new xk("None"));return n}function l_(e){let{data:t,onChange:n,onNext:r,onBack:o,onSave:i}=e;const a=o_(1,t),s=!!t.client&&!!t.project&&!!t.site&&!!t.startDate&&!!t.endDate&&!!t.description,c=!!t.client||!!t.project;return(0,qh.jsxs)(Wh,{title:"",children:[(0,qh.jsxs)("div",{className:"flex justify-between items-center mb-6 relative",children:[(0,qh.jsx)("h2",{className:"text-xl font-bold absolute left-1/2 transform -translate-x-1/2",children:"Start New Survey"}),c&&(0,qh.jsxs)("div",{className:"ml-auto text-sm text-gray-700 text-right",children:[t.client&&(0,qh.jsxs)("div",{children:[(0,qh.jsx)("span",{className:"font-bold",children:"Client:"})," ",(0,qh.jsx)("span",{children:t.client})]}),t.project&&(0,qh.jsxs)("div",{children:[(0,qh.jsx)("span",{className:"font-bold",children:"Project:"})," ",(0,qh.jsx)("span",{children:t.project})]})]})]}),(0,qh.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Client",value:t.client||"",onChange:e=>n({client:e}),placeholder:"e.g., Gijima Digital"})}),(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Project",value:t.project||"",onChange:e=>n({project:e}),placeholder:"e.g., Noise Study 2025"})})]}),(0,qh.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Start Date",value:t.startDate||"",onChange:e=>n({startDate:e}),type:"date",placeholder:"Select Start Date"})}),(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"End Date",value:t.endDate||"",onChange:e=>n({endDate:e}),type:"date",placeholder:"Select End Date"})})]}),(0,qh.jsx)("div",{className:"mb-6",children:(0,qh.jsx)("span",{className:"font-bold underline uppercase text-black text-sm",children:"Survey Type:"})}),(0,qh.jsx)("div",{className:"mb-4",children:(0,qh.jsx)(Vh,{label:"Site",value:t.site||"",onChange:e=>n({site:e}),placeholder:"e.g., Durban Plant"})}),(0,qh.jsx)(Vh,{label:"Process and Task Description",value:t.description||"",onChange:e=>n({description:e}),placeholder:"Describe the task being surveyed"}),(0,qh.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,qh.jsx)(Gh,{onClick:o,variant:"secondary",children:"Back"}),(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)(Gh,{onClick:i,disabled:!a||!s,variant:"primary",children:"Save"}),(0,qh.jsx)(Gh,{onClick:r,disabled:!a||!s,variant:"success",children:"Next"})]})]})]})}function u_(e){let{label:t,value:n,options:r,onChange:o,disabled:i=!1}=e;return(0,qh.jsxs)("div",{className:"mb-4 w-full",children:[(0,qh.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:t}),(0,qh.jsxs)("select",{value:n,onChange:e=>o(e.target.value),disabled:i,className:"w-full rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none ".concat(i?"bg-gray-100 cursor-not-allowed":"bg-white"),children:[(0,qh.jsx)("option",{value:"",children:"Select..."}),r.map(e=>(0,qh.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}function h_(e){let{open:t,title:n,message:r,confirmText:o="Yes",cancelText:i="Cancel",onConfirm:a,onCancel:s}=e;return t?(0,qh.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,qh.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[(0,qh.jsx)("h3",{className:"text-lg font-bold mb-2",children:n}),(0,qh.jsx)("p",{className:"text-gray-700 mb-6",children:r}),(0,qh.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,qh.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-md bg-gray-200 hover:bg-gray-300 text-sm font-medium",children:i}),(0,qh.jsx)("button",{onClick:a,className:"px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white text-sm font-medium",children:o})]})]})}):null}function d_(t){let{data:n,onChange:r,onPrev:o,onNext:i,onSave:a,onDetails:c}=t;const[l,u]=(0,e.useState)({id:"",type:"",name:"",serial:"",weighting:"A",responseImpulse:"Impulse",responseLEQ:"LEQ",pre:"",during:"",post:"",areaRef:"",startDate:"",endDate:""}),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(()=>{}),w=()=>{u({id:"",type:"",name:"",serial:"",weighting:"A",responseImpulse:"Impulse",responseLEQ:"LEQ",pre:"",during:"",post:"",areaRef:"",startDate:"",endDate:""}),d(null)},b=e=>{const t=n.equipment.find(t=>t.id===e),o=(null===t||void 0===t?void 0:t.name)||"this equipment";var i,a;i=()=>{const t=n.equipment.filter(t=>t.id!==e);r({equipment:t}),h===e&&w()},a='Are you sure you want to permanently delete "'.concat(o,'"?'),g(a),v(()=>()=>{i(),p(!1)}),p(!0)},k=o_(2,n);return(0,qh.jsxs)(Wh,{title:"",children:[(0,qh.jsxs)("div",{className:"flex justify-center mb-6 relative",children:[(0,qh.jsx)("h2",{className:"text-xl font-bold text-center",children:"Equipment Entry"}),(0,qh.jsxs)("div",{className:"absolute right-0 text-sm text-gray-600 text-right",children:[(0,qh.jsxs)("div",{children:[(0,qh.jsx)("span",{className:"font-bold",children:"Client:"})," ",n.client||"\u2014"]}),(0,qh.jsxs)("div",{children:[(0,qh.jsx)("span",{className:"font-bold",children:"Project:"})," ",n.project||"\u2014"]})]})]}),(0,qh.jsx)("div",{className:"flex gap-4 mb-4",children:(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(u_,{label:"Equipment Type",value:l.type,options:[{label:"SLM",value:"SLM"},{label:"Calibrator",value:"Calibrator"}],onChange:e=>u(t=>s(s({},t),{},{type:e,weighting:"SLM"===e?"A":"",responseImpulse:"SLM"===e?"Impulse":"",responseLEQ:"SLM"===e?"LEQ":""})),disabled:null!==h})})}),l.type&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Device Name",value:l.name,onChange:e=>u(t=>s(s({},t),{},{name:e})),placeholder:"e.g., SLM 2250"})}),(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Serial Number",value:l.serial,onChange:e=>u(t=>s(s({},t),{},{serial:e})),placeholder:"e.g., SN123456"})})]}),(0,qh.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Start Date",type:"date",value:l.startDate||"",onChange:e=>u(t=>s(s({},t),{},{startDate:e})),placeholder:""})}),(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"End Date",type:"date",value:l.endDate||"",onChange:e=>u(t=>s(s({},t),{},{endDate:e})),placeholder:""})})]}),"SLM"===l.type&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsx)("h4",{className:"text-md font-bold underline mb-2",children:"SETTINGS:"}),(0,qh.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,qh.jsx)("div",{className:"w-1/3",children:(0,qh.jsx)(u_,{label:"Weighting",value:l.weighting,options:[{label:"A",value:"A"},{label:"C",value:"C"},{label:"Z",value:"Z"}],onChange:e=>u(t=>s(s({},t),{},{weighting:e}))})}),(0,qh.jsx)("div",{className:"w-1/3",children:(0,qh.jsx)(u_,{label:"Response Impulse",value:l.responseImpulse,options:[{label:"Impulse",value:"Impulse"},{label:"Fast",value:"Fast"},{label:"Slow",value:"Slow"},{label:"Peak",value:"Peak"}],onChange:e=>u(t=>s(s({},t),{},{responseImpulse:e}))})}),(0,qh.jsx)("div",{className:"w-1/3",children:(0,qh.jsx)(u_,{label:"LEQ/SPL",value:l.responseLEQ,options:[{label:"LEQ",value:"LEQ"},{label:"SPL",value:"SPL"}],onChange:e=>u(t=>s(s({},t),{},{responseLEQ:e}))})})]})]}),"Calibrator"===l.type&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsx)("h4",{className:"text-md font-bold underline mb-2",children:"REFERENCE SPL:"}),(0,qh.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[(0,qh.jsx)(Vh,{label:"Pre (dB)",type:"number",value:l.pre,onChange:e=>u(t=>s(s({},t),{},{pre:e})),placeholder:""}),(0,qh.jsx)(Vh,{label:"During (dB)",type:"number",value:l.during,onChange:e=>u(t=>s(s({},t),{},{during:e})),placeholder:""}),(0,qh.jsx)(Vh,{label:"Post (dB)",type:"number",value:l.post,onChange:e=>u(t=>s(s({},t),{},{post:e})),placeholder:""}),(0,qh.jsx)(Vh,{label:"Area Ref (dB)",type:"number",value:l.areaRef,onChange:e=>u(t=>s(s({},t),{},{areaRef:e})),placeholder:""})]})]}),(0,qh.jsxs)("div",{className:"flex justify-end gap-2 mb-4",children:[h&&(0,qh.jsx)(Gh,{variant:"secondary",onClick:w,children:"Cancel Edit"}),(0,qh.jsx)(Gh,{onClick:()=>{if(l.type&&l.name){if(h){const e=n.equipment.map(e=>e.id===h?s(s({},l),{},{id:h}):e);r({equipment:e})}else{const e=s(s({},l),{},{id:Date.now().toString()});r({equipment:[...n.equipment,e]})}w()}},disabled:!l.type||!l.name,children:h?"Update Equipment":"+ Add Equipment"})]})]}),n.equipment.length>0&&["SLM","Calibrator"].map(e=>{const t=n.equipment.filter(t=>t.type===e);return t.length?(0,qh.jsxs)("div",{className:"mb-4",children:[(0,qh.jsx)("h4",{className:"text-md font-semibold mb-2",children:e}),(0,qh.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-md text-sm",children:[(0,qh.jsx)("thead",{className:"bg-gray-100",children:(0,qh.jsxs)("tr",{children:[(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"#"}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Device"}),"SLM"===e&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Weighting"}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Response"}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"LEQ/SPL"})]}),"Calibrator"===e&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Pre"}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"During"}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Post"}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Area Ref"})]}),(0,qh.jsx)("th",{className:"px-3 py-2 border-b text-center",children:"Actions"})]})}),(0,qh.jsx)("tbody",{children:t.map((t,n)=>(0,qh.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:n+1}),(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.name}),"SLM"===e&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.weighting}),(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.responseImpulse}),(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.responseLEQ})]}),"Calibrator"===e&&(0,qh.jsxs)(qh.Fragment,{children:[(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.pre}),(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.during}),(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.post}),(0,qh.jsx)("td",{className:"px-3 py-2 text-center",children:t.areaRef})]}),(0,qh.jsxs)("td",{className:"px-3 py-2 text-center flex justify-center gap-2",children:[(0,qh.jsx)(Gh,{variant:"success",onClick:()=>(e=>{u(e),d(e.id)})(t),disabled:null!==h,children:"Edit"}),(0,qh.jsx)(Gh,{variant:"danger",onClick:()=>b(t.id),disabled:null!==h,children:"Delete"})]})]},t.id))})]})]},e):null}),(0,qh.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:o,children:"Back"}),(0,qh.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)(Gh,{onClick:a,disabled:!k||null!==h||0===n.equipment.length,variant:"primary",children:"Save"}),(0,qh.jsx)(Gh,{onClick:i,disabled:!k||null!==h||0===n.equipment.length,variant:"success",children:"Next"})]}),null!==h&&(0,qh.jsx)("p",{className:"text-sm text-red-500",children:"Finish editing the equipment before saving or continuing."}),0===n.equipment.length&&null===h&&(0,qh.jsx)("p",{className:"text-sm text-red-500",children:"Please add at least one equipment before continuing."})]})]}),(0,qh.jsx)(h_,{open:f,title:"Confirm Delete",message:m,onConfirm:y,onCancel:()=>p(!1)})]})}function f_(e){let{children:t}=e;return(0,qh.jsx)("div",{className:"flex justify-between mt-6",children:t})}function p_(t){let{data:n,onChange:r,onPrev:o,onNext:i,onSave:a,onOpenDetails:c}=t;const l={id:"",name:"",process:"",noiseLevelDb:void 0,noiseType:"",shiftDuration:void 0,exposureTime:void 0,notes:"",detailsCompleted:!1,subAreas:[]},[u,h]=(0,e.useState)(s({},l)),[d,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(s({},l)),[g,y]=(0,e.useState)(null),[v,w]=(0,e.useState)(s({},l)),[b,k]=(0,e.useState)(null),[x,C]=(0,e.useState)(null),[_,S]=(0,e.useState)(null),[T,A]=(0,e.useState)(null),[I,E]=(0,e.useState)(null),[P,R]=(0,e.useState)(null),N=null!==d||null!==g||null!==b,[O,M]=(0,e.useState)(!1),[L,D]=(0,e.useState)(""),[F,j]=(0,e.useState)(()=>{}),B=(e,t)=>{D(t),j(()=>()=>{e(),M(!1)}),M(!0)},U=(e,t)=>(0,qh.jsxs)(Gh,{variant:"secondary",className:"text-sm flex items-center gap-1 ".concat(e?"text-green-600":"text-red-600"),onClick:t,children:[(0,qh.jsx)("span",{className:"font-bold text-xs",children:"i"})," ",e?"Completed":"Details"]}),z=e=>{let t=0;for(const o of e){var n,r;0!==(null!==(n=null===(r=o.subAreas)||void 0===r?void 0:r.length)&&void 0!==n?n:0)||o.detailsCompleted||t++,o.subAreas&&(t+=z(o.subAreas))}return t},q=z(n.areas),H=o_(3,n),K=(e,t,r)=>{if(c)c({main:e,sub:t,ss:r});else{var o,i,a,s,l,u,h,d,f;const c="number"===typeof r?null===(o=n.areas[e])||void 0===o||null===(i=o.subAreas)||void 0===i||null===(a=i[t])||void 0===a||null===(s=a.subAreas)||void 0===s||null===(l=s[r])||void 0===l?void 0:l.name:"number"===typeof t?null===(u=n.areas[e])||void 0===u||null===(h=u.subAreas)||void 0===h||null===(d=h[t])||void 0===d?void 0:d.name:null===(f=n.areas[e])||void 0===f?void 0:f.name;window.alert('Details form not implemented yet. Would open details for "'.concat(null!==c&&void 0!==c?c:"selected area",'".'))}};return(0,qh.jsxs)(Wh,{title:"Area & Noise",children:[(0,qh.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Main Area Name",value:u.name,onChange:e=>h(t=>s(s({},t),{},{name:e})),placeholder:"Enter main area name"})}),(0,qh.jsx)("div",{className:"w-1/2",children:(0,qh.jsx)(Vh,{label:"Process/Task Description",value:u.process||"",onChange:e=>h(t=>s(s({},t),{},{process:e})),placeholder:"Enter process/task description"})})]}),(0,qh.jsx)(Gh,{variant:"primary",onClick:()=>{if(!u.name||!u.process)return;const e=[...n.areas];null!==d?(e[d]=u,f(null)):e.push(s(s({},u),{},{subAreas:[]})),r({areas:e}),h(s({},l))},disabled:!u.name||!u.process,children:null!==d?"Save Changes":"+ Add Main Area"}),n.areas.map((e,t)=>{var o,i;return(0,qh.jsxs)("div",{className:"mt-4 border rounded",children:[(0,qh.jsxs)("button",{type:"button",className:"w-full flex justify-between items-center p-2 bg-gray-100 font-semibold",onClick:()=>C(x===t?null:t),children:[e.name," ",(0,qh.jsx)("span",{children:x===t?"\u25bc":"\u25b6"})]}),x===t&&(0,qh.jsxs)("div",{className:"p-3 ml-4",children:[(0,qh.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>E(t),children:"+ Add Sub-Area"}),0===(null===(o=e.subAreas)||void 0===o?void 0:o.length)&&U(!!e.detailsCompleted,()=>K(t)),(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>{return e=t,h(s({},n.areas[e])),void f(e);var e},children:"Edit"}),(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>{return e=t,void B(()=>{const t=n.areas.filter((t,n)=>n!==e);r({areas:t}),x===e&&C(null)},"Delete this Main Area?");var e},children:"Delete"})]}),(I===t||null!==g)&&(0,qh.jsxs)("div",{className:"mt-2",children:[(0,qh.jsx)(Vh,{label:"Sub-Area Name",value:p.name,onChange:e=>m(s(s({},p),{},{name:e})),placeholder:"Enter sub-area name"}),(0,qh.jsx)(Gh,{variant:"primary",onClick:()=>(e=>{if(!p.name)return;const t=[...n.areas],o=t[e];o.subAreas||(o.subAreas=[]),null!==g?(o.subAreas[g]=p,y(null)):o.subAreas.push(s(s({},p),{},{subAreas:[]})),r({areas:t}),m(s({},l)),E(null)})(t),disabled:!p.name,children:null!==g?"Save Changes":"+ Add Sub-Area"})]}),null===(i=e.subAreas)||void 0===i?void 0:i.map((e,o)=>{var i,a;return(0,qh.jsxs)("div",{className:"ml-6 border rounded mt-2",children:[(0,qh.jsxs)("button",{type:"button",className:"w-full flex justify-between items-center p-2 bg-gray-50 font-semibold",onClick:()=>S(_===o?null:o),children:[e.name," ",(0,qh.jsx)("span",{children:_===o?"\u25bc":"\u25b6"})]}),_===o&&(0,qh.jsxs)("div",{className:"p-3 ml-4",children:[(0,qh.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>R({main:t,sub:o}),children:"+ Add Sub-Sub Area"}),0===(null===(i=e.subAreas)||void 0===i?void 0:i.length)&&U(!!e.detailsCompleted,()=>K(t,o)),(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>((e,t)=>{m(s({},n.areas[e].subAreas[t])),y(t),E(e)})(t,o),children:"Edit"}),(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>((e,t)=>{B(()=>{const o=[...n.areas],i=o[e];i.subAreas&&(i.subAreas=i.subAreas.filter((e,n)=>n!==t),r({areas:o})),_===t&&S(null)},"Delete this Sub Area?")})(t,o),children:"Delete"})]}),(null===P||void 0===P?void 0:P.main)===t&&P.sub===o||null!==b?(0,qh.jsxs)("div",{className:"mt-2",children:[(0,qh.jsx)(Vh,{label:"Sub-Sub Area Name",value:v.name,onChange:e=>w(s(s({},v),{},{name:e})),placeholder:"Enter sub-sub area name"}),(0,qh.jsx)(Gh,{variant:"primary",onClick:()=>((e,t)=>{if(!v.name)return;const o=[...n.areas],i=o[e].subAreas[t];i.subAreas||(i.subAreas=[]),null!==b?(i.subAreas[b]=v,k(null)):i.subAreas.push(v),r({areas:o}),w(s({},l)),R(null)})(t,o),disabled:!v.name,children:null!==b?"Save Changes":"+ Add Sub-Sub Area"})]}):null,null===(a=e.subAreas)||void 0===a?void 0:a.map((e,i)=>(0,qh.jsxs)("div",{className:"ml-6 border rounded mt-2",children:[(0,qh.jsxs)("button",{type:"button",className:"w-full flex justify-between items-center p-2 bg-gray-50 font-semibold",onClick:()=>A(T&&T.main===t&&T.sub===o&&T.ss===i?null:{main:t,sub:o,ss:i}),children:[e.name," ",(0,qh.jsx)("span",{children:T&&T.main===t&&T.sub===o&&T.ss===i?"\u25bc":"\u25b6"})]}),T&&T.main===t&&T.sub===o&&T.ss===i&&(0,qh.jsxs)("div",{className:"p-3 ml-4 flex gap-2",children:[U(!!e.detailsCompleted,()=>K(t,o,i)),(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>((e,t,r)=>{w(s({},n.areas[e].subAreas[t].subAreas[r])),k(r),R({main:e,sub:t})})(t,o,i),children:"Edit"}),(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>((e,t,o)=>{B(()=>{var i;const a=[...n.areas],s=null===(i=a[e].subAreas)||void 0===i?void 0:i[t];null!==s&&void 0!==s&&s.subAreas&&(s.subAreas=s.subAreas.filter((e,t)=>t!==o),r({areas:a})),T&&T.main===e&&T.sub===t&&T.ss===o&&A(null)},"Delete this Sub Sub-Area?")})(t,o,i),children:"Delete"})]})]},i))]})]},o)})]})]},t)}),(0,qh.jsxs)(f_,{children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:o,children:"Back"}),(0,qh.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)(Gh,{variant:"primary",onClick:null!==a&&void 0!==a?a:()=>{},disabled:!H||0===n.areas.length||N,children:"Save"}),(0,qh.jsx)(Gh,{variant:"success",onClick:i,disabled:!H||0===n.areas.length||q>0,children:"Generate Summary"})]}),0===n.areas.length&&(0,qh.jsx)("p",{className:"text-sm text-red-500",children:"Please add at least one Main Area before continuing."}),q>0&&(0,qh.jsxs)("p",{className:"text-sm text-red-500",children:["There are ",q," area(s) uncompleted, please complete areas to continue."]})]})]}),(0,qh.jsx)(h_,{open:O,title:"Confirm Delete",message:L,onConfirm:F,onCancel:()=>M(!1)})]})}function m_(e){let{normalConditions:t,setNormalConditions:n,noiseEntry:r,setNoiseEntry:o,noiseSources:i,setNoiseSources:a,onNext:c,selectedAreaPath:l}=e;const u=e=>{const t=[...i];t.splice(e,1),a(t)},h=r.source.trim()&&r.description.trim()&&r.mit.trim()&&("No"===t||r.type.trim());return(0,qh.jsxs)("div",{className:"space-y-4",children:[l&&(0,qh.jsxs)("p",{className:"text-sm text-gray-500",children:["Editing area: Main ",l.main,void 0!==l.sub?" > Sub ".concat(l.sub):"",void 0!==l.ss?" > Sub-Sub ".concat(l.ss):""]}),(0,qh.jsxs)("div",{children:[(0,qh.jsx)("label",{className:"font-semibold block mb-1",children:"Normal Conditions?"}),(0,qh.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"border rounded px-2 py-1 w-full",children:[(0,qh.jsx)("option",{value:"Yes",children:"Yes"}),(0,qh.jsx)("option",{value:"No",children:"No"})]})]}),(0,qh.jsxs)("div",{children:[(0,qh.jsx)("label",{className:"font-semibold block mb-1",children:"Noise Source"}),(0,qh.jsx)("input",{type:"text",value:r.source,onChange:e=>o(s(s({},r),{},{source:e.target.value})),className:"border rounded px-2 py-1 w-full"})]}),(0,qh.jsxs)("div",{children:[(0,qh.jsx)("label",{className:"font-semibold block mb-1",children:"Description"}),(0,qh.jsx)("textarea",{value:r.description,onChange:e=>o(s(s({},r),{},{description:e.target.value})),className:"border rounded px-2 py-1 w-full"})]}),(0,qh.jsxs)("div",{children:[(0,qh.jsx)("label",{className:"font-semibold block mb-1",children:"Mitigation"}),(0,qh.jsx)("input",{type:"text",value:r.mit,onChange:e=>o(s(s({},r),{},{mit:e.target.value})),className:"border rounded px-2 py-1 w-full"})]}),(0,qh.jsxs)("div",{children:[(0,qh.jsx)("label",{className:"font-semibold block mb-1",children:"Type"}),(0,qh.jsx)("input",{type:"text",value:r.type,onChange:e=>o(s(s({},r),{},{type:e.target.value})),className:"border rounded px-2 py-1 w-full",disabled:"No"===t})]}),(0,qh.jsx)(Gh,{variant:"primary",onClick:()=>{r.source&&r.description&&r.mit&&("Yes"!==t||r.type.trim())&&(a([...i,r]),o({source:"",description:"",mit:"",type:""}))},disabled:!h,children:"+ Add Source"}),i.length>0&&(0,qh.jsxs)("div",{className:"mt-4",children:[(0,qh.jsx)("h4",{className:"font-semibold mb-2",children:"Added Noise Sources"}),(0,qh.jsx)("ul",{className:"list-disc pl-6 space-y-1",children:i.map((e,t)=>(0,qh.jsxs)("li",{className:"flex justify-between items-center",children:[(0,qh.jsxs)("span",{children:[e.source," \u2013 ",e.description," (",e.type,") [",e.mit,"]"]}),(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:()=>(e=>{const t=i[e];o(t),u(e)})(t),children:"Edit"}),(0,qh.jsx)(Gh,{variant:"danger",onClick:()=>u(t),children:"Delete"})]})]},t))})]}),(0,qh.jsx)("div",{className:"flex justify-end mt-4",children:(0,qh.jsx)(Gh,{variant:"success",onClick:c,disabled:0===i.length,children:"Next"})})]})}function g_(t){let{data:n,onChange:r,onBack:o,onNext:i,onSave:a,selectedAreaPath:s}=t;const[c,l]=(0,e.useState)("No"),[u,h]=(0,e.useState)({source:"",description:"",mit:"",type:""}),[d,f]=(0,e.useState)([]),p=d.length>0;return(0,qh.jsxs)(Wh,{title:"",children:[(0,qh.jsx)("h2",{className:"text-xl font-bold text-center mb-6",children:"Noise Sources"}),(0,qh.jsx)(m_,{normalConditions:c,setNormalConditions:l,noiseEntry:u,setNoiseEntry:h,noiseSources:d,setNoiseSources:f,onNext:i,selectedAreaPath:s}),(0,qh.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:o,children:"Back"}),(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)(Gh,{onClick:a,disabled:!p,variant:"primary",children:"Save"}),(0,qh.jsx)(Gh,{onClick:i,disabled:!p,variant:"success",children:"Next"})]})]})]})}var y_=n(450);function v_(e){let{data:t,onPrev:n,onReset:r}=e;const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;return e&&0!==e.length?e.flatMap((e,r)=>{if(n.has(e))return[];n.add(e);const i=t?"".concat(t,".").concat(r+1):"".concat(r+1);return[(0,qh.jsxs)("li",{children:[(0,qh.jsxs)("span",{className:"font-semibold",children:[i,". ",e.name]}),e.noiseLevelDb&&(0,qh.jsxs)("span",{className:"text-sm text-gray-600",children:[" \u2013 ",e.noiseLevelDb," dB (",e.noiseType||"N/A",")"]}),e.shiftDuration&&(0,qh.jsxs)("span",{className:"text-sm text-gray-600",children:[" | Shift: ",e.shiftDuration,"h"]}),e.exposureTime&&(0,qh.jsxs)("span",{className:"text-sm text-gray-600",children:[" | Exposure: ",e.exposureTime,"h"]}),e.notes&&(0,qh.jsxs)("span",{className:"text-sm text-gray-500",children:[" | Notes: ",e.notes]})]},i+e.name),...e.subAreas?o(e.subAreas,i,n):[]]}):[]};return(0,qh.jsxs)(Wh,{title:"Summary",children:[(0,qh.jsx)("pre",{className:"whitespace-pre-wrap bg-gray-50 p-4 rounded-md text-sm",children:a_(t)}),t.areas&&t.areas.length>0&&(0,qh.jsxs)("div",{className:"mt-4",children:[(0,qh.jsx)("h3",{className:"font-semibold mb-2",children:"Areas (Hierarchical)"}),(0,qh.jsx)("ul",{className:"list-disc ml-6",children:o([...t.areas])})]}),(0,qh.jsxs)(f_,{children:[(0,qh.jsx)(Gh,{variant:"secondary",onClick:n,children:"Back"}),(0,qh.jsx)(Gh,{variant:"secondary",onClick:r,children:"Reset"}),(0,qh.jsx)(Gh,{onClick:async()=>{let e;try{const t=await fetch("/Gijima-Logo.png");t.ok&&(e=await t.arrayBuffer())}catch(i){console.warn("Logo not found, continuing without it.")}const n=await c_(t,e),r=new jC({sections:[{properties:{},children:n}]}),o=await r_.toBlob(r);(0,y_.saveAs)(o,"survey-summary.docx")},variant:"success",children:"Download Word"})]})]})}const w_=n.p+"static/media/Gijima-Logo.ee381c9911c0a22846d1.jpg";function b_(t){let{user:n,initialSurvey:r,onExit:o,onSaveSurvey:i}=t;const{instance:a}=Sn(),[c,l]=(0,e.useState)(1),[u,h]=(0,e.useState)(r),[d,f]=(0,e.useState)(null),p=(0,e.useRef)(null),[m,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)(!1),[w,b]=(0,e.useState)(!1),[k,x]=(0,e.useState)(!1),[C,_]=(0,e.useState)(!1),[S,T]=(0,e.useState)(null),A=e=>h(t=>s(s({},t),e)),I=()=>{h(s(s({},zh),{},{id:Date.now().toString()})),l(1),v(!1),f(null)},E=()=>{T(s({},u)),b(!0)};return(0,e.useEffect)(()=>{var e;null===(e=p.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})},[c]),(0,qh.jsx)("div",{ref:p,className:"min-h-screen bg-gray-50",children:(0,qh.jsxs)(Hh,{children:[(0,qh.jsxs)("div",{className:"flex justify-between items-center p-4 border-b bg-white shadow-sm",children:[(0,qh.jsx)("div",{className:"flex items-center space-x-3",children:(0,qh.jsx)("img",{src:w_,alt:"Gijima Logo",className:"h-12 w-auto"})}),(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-md bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition",children:"Start New Survey"}),(0,qh.jsx)("button",{onClick:()=>g(!0),className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm font-medium hover:bg-red-700 transition",children:"Logout"})]})]}),(0,qh.jsx)(Kh,{step:c,totalSteps:5,steps:["Survey","Equipment","Areas & Noise","Noise Sources","Summary"]}),1===c&&(0,qh.jsx)(l_,{data:u,onChange:A,onNext:()=>l(2),onBack:()=>o(u),onSave:E}),2===c&&(0,qh.jsx)(d_,{data:u,onChange:A,onPrev:()=>l(1),onNext:()=>l(3),onSave:E,onDetails:()=>l(4)}),3===c&&(0,qh.jsx)(p_,{data:u,onChange:A,onPrev:()=>l(2),onNext:()=>l(5),onSave:E,onOpenDetails:e=>{f(e),l(4)}}),4===c&&(0,qh.jsx)(g_,{data:u,onChange:A,onBack:()=>l(3),onNext:()=>l(5),onSave:E,selectedAreaPath:d}),5===c&&(0,qh.jsx)(v_,{data:u,onPrev:()=>l(4),onReset:I}),(0,qh.jsx)(h_,{open:m,title:"Confirm Logout",message:"Are you sure you want to log out?",confirmText:"Logout",onConfirm:()=>{o(u),a.logoutPopup(),g(!1)},onCancel:()=>g(!1)}),(0,qh.jsx)(h_,{open:y,title:"Start New Survey",message:"This will clear the current form. Do you want to continue?",confirmText:"Start New",onConfirm:I,onCancel:()=>v(!1)}),(0,qh.jsx)(h_,{open:w,title:"Save Survey",message:"Do you want to save this survey?",confirmText:"Save",onConfirm:()=>{i(u),b(!1),x(!0)},onCancel:()=>b(!1)}),(0,qh.jsx)(h_,{open:k,title:"Survey Saved",message:"\u2705 Survey saved successfully!",confirmText:"OK",onConfirm:()=>x(!1),onCancel:()=>{S&&(h(S),i(S)),x(!1),_(!0)}}),(0,qh.jsx)(h_,{open:C,title:"Survey Not Saved",message:"\u26a0\ufe0f Your survey changes were not saved.",confirmText:"OK",onConfirm:()=>_(!1),onCancel:()=>_(!1)})]})})}function k_(){const{instance:e}=Sn();return(0,qh.jsx)("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:(0,qh.jsxs)("div",{className:"bg-white p-10 rounded-3xl shadow-xl w-96 text-center",children:[(0,qh.jsx)("h2",{className:"text-2xl font-bold mb-4 text-blue-800",children:"Welcome to OH Survey"}),(0,qh.jsx)("p",{className:"text-gray-600 mb-8",children:"Sign in to continue."}),(0,qh.jsxs)("button",{onClick:()=>{e.loginRedirect(Uh).catch(e=>{console.error("Login failed:",e)})},className:"flex items-center justify-center gap-3 w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-all duration-200 shadow-md",children:[(0,qh.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-6",children:[(0,qh.jsx)("rect",{width:"12",height:"12",fill:"#F35325"}),(0,qh.jsx)("rect",{x:"12",width:"12",height:"12",fill:"#81BC06"}),(0,qh.jsx)("rect",{y:"12",width:"12",height:"12",fill:"#05A6F0"}),(0,qh.jsx)("rect",{x:"12",y:"12",width:"12",height:"12",fill:"#FFBA08"})]}),(0,qh.jsx)("span",{className:"text-gray-800 font-semibold",children:"Sign in with Microsoft"})]}),(0,qh.jsxs)("p",{className:"text-gray-400 text-sm mt-6",children:["OH Survey & Automation \xa9 ",(new Date).getFullYear()]})]})})}function x_(t){let{username:n,surveys:r,onNewSurvey:o,onResumeSurvey:i,onDeleteSurvey:a,onLogout:s}=t;const c=n.split("@")[0].replace(/\..*/,""),l=c.charAt(0).toUpperCase()+c.slice(1),u=r.filter(e=>"Completed"===e.status||"Submitted"===e.status).length,h=r.filter(e=>"In Progress"===e.status).length,[d,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),[g,y]=(0,e.useState)(null);return(0,qh.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center py-8",children:[(0,qh.jsxs)(Hh,{children:[(0,qh.jsxs)("div",{className:"flex justify-between items-center mb-8 w-full",children:[(0,qh.jsx)("img",{src:w_,alt:"Gijima Logo",className:"h-12 w-auto"}),(0,qh.jsxs)("div",{className:"flex gap-2",children:[(0,qh.jsx)("button",{onClick:o,className:"px-4 py-2 rounded-md bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition",children:"Start New Survey"}),(0,qh.jsx)("button",{onClick:()=>f(!0),className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm font-medium hover:bg-red-700 transition",children:"Logout"})]})]}),(0,qh.jsxs)("div",{className:"text-xl font-bold text-center mb-6 text-black-700",children:[(0,qh.jsxs)("h2",{className:"text-2xl font-bold text-black-700 mb-2",children:["Welcome, ",l]}),(0,qh.jsx)("p",{className:"text-gray-600 font-medium text-lg",children:"Manage your Occupational Health surveys."})]}),(0,qh.jsxs)("div",{className:"flex justify-center gap-10 mb-8",children:[(0,qh.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qh.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-500 border border-green-600 flex items-center justify-center text-white text-lg font-semibold shadow-sm",children:u}),(0,qh.jsx)("p",{className:"mt-2 text-sm font-bold text-gray-700",children:"Completed"})]}),(0,qh.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qh.jsx)("div",{className:"w-20 h-20 rounded-full bg-yellow-400 border border-yellow-500 flex items-center justify-center text-white text-lg font-semibold shadow-sm",children:h}),(0,qh.jsx)("p",{className:"mt-2 text-sm font-bold text-gray-700",children:"In Progress"})]})]}),(0,qh.jsx)(Wh,{title:"Track Surveys",children:(0,qh.jsx)("div",{className:"w-full",children:r.length>0?(0,qh.jsx)("div",{className:"overflow-x-auto",children:(0,qh.jsxs)("table",{className:"min-w-full table-fixed border border-gray-200 rounded-md",children:[(0,qh.jsxs)("colgroup",{children:[(0,qh.jsx)("col",{className:"w-1/12"}),(0,qh.jsx)("col",{className:"w-3/12"}),(0,qh.jsx)("col",{className:"w-3/12"}),(0,qh.jsx)("col",{className:"w-2/12"}),(0,qh.jsx)("col",{className:"w-3/12"})]}),(0,qh.jsx)("thead",{className:"bg-gray-100",children:(0,qh.jsxs)("tr",{children:[(0,qh.jsx)("th",{className:"px-4 py-2 text-left text-sm font-bold text-black border-b whitespace-nowrap",children:"#"}),(0,qh.jsx)("th",{className:"px-4 py-2 text-left text-sm font-bold text-black border-b",children:"Client"}),(0,qh.jsx)("th",{className:"px-4 py-2 text-left text-sm font-bold text-black border-b",children:"Project"}),(0,qh.jsx)("th",{className:"px-4 py-2 text-left text-sm font-bold text-black border-b",children:"Status"}),(0,qh.jsx)("th",{className:"px-4 py-2 text-left text-sm font-bold text-black border-b",children:"Action"})]})}),(0,qh.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((e,t)=>(0,qh.jsxs)("tr",{children:[(0,qh.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 whitespace-nowrap font-medium",children:t+1}),(0,qh.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 truncate font-medium",children:e.client||"Untitled"}),(0,qh.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 truncate font-medium",children:e.project||"-"}),(0,qh.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 font-medium",children:e.status||"In Progress"}),(0,qh.jsxs)("td",{className:"px-4 py-2 text-sm flex gap-2",children:[(0,qh.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Resume"}),(0,qh.jsx)("button",{onClick:()=>{return t=e.id,y(t),void m(!0);var t},className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Delete"})]})]},e.id))})]})}):(0,qh.jsx)("p",{className:"text-gray-500 mb-4 font-bold",children:"No surveys available."})})})]}),(0,qh.jsx)(h_,{open:d,title:"Confirm Logout",message:"Are you sure you want to log out?",confirmText:"Logout",onConfirm:()=>{f(!1),s()},onCancel:()=>f(!1)}),(0,qh.jsx)(h_,{open:p,title:"Delete Survey",message:"Are you sure you want to delete this survey? This action cannot be undone.",confirmText:"Delete",onConfirm:()=>{g&&a(g),m(!1),y(null)},onCancel:()=>m(!1)})]})}const C_=new jh(Bh);function __(){const{instance:t,inProgress:n}=Sn(),r=Tn(),[o,i]=(0,e.useState)(!1),[a,c]=(0,e.useState)([]),[l,u]=(0,e.useState)(!1),[h,d]=(0,e.useState)(()=>{const e=localStorage.getItem("surveysInProgress");return e?JSON.parse(e):[]}),[f,p]=(0,e.useState)(null);if((0,e.useEffect)(()=>{let e=!0;return(async()=>{try{await t.initialize();const n=await t.handleRedirectPromise(),r=t.getAllAccounts();t.getActiveAccount()||(null!==n&&void 0!==n&&n.account?t.setActiveAccount(n.account):r.length>0&&t.setActiveAccount(r[0])),e&&c(t.getAllAccounts())}catch(n){console.error("MSAL initialization error:",n)}finally{e&&i(!0)}})(),()=>{e=!1}},[t]),!o||"login"===n)return(0,qh.jsx)("div",{className:"flex h-screen items-center justify-center text-xl text-blue-700",children:"Signing you in..."});if(!r||0===a.length)return(0,qh.jsx)(k_,{});const m={username:a[0].username},g=()=>{const e=s(s({},zh),{},{id:Date.now().toString()});p(e),u(!0)},y=e=>{p(e),u(!0)},v=e=>{const t=h.filter(t=>t.id!==e);d(t),localStorage.setItem("surveysInProgress",JSON.stringify(t))},w=()=>{u(!1),t.logoutPopup()};return l&&null!==f?(0,qh.jsx)(b_,{user:m,initialSurvey:f,onExit:e=>{p(null),u(!1)},onSaveSurvey:e=>{const t=[...h.filter(t=>t.id!==e.id),e];d(t),localStorage.setItem("surveysInProgress",JSON.stringify(t))}}):(0,qh.jsx)(x_,{username:m.username,surveys:h,onNewSurvey:g,onResumeSurvey:y,onDeleteSurvey:v,onLogout:w})}function S_(){return(0,qh.jsx)(_n,{instance:C_,children:(0,qh.jsx)(__,{})})}t.createRoot(document.getElementById("root")).render((0,qh.jsx)(e.StrictMode,{children:(0,qh.jsx)(S_,{})}))})()})();
//# sourceMappingURL=main.f6e635ba.js.map